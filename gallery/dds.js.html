<!DOCTYPE html>
      <html>
        <head>
          <title>example/dds.js</title>
          <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
          <meta charset=utf-8>
        </head>
        <body>
        <script type='text/javascript'>
        (function(){function z(N,Za,d){function V(f,a){if(!Za[f]){if(!N[f]){var u="function"==typeof require&&require;if(!a&&u)return u(f,!0);if(p)return p(f,!0);u=Error("Cannot find module '"+f+"'");throw u.code="MODULE_NOT_FOUND",u;}u=Za[f]={exports:{}};N[f][0].call(u.exports,function(a){return V(N[f][1][a]||a)},u,u.exports,z,N,Za,d)}return Za[f].exports}for(var p="function"==typeof require&&require,H=0;H<d.length;H++)V(d[H]);return V}return z})()({1:[function(z,N,Za){var d=z("../regl")({extensions:"WEBGL_compressed_texture_s3tc"}),
V=z("parse-dds");z("resl")({manifest:{diffuse:{type:"binary",src:"assets/alpine_cliff_a.dds",parser:function(p){var H=V(p),f=H.images[0];return d.texture({format:"rgba s3tc "+H.format,shape:H.shape,mag:"linear",data:new Uint8Array(p,f.offset,f.length)})}},specular:{type:"image",src:"assets/alpine_cliff_a_spec.png",parser:function(p){return d.texture({mag:"linear",data:p})}},normals:{type:"image",src:"assets/alpine_cliff_a_norm.png",parser:function(p){return d.texture({mag:"linear",data:p})}}},onDone:function(p){var H=
d({frag:"\n      precision mediump float;\n      uniform sampler2D specular, normals, diffuse;\n      varying vec3 lightDir, eyeDir;\n      varying vec2 uv;\n      void main () {\n        float d = length(lightDir);\n        vec3 L = normalize(lightDir);\n        vec3 E = normalize(eyeDir);\n        vec3 N = normalize(2.0 * texture2D(normals, uv).rgb - 1.0);\n        N = vec3(-N.x, N.yz);\n        vec3 D = texture2D(diffuse, uv).rgb;\n        vec3 kD = D * (0.01 +\n          max(0.0, dot(L, N) * (0.6 + 0.8 / d) ));\n        vec3 S = texture2D(specular, uv).rgb;\n        vec3 kS = 2.0 * pow(max(0.0, dot(normalize(N + L), -E)), 10.0) * S;\n        gl_FragColor = vec4(kD + kS, 1);\n      }",
vert:"\n      precision mediump float;\n      attribute vec2 position;\n      uniform vec2 lightPosition;\n      varying vec3 lightDir, eyeDir;\n      varying vec2 uv;\n      void main () {\n        vec2 P = 1.0 - 2.0 * position;\n        uv = vec2(position.x, 1.0 - position.y);\n        eyeDir = -vec3(P, 1);\n        lightDir = vec3(lightPosition - P, 1);\n        gl_Position = vec4(P, 0, 1);\n      }",attributes:{position:[-2,0,0,-2,2,2]},uniforms:{specular:p.specular,normals:p.normals,diffuse:p.diffuse,
lightPosition:function(f){f=.025*f.tick;return[2*Math.cos(f),2*Math.sin(f)]}},count:3});d.frame(function(){H()})}})},{"../regl":40,"parse-dds":38,resl:39}],2:[function(z,N,Za){function d(){this.w=this.z=this.y=this.x=this.state=0;this.buffer=null;this.size=0;this.normalized=!1;this.type=5126;this.divisor=this.stride=this.offset=0}var V=z("./util/sorted-object-keys"),p=z("./util/check"),H=z("./util/values"),f=z("./constants/dtypes.json"),a=z("./util/is-typed-array"),u=z("./util/is-ndarray"),c=z("./constants/primitives.json"),
r="attributes elements offset count primitive instances".split(" ");N.exports=function(ga,ka,F,B,t,A,I){function y(a){if(a!==Q.currentVAO){var c=ka.oes_vertex_array_object;a?c.bindVertexArrayOES(a.vao):c.bindVertexArrayOES(null);Q.currentVAO=a}}function E(a){if(a!==Q.currentVAO){if(a)a.bindAttrs();else{for(var c=ka.angle_instanced_arrays,f=0;f<h.length;++f){var g=h[f];g.buffer?(ga.enableVertexAttribArray(f),g.buffer.bind(),ga.vertexAttribPointer(f,g.size,g.type,g.normalized,g.stride,g.offfset),c&&
g.divisor&&c.vertexAttribDivisorANGLE(f,g.divisor)):(ga.disableVertexAttribArray(f),ga.vertexAttrib4f(f,g.x,g.y,g.z,g.w))}I.elements?ga.bindBuffer(34963,I.elements.buffer.buffer):ga.bindBuffer(34963,null)}Q.currentVAO=a}}function Z(){H(q).forEach(function(a){a.destroy()})}function G(){this.id=++g;this.attributes=[];this.elements=null;this.ownsElements=!1;this.offset=this.count=0;this.instances=-1;this.primitive=4;var a=ka.oes_vertex_array_object;this.vao=a?a.createVertexArrayOES():null;q[this.id]=
this;this.buffers=[]}function pc(){ka.oes_vertex_array_object&&H(q).forEach(function(a){a.refresh()})}var k=F.maxAttributes,h=Array(k);for(F=0;F<k;++F)h[F]=new d;var g=0,q={},Q={Record:d,scope:{},state:h,currentVAO:null,targetVAO:null,restore:ka.oes_vertex_array_object?pc:function(){},createVAO:function(g){function m(g){var R;if(Array.isArray(g))R=g,h.elements&&h.ownsElements&&h.elements.destroy(),h.elements=null,h.ownsElements=!1,h.offset=0,h.count=0,h.instances=-1,h.primitive=4;else{p("object"===
typeof g,"invalid arguments for create vao");p("attributes"in g,"must specify attributes for vao");if(g.elements){var b=g.elements;h.ownsElements?("function"===typeof b&&"elements"===b._reglType?h.elements.destroy():h.elements(b),h.ownsElements=!1):A.getElements(g.elements)?(h.elements=g.elements,h.ownsElements=!1):(h.elements=A.create(g.elements),h.ownsElements=!0)}else h.elements=null,h.ownsElements=!1;R=g.attributes;h.offset=0;h.count=-1;h.instances=-1;h.primitive=4;h.elements&&(h.count=h.elements._elements.vertCount,
h.primitive=h.elements._elements.primType);"offset"in g&&(h.offset=g.offset|0);"count"in g&&(h.count=g.count|0);"instances"in g&&(h.instances=g.instances|0);"primitive"in g&&(p(g.primitive in c,"bad primitive type: "+g.primitive),h.primitive=c[g.primitive]);p.optional(function(){for(var b=V(g),a=0;a<b.length;++a)p(0<=r.indexOf(b[a]),'invalid option for vao: "'+b[a]+'" valid options are '+r)});p(Array.isArray(R),"attributes must be an array")}p(R.length<k,"too many attributes");p(0<R.length,"must specify at least one attribute");
var b={},e=h.attributes;e.length=R.length;for(var ba=0;ba<R.length;++ba){var q=R[ba],y=e[ba]=new d,Q=q.data||q;if(Array.isArray(Q)||a(Q)||u(Q)){var E;h.buffers[ba]&&(E=h.buffers[ba],a(Q)&&E._buffer.byteLength>=Q.byteLength?E.subdata(Q):(E.destroy(),h.buffers[ba]=null));h.buffers[ba]||(E=h.buffers[ba]=t.create(q,34962,!1,!0));y.buffer=t.getBuffer(E);y.size=y.buffer.dimension|0;y.normalized=!1;y.type=y.buffer.dtype;y.offset=0;y.stride=0;y.divisor=0;y.state=1;b[ba]=1}else t.getBuffer(q)?(y.buffer=t.getBuffer(q),
y.size=y.buffer.dimension|0,y.normalized=!1,y.type=y.buffer.dtype,y.offset=0,y.stride=0,y.divisor=0,y.state=1):t.getBuffer(q.buffer)?(y.buffer=t.getBuffer(q.buffer),y.size=(+q.size||y.buffer.dimension)|0,y.normalized=!!q.normalized||!1,"type"in q?(p.parameter(q.type,f,"invalid buffer type"),y.type=f[q.type]):y.type=y.buffer.dtype,y.offset=(q.offset||0)|0,y.stride=(q.stride||0)|0,y.divisor=(q.divisor||0)|0,y.state=1,p(1<=y.size&&4>=y.size,"size must be between 1 and 4"),p(0<=y.offset,"invalid offset"),
p(0<=y.stride&&255>=y.stride,"stride must be between 0 and 255"),p(0<=y.divisor,"divisor must be positive"),p(!y.divisor||!!ka.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in q?(p(0<ba,"first attribute must not be a constant"),y.x=+q.x||0,y.y=+q.y||0,y.z=+q.z||0,y.w=+q.w||0,y.state=2):p(!1,"invalid attribute spec for location "+ba)}for(E=0;E<h.buffers.length;++E)!b[E]&&h.buffers[E]&&(h.buffers[E].destroy(),h.buffers[E]=null);h.refresh();return m}var h=new G;
B.vaoCount+=1;m.destroy=function(){for(var a=0;a<h.buffers.length;++a)h.buffers[a]&&h.buffers[a].destroy();h.buffers.length=0;h.ownsElements&&(h.elements.destroy(),h.elements=null,h.ownsElements=!1);h.destroy()};m._vao=h;m._reglType="vao";return m(g)},getVAO:function(a){return"function"===typeof a&&a._vao?a._vao:null},destroyBuffer:function(a){for(var c=0;c<h.length;++c){var g=h[c];g.buffer===a&&(ga.disableVertexAttribArray(c),g.buffer=null)}},setVAO:ka.oes_vertex_array_object?y:E,clear:ka.oes_vertex_array_object?
Z:function(){}};G.prototype.bindAttrs=function(){for(var a=ka.angle_instanced_arrays,c=this.attributes,g=0;g<c.length;++g){var f=c[g];f.buffer?(ga.enableVertexAttribArray(g),ga.bindBuffer(34962,f.buffer.buffer),ga.vertexAttribPointer(g,f.size,f.type,f.normalized,f.stride,f.offset),a&&f.divisor&&a.vertexAttribDivisorANGLE(g,f.divisor)):(ga.disableVertexAttribArray(g),ga.vertexAttrib4f(g,f.x,f.y,f.z,f.w))}for(a=c.length;a<k;++a)ga.disableVertexAttribArray(a);(a=A.getElements(this.elements))?ga.bindBuffer(34963,
a.buffer.buffer):ga.bindBuffer(34963,null)};G.prototype.refresh=function(){var a=ka.oes_vertex_array_object;a&&(a.bindVertexArrayOES(this.vao),this.bindAttrs(),Q.currentVAO=null,a.bindVertexArrayOES(null))};G.prototype.destroy=function(){if(this.vao){var a=ka.oes_vertex_array_object;this===Q.currentVAO&&(Q.currentVAO=null,a.bindVertexArrayOES(null));a.deleteVertexArrayOES(this.vao);this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1);q[this.id]&&(delete q[this.id],
--B.vaoCount)};return Q}},{"./constants/dtypes.json":5,"./constants/primitives.json":6,"./util/check":21,"./util/is-ndarray":28,"./util/is-typed-array":30,"./util/sorted-object-keys":34,"./util/values":36}],3:[function(z,N,Za){function d(a){return F[Object.prototype.toString.call(a)]|0}function V(a,c){for(var f=0;f<c.length;++f)a[f]=c[f]}function p(a,c,f,u,d,r,k){for(var h=0,g=0;g<f;++g)for(var q=0;q<u;++q)a[h++]=c[d*g+r*q+k]}var H=z("./util/sorted-object-keys"),f=z("./util/check"),a=z("./util/is-typed-array"),
u=z("./util/is-ndarray"),c=z("./util/values"),r=z("./util/pool");Za=z("./util/flatten");var ga=Za.flatten,ka=Za.shape,F=z("./constants/arraytypes.json"),B=z("./constants/dtypes.json"),t=z("./constants/usage.json"),A=[];A[5120]=1;A[5122]=2;A[5124]=4;A[5121]=1;A[5123]=2;A[5125]=4;A[5126]=4;N.exports=function(F,y,E,Z){function G(a){this.id=g++;this.buffer=F.createBuffer();this.type=a;this.usage=35044;this.byteLength=0;this.dimension=1;this.dtype=5121;this.persistentData=null;E.profile&&(this.stats={size:0})}
function pc(a,c,f){a.byteLength=c.byteLength;F.bufferData(a.type,c,f)}function k(c,g,h,k,q,b){c.usage=h;if(Array.isArray(g)){if(c.dtype=k||5126,0<g.length)if(Array.isArray(g[0])){q=ka(g);for(var e=k=1;e<q.length;++e)k*=q[e];c.dimension=k;g=ga(g,q,c.dtype);pc(c,g,h);b?c.persistentData=g:r.freeType(g)}else"number"===typeof g[0]?(c.dimension=q,q=r.allocType(c.dtype,g.length),V(q,g),pc(c,q,h),b?c.persistentData=q:r.freeType(q)):a(g[0])?(c.dimension=g[0].length,c.dtype=k||d(g[0])||5126,g=ga(g,[g.length,
g[0].length],c.dtype),pc(c,g,h),b?c.persistentData=g:r.freeType(g)):f.raise("invalid buffer data")}else if(a(g))c.dtype=k||d(g),c.dimension=q,pc(c,g,h),b&&(c.persistentData=new Uint8Array(new Uint8Array(g.buffer)));else if(u(g)){q=g.shape;var ba=g.stride,e=g.offset,y=0,t=0,Q=0,E=0;1===q.length?(y=q[0],t=1,Q=ba[0],E=0):2===q.length?(y=q[0],t=q[1],Q=ba[0],E=ba[1]):f.raise("invalid shape");c.dtype=k||d(g.data)||5126;c.dimension=t;q=r.allocType(c.dtype,y*t);p(q,g.data,y,t,Q,E,e);pc(c,q,h);b?c.persistentData=
q:r.freeType(q)}else g instanceof ArrayBuffer?(c.dtype=5121,c.dimension=q,pc(c,g,h),b&&(c.persistentData=new Uint8Array(new Uint8Array(g)))):f.raise("invalid buffer data")}function h(a){y.bufferCount--;Z(a);var c=a.buffer;f(c,"buffer must not be deleted already");F.deleteBuffer(c);a.buffer=null;delete q[a.id]}var g=0,q={};G.prototype.bind=function(){F.bindBuffer(this.type,this.buffer)};G.prototype.destroy=function(){h(this)};var Q=[];E.profile&&(y.getTotalBufferSize=function(){var a=0;H(q).forEach(function(c){a+=
q[c].stats.size});return a});return{create:function(c,g,Q,J){function Z(c){var b=35044,g=null,h=0,m=0,q=1;Array.isArray(c)||a(c)||u(c)||c instanceof ArrayBuffer?g=c:"number"===typeof c?h=c|0:c&&(f.type(c,"object","buffer arguments must be an object, a number or an array"),"data"in c&&(f(null===g||Array.isArray(g)||a(g)||u(g),"invalid data for buffer"),g=c.data),"usage"in c&&(f.parameter(c.usage,t,"invalid buffer usage"),b=t[c.usage]),"type"in c&&(f.parameter(c.type,B,"invalid buffer type"),m=B[c.type]),
"dimension"in c&&(f.type(c.dimension,"number","invalid dimension"),q=c.dimension|0),"length"in c&&(f.nni(h,"buffer length must be a nonnegative integer"),h=c.length|0));e.bind();g?k(e,g,b,m,q,J):(h&&F.bufferData(e.type,h,b),e.dtype=m||5121,e.usage=b,e.dimension=q,e.byteLength=h);E.profile&&(e.stats.size=e.byteLength*A[e.dtype]);return Z}function b(c,a){f(a+c.byteLength<=e.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+c.byteLength+" starting from offset "+
a+" to a buffer of size "+e.byteLength);F.bufferSubData(e.type,a,c)}y.bufferCount++;var e=new G(g);q[e.id]=e;Q||Z(c);Z._reglType="buffer";Z._buffer=e;Z.subdata=function(c,g){var h=(g||0)|0,m;e.bind();if(a(c)||c instanceof ArrayBuffer)b(c,h);else if(Array.isArray(c)){if(0<c.length)if("number"===typeof c[0]){var k=r.allocType(e.dtype,c.length);V(k,c);b(k,h);r.freeType(k)}else Array.isArray(c[0])||a(c[0])?(m=ka(c),k=ga(c,m,e.dtype),b(k,h),r.freeType(k)):f.raise("invalid buffer data")}else if(u(c)){m=
c.shape;var q=c.stride,y=k=0,t=0,Q=0;1===m.length?(k=m[0],y=1,t=q[0],Q=0):2===m.length?(k=m[0],y=m[1],t=q[0],Q=q[1]):f.raise("invalid shape");m=Array.isArray(c.data)?e.dtype:d(c.data);m=r.allocType(m,k*y);p(m,c.data,k,y,t,Q,c.offset);b(m,h);r.freeType(m)}else f.raise("invalid data for buffer subdata");return Z};E.profile&&(Z.stats=e.stats);Z.destroy=function(){h(e)};return Z},createStream:function(c,a){var g=Q.pop();g||(g=new G(c));g.bind();k(g,a,35040,0,1,!1);return g},destroyStream:function(c){Q.push(c)},
clear:function(){c(q).forEach(h);Q.forEach(h)},getBuffer:function(c){return c&&c._buffer instanceof G?c._buffer:null},restore:function(){c(q).forEach(function(c){c.buffer=F.createBuffer();F.bindBuffer(c.type,c.buffer);F.bufferData(c.type,c.persistentData||c.byteLength,c.usage)})},_initBuffer:k}}},{"./constants/arraytypes.json":4,"./constants/dtypes.json":5,"./constants/usage.json":7,"./util/check":21,"./util/flatten":26,"./util/is-ndarray":28,"./util/is-typed-array":30,"./util/pool":32,"./util/sorted-object-keys":34,
"./util/values":36}],4:[function(z,N,Za){N.exports={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121}},{}],5:[function(z,N,Za){N.exports={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126}},{}],6:[function(z,N,Za){N.exports=
{points:0,point:0,lines:1,line:1,"line loop":2,"line strip":3,triangles:4,triangle:4,"triangle strip":5,"triangle fan":6}},{}],7:[function(z,N,Za){N.exports={"static":35044,dynamic:35048,stream:35040}},{}],8:[function(z,N,Za){function d(c){return Array.isArray(c)||F(c)||B(c)}function V(c){return c.sort(function(c,a){return"viewport"===c?-1:"viewport"===a?1:c<a?-1:1})}function p(c,a,g,f){this.thisDep=c;this.contextDep=a;this.propDep=g;this.append=f}function H(c){return c&&!(c.thisDep||c.contextDep||
c.propDep)}function f(c){return new p(!1,!1,!1,c)}function a(c,a){var g=c.type;if(0===g)return g=c.data.length,new p(!0,1<=g,2<=g,a);if(4===g)return g=c.data,new p(g.thisDep,g.contextDep,g.propDep,a);if(5===g)return new p(!1,!1,!1,a);if(6===g){for(var f=g=!1,h=!1,b=0;b<c.data.length;++b){var e=c.data[b];1===e.type?h=!0:2===e.type?f=!0:3===e.type?g=!0:0===e.type?(g=!0,e=e.data,1<=e&&(f=!0),2<=e&&(h=!0)):4===e.type&&(g=g||e.data.thisDep,f=f||e.data.contextDep,h=h||e.data.propDep)}return new p(g,f,h,
a)}return new p(3===g,2===g,1===g,a)}var u=z("./util/sorted-object-keys"),c=z("./util/check"),r=z("./util/extend"),ga=z("./util/codegen"),ka=z("./util/loop"),F=z("./util/is-typed-array"),B=z("./util/is-ndarray"),t=z("./util/is-array-like"),A=z("./dynamic"),I=z("./constants/primitives.json"),y=z("./constants/dtypes.json"),E=["x","y","z","w"],Z="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),G={0:0,1:1,zero:0,
one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},pc="constant color, constant alpha;one minus constant color, constant alpha;constant color, one minus constant alpha;one minus constant color, one minus constant alpha;constant alpha, constant color;constant alpha, one minus constant color;one minus constant alpha, constant color;one minus constant alpha, one minus constant color".split(";"),
k={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},h={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},g={frag:35632,vert:35633},q={cw:2304,ccw:2305},Q=new p(!1,!1,!1,function(){});N.exports=function(F,m,B,J,fa,b,e,ba,na,xe,yb,Bb,ma,Pa,Y){function K(c){return c.replace(".","_")}function M(c,n,a){var b=K(c);
da.push(c);w[b]=D[b]=!!a;S[b]=n}function T(c,n,a){var b=K(c);da.push(c);Array.isArray(a)?(D[b]=a.slice(),w[b]=a.slice()):D[b]=w[b]=a;ya[b]=n}function qa(){var a=ga(),n=a.link,b=a.global;a.id=jc++;a.batchId="0";var g=n(oa),f=a.shared={props:"a0"};u(oa).forEach(function(c){f[c]=b.def(g,".",c)});c.optional(function(){a.CHECK=n(c);a.commandStr=c.guessCommand();a.command=n(a.commandStr);a.assert=function(c,a,b){c("if(!(",a,"))",this.CHECK,".commandRaise(",n(b),",",this.command,");")};l.invalidBlendCombinations=
pc});var S=a.next={},h=a.current={};u(ya).forEach(function(c){Array.isArray(D[c])&&(S[c]=b.def(f.next,".",c),h[c]=b.def(f.current,".",c))});var e=a.constants={};u(l).forEach(function(c){e[c]=b.def(JSON.stringify(l[c]))});a.invoke=function(c,b){switch(b.type){case 0:var g=["this",f.context,f.props,a.batchId];return c.def(n(b.data),".call(",g.slice(0,Math.max(b.data.length+1,4)),")");case 1:return c.def(f.props,b.data);case 2:return c.def(f.context,b.data);case 3:return c.def("this",b.data);case 4:return b.data.append(a,
c),b.data.ref;case 5:return b.data.toString();case 6:return b.data.map(function(n){return a.invoke(c,n)})}};a.attribCache={};var cd={};a.scopeAttrib=function(c){c=m.id(c);if(c in cd)return cd[c];var a=xe.scope[c];a||(a=xe.scope[c]=new ia);return cd[c]=n(a)};return a}function O(c){var n=c["static"];c=c.dynamic;var b;if("profile"in n){var g=!!n.profile;b=f(function(c,a){return g});b.enable=g}else if("profile"in c){var l=c.profile;b=a(l,function(c,a){return c.invoke(a,l)})}return b}function z(b,n){var g=
b["static"],l=b.dynamic;if("framebuffer"in g){var S=g.framebuffer;return S?(S=ba.getFramebuffer(S),c.command(S,"invalid framebuffer object"),f(function(c,a){var n=c.link(S),b=c.shared;a.set(b.framebuffer,".next",n);b=b.context;a.set(b,".framebufferWidth",n+".width");a.set(b,".framebufferHeight",n+".height");return n})):f(function(c,a){var n=c.shared;a.set(n.framebuffer,".next","null");n=n.context;a.set(n,".framebufferWidth",n+".drawingBufferWidth");a.set(n,".framebufferHeight",n+".drawingBufferHeight");
return"null"})}if("framebuffer"in l){var h=l.framebuffer;return a(h,function(a,n){var b=a.invoke(n,h),g=a.shared,l=g.framebuffer,f=n.def(l,".getFramebuffer(",b,")");c.optional(function(){a.assert(n,"!"+b+"||"+f,"invalid framebuffer object")});n.set(l,".next",f);g=g.context;n.set(g,".framebufferWidth",f+"?"+f+".width:"+g+".drawingBufferWidth");n.set(g,".framebufferHeight",f+"?"+f+".height:"+g+".drawingBufferHeight");return f})}return null}function $a(b,n,g){function l(b){if(b in f){var X=f[b];c.commandType(X,
"object","invalid "+b,g.commandStr);var h=!0,e=X.x|0,k=X.y|0,m,q;"width"in X?(m=X.width|0,c.command(0<=m,"invalid "+b,g.commandStr)):h=!1;"height"in X?(q=X.height|0,c.command(0<=q,"invalid "+b,g.commandStr)):h=!1;return new p(!h&&n&&n.thisDep,!h&&n&&n.contextDep,!h&&n&&n.propDep,function(c,a){var b=c.shared.context,n=m;"width"in X||(n=a.def(b,".","framebufferWidth","-",e));var g=q;"height"in X||(g=a.def(b,".","framebufferHeight","-",k));return[e,k,n,g]})}if(b in S){var w=S[b],h=a(w,function(a,n){var g=
a.invoke(n,w);c.optional(function(){a.assert(n,g+"&&typeof "+g+'==="object"',"invalid "+b)});var l=a.shared.context,f=n.def(g,".x|0"),X=n.def(g,".y|0"),h=n.def('"width" in ',g,"?",g,".width|0:","(",l,".","framebufferWidth","-",f,")"),S=n.def('"height" in ',g,"?",g,".height|0:","(",l,".","framebufferHeight","-",X,")");c.optional(function(){a.assert(n,h+">=0&&"+S+">=0","invalid "+b)});return[f,X,h,S]});n&&(h.thisDep=h.thisDep||n.thisDep,h.contextDep=h.contextDep||n.contextDep,h.propDep=h.propDep||n.propDep);
return h}return n?new p(n.thisDep,n.contextDep,n.propDep,function(c,a){var n=c.shared.context;return[0,0,a.def(n,".","framebufferWidth"),a.def(n,".","framebufferHeight")]}):null}var f=b["static"],S=b.dynamic;if(b=l("viewport")){var h=b;b=new p(b.thisDep,b.contextDep,b.propDep,function(c,a){var n=h.append(c,a),b=c.shared.context;a.set(b,".viewportWidth",n[2]);a.set(b,".viewportHeight",n[3]);return n})}return{viewport:b,scissor_box:l("scissor.box")}}function P(a,n){var b=a["static"];if("string"===typeof b.frag&&
"string"===typeof b.vert){if(0<u(n.dynamic).length)return null;var b=n["static"],g=u(b);if(0<g.length&&"number"===typeof b[g[0]]){for(var l=[],f=0;f<g.length;++f)c("number"===typeof b[g[f]],"must specify all vertex attribute locations when using vaos"),l.push([b[g[f]]|0,g[f]]);return l}}return null}function x(b,n,l){function h(b){if(b in S){var n=m.id(S[b]);c.optional(function(){yb.shader(g[b],n,c.guessCommand())});var l=f(function(){return n});l.id=n;return l}if(b in e){var X=e[b];return a(X,function(a,
n){var l=a.invoke(n,X),f=n.def(a.shared.strings,".id(",l,")");c.optional(function(){n(a.shared.shader,".shader(",g[b],",",f,",",a.command,");")});return f})}return null}var S=b["static"],e=b.dynamic,k=h("frag"),q=h("vert"),cd=null;H(k)&&H(q)?(cd=yb.program(q.id,k.id,null,l),b=f(function(c,a){return c.link(cd)})):b=new p(k&&k.thisDep||q&&q.thisDep,k&&k.contextDep||q&&q.contextDep,k&&k.propDep||q&&q.propDep,function(a,b){var n=a.shared.shader,g;g=k?k.append(a,b):b.def(n,".","frag");var l;l=q?q.append(a,
b):b.def(n,".","vert");var f=n+".program("+l+","+g;c.optional(function(){f+=","+a.command});return b.def(f+")")});return{frag:k,vert:q,progVar:b,program:cd}}function la(g,n){function l(b,g){if(b in h){var X=h[b]|0;g?e.offset=X:e.instances=X;c.command(!g||0<=X,"invalid "+b,n.commandStr);return f(function(c,a){g&&(c.OFFSET=X);return X})}if(b in S){var sd=S[b];return a(sd,function(a,n){var l=a.invoke(n,sd);g&&(a.OFFSET=l,c.optional(function(){a.assert(n,l+">=0","invalid "+b)}));return l})}if(g){if(cd)return f(function(c,
a){return c.OFFSET=0});if(k)return new p(m.thisDep,m.contextDep,m.propDep,function(c,a){return a.def(c.shared.vao+".currentVAO?"+c.shared.vao+".currentVAO.offset:0")})}else if(k)return new p(m.thisDep,m.contextDep,m.propDep,function(c,a){return a.def(c.shared.vao+".currentVAO?"+c.shared.vao+".currentVAO.instances:-1")});return null}var h=g["static"],S=g.dynamic,e={},k=!1,m=function(){if("vao"in h){var c=h.vao;null!==c&&null===xe.getVAO(c)&&(c=xe.createVAO(c));k=!0;e.vao=c;return f(function(a){var b=
xe.getVAO(c);return b?a.link(b):"null"})}if("vao"in S){k=!0;var b=S.vao;return a(b,function(c,a){var n=c.invoke(a,b);return a.def(c.shared.vao+".getVAO("+n+")")})}return null}(),cd=!1,q=function(){if("elements"in h){var g=h.elements;e.elements=g;if(d(g)){var l=e.elements=b.create(g,!0),g=b.getElements(l);cd=!0}else g&&(g=b.getElements(g),cd=!0,c.command(g,"invalid elements",n.commandStr));l=f(function(c,a){if(g){var b=c.link(g);return c.ELEMENTS=b}return c.ELEMENTS=null});l.value=g;return l}if("elements"in
S){cd=!0;var X=S.elements;return a(X,function(a,b){var n=a.shared,g=n.isBufferArgs,n=n.elements,l=a.invoke(b,X),f=b.def("null"),g=b.def(g,"(",l,")"),h=a.cond(g).then(f,"=",n,".createStream(",l,");")["else"](f,"=",n,".getElements(",l,");");c.optional(function(){a.assert(h["else"],"!"+l+"||"+f,"invalid elements")});b.entry(h);b.exit(a.cond(g).then(n,".destroyStream(",f,");"));return a.ELEMENTS=f})}return k?new p(m.thisDep,m.contextDep,m.propDep,function(c,a){return a.def(c.shared.vao+".currentVAO?"+
c.shared.elements+".getElements("+c.shared.vao+".currentVAO.elements):null")}):null}(),sd=l("offset",!0),w=function(){if("primitive"in h){var b=h.primitive;e.primitive=b;c.commandParameter(b,I,"invalid primitve",n.commandStr);return f(function(c,a){return I[b]})}if("primitive"in S){var g=S.primitive;return a(g,function(a,b){var n=a.constants.primTypes,l=a.invoke(b,g);c.optional(function(){a.assert(b,l+" in "+n,"invalid primitive, must be one of "+u(I))});return b.def(n,"[",l,"]")})}return cd?H(q)?
q.value?f(function(c,a){return a.def(c.ELEMENTS,".primType")}):f(function(){return 4}):new p(q.thisDep,q.contextDep,q.propDep,function(c,a){var b=c.ELEMENTS;return a.def(b,"?",b,".primType:",4)}):k?new p(m.thisDep,m.contextDep,m.propDep,function(c,a){return a.def(c.shared.vao+".currentVAO?"+c.shared.vao+".currentVAO.primitive:4")}):null}(),x=function(){if("count"in h){var b=h.count|0;e.count=b;c.command("number"===typeof b&&0<=b,"invalid vertex count",n.commandStr);return f(function(){return b})}if("count"in
S){var g=S.count;return a(g,function(a,b){var n=a.invoke(b,g);c.optional(function(){a.assert(b,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")});return n})}if(cd){if(H(q)){if(q)return sd?new p(sd.thisDep,sd.contextDep,sd.propDep,function(a,b){var n=b.def(a.ELEMENTS,".vertCount-",a.OFFSET);c.optional(function(){a.assert(b,n+">=0","invalid vertex offset/element buffer too small")});return n}):f(function(c,a){return a.def(c.ELEMENTS,".vertCount")});var l=f(function(){return-1});
c.optional(function(){l.MISSING=!0});return l}var X=new p(q.thisDep||sd.thisDep,q.contextDep||sd.contextDep,q.propDep||sd.propDep,function(c,a){var b=c.ELEMENTS;return c.OFFSET?a.def(b,"?",b,".vertCount-",c.OFFSET,":-1"):a.def(b,"?",b,".vertCount:-1")});c.optional(function(){X.DYNAMIC=!0});return X}return k?new p(m.thisDep,m.contextDep,m.propDep,function(c,a){return a.def(c.shared.vao,".currentVAO?",c.shared.vao,".currentVAO.count:-1")}):null}(),oa=l("instances",!1);return{elements:q,primitive:w,
count:x,instances:oa,offset:sd,vao:m,vaoActive:k,elementsActive:cd,"static":e}}function ca(b,n){var g=b["static"],l=b.dynamic,S={};da.forEach(function(b){function X(c,n){if(b in g){var h=c(g[b]);S[e]=f(function(){return h})}else if(b in l){var k=l[b];S[e]=a(k,function(c,b){return n(c,b,c.invoke(b,k))})}}var e=K(b);switch(b){case "cull.enable":case "blend.enable":case "dither":case "stencil.enable":case "depth.enable":case "scissor.enable":case "polygonOffset.enable":case "sample.alpha":case "sample.enable":case "depth.mask":return X(function(a){c.commandType(a,
"boolean",b,n.commandStr);return a},function(a,n,g){c.optional(function(){a.assert(n,"typeof "+g+'==="boolean"',"invalid flag "+b,a.commandStr)});return g});case "depth.func":return X(function(a){c.commandParameter(a,k,"invalid "+b,n.commandStr);return k[a]},function(a,n,g){var l=a.constants.compareFuncs;c.optional(function(){a.assert(n,g+" in "+l,"invalid "+b+", must be one of "+u(k))});return n.def(l,"[",g,"]")});case "depth.range":return X(function(b){c.command(t(b)&&2===b.length&&"number"===typeof b[0]&&
"number"===typeof b[1]&&b[0]<=b[1],"depth range is 2d array",n.commandStr);return b},function(b,a,n){c.optional(function(){b.assert(a,b.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")});var g=a.def("+",n,"[0]"),l=a.def("+",n,"[1]");return[g,l]});case "blend.func":return X(function(b){c.commandType(b,"object","blend.func",n.commandStr);var a="srcRGB"in b?b.srcRGB:b.src,g="srcAlpha"in b?b.srcAlpha:
b.src,l="dstRGB"in b?b.dstRGB:b.dst;b="dstAlpha"in b?b.dstAlpha:b.dst;c.commandParameter(a,G,e+".srcRGB",n.commandStr);c.commandParameter(g,G,e+".srcAlpha",n.commandStr);c.commandParameter(l,G,e+".dstRGB",n.commandStr);c.commandParameter(b,G,e+".dstAlpha",n.commandStr);c.command(-1===pc.indexOf(a+", "+l),"unallowed blending combination (srcRGB, dstRGB) = ("+a+", "+l+")",n.commandStr);return[G[a],G[l],G[g],G[b]]},function(a,n,g){function l(X,h){var S=n.def('"',X,h,'" in ',g,"?",g,".",X,h,":",g,".",
X);c.optional(function(){a.assert(n,S+" in "+f,"invalid "+b+"."+X+h+", must be one of "+u(G))});return S}var f=a.constants.blendFuncs;c.optional(function(){a.assert(n,g+"&&typeof "+g+'==="object"',"invalid blend func, must be an object")});var X=l("src","RGB"),h=l("dst","RGB");c.optional(function(){a.assert(n,a.constants.invalidBlendCombinations+".indexOf("+X+'+", "+'+h+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var S=n.def(f,"[",X,"]"),e=n.def(f,"[",l("src","Alpha"),"]"),
k=n.def(f,"[",h,"]"),m=n.def(f,"[",l("dst","Alpha"),"]");return[S,k,e,m]});case "blend.equation":return X(function(a){if("string"===typeof a)return c.commandParameter(a,ua,"invalid "+b,n.commandStr),[ua[a],ua[a]];if("object"===typeof a)return c.commandParameter(a.rgb,ua,b+".rgb",n.commandStr),c.commandParameter(a.alpha,ua,b+".alpha",n.commandStr),[ua[a.rgb],ua[a.alpha]];c.commandRaise("invalid blend.equation",n.commandStr)},function(a,n,g){var l=a.constants.blendEquations,f=n.def(),X=n.def(),h=a.cond("typeof ",
g,'==="string"');c.optional(function(){function c(b,n,g){a.assert(b,g+" in "+l,"invalid "+n+", must be one of "+u(ua))}c(h.then,b,g);a.assert(h["else"],g+"&&typeof "+g+'==="object"',"invalid "+b);c(h["else"],b+".rgb",g+".rgb");c(h["else"],b+".alpha",g+".alpha")});h.then(f,"=",X,"=",l,"[",g,"];");h["else"](f,"=",l,"[",g,".rgb];",X,"=",l,"[",g,".alpha];");n(h);return[f,X]});case "blend.color":return X(function(b){c.command(t(b)&&4===b.length,"blend.color must be a 4d array",n.commandStr);return ka(4,
function(a){return+b[a]})},function(b,a,n){c.optional(function(){b.assert(a,b.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")});return ka(4,function(b){return a.def("+",n,"[",b,"]")})});case "stencil.mask":return X(function(b){c.commandType(b,"number",e,n.commandStr);return b|0},function(b,a,n){c.optional(function(){b.assert(a,"typeof "+n+'==="number"',"invalid stencil.mask")});return a.def(n,"|0")});case "stencil.func":return X(function(a){c.commandType(a,"object",
e,n.commandStr);var g=a.cmp||"keep",l=a.ref||0;a="mask"in a?a.mask:-1;c.commandParameter(g,k,b+".cmp",n.commandStr);c.commandType(l,"number",b+".ref",n.commandStr);c.commandType(a,"number",b+".mask",n.commandStr);return[k[g],l,a]},function(b,a,n){var g=b.constants.compareFuncs;c.optional(function(){function c(){b.assert(a,Array.prototype.join.call(arguments,""),"invalid stencil.func")}c(n+"&&typeof ",n,'==="object"');c('!("cmp" in ',n,")||(",n,".cmp in ",g,")")});var l=a.def('"cmp" in ',n,"?",g,"[",
n,".cmp]",":",7680),f=a.def(n,".ref|0"),h=a.def('"mask" in ',n,"?",n,".mask|0:-1");return[l,f,h]});case "stencil.opFront":case "stencil.opBack":return X(function(a){c.commandType(a,"object",e,n.commandStr);var g=a.fail||"keep",l=a.zfail||"keep";a=a.zpass||"keep";c.commandParameter(g,h,b+".fail",n.commandStr);c.commandParameter(l,h,b+".zfail",n.commandStr);c.commandParameter(a,h,b+".zpass",n.commandStr);return["stencil.opBack"===b?1029:1028,h[g],h[l],h[a]]},function(a,n,g){function l(X){c.optional(function(){a.assert(n,
'!("'+X+'" in '+g+")||("+g+"."+X+" in "+f+")","invalid "+b+"."+X+", must be one of "+u(h))});return n.def('"',X,'" in ',g,"?",f,"[",g,".",X,"]:",7680)}var f=a.constants.stencilOps;c.optional(function(){a.assert(n,g+"&&typeof "+g+'==="object"',"invalid "+b)});return["stencil.opBack"===b?1029:1028,l("fail"),l("zfail"),l("zpass")]});case "polygonOffset.offset":return X(function(a){c.commandType(a,"object",e,n.commandStr);var b=a.factor|0;a=a.units|0;c.commandType(b,"number",e+".factor",n.commandStr);
c.commandType(a,"number",e+".units",n.commandStr);return[b,a]},function(a,n,g){c.optional(function(){a.assert(n,g+"&&typeof "+g+'==="object"',"invalid "+b)});var l=n.def(g,".factor|0"),f=n.def(g,".units|0");return[l,f]});case "cull.face":return X(function(a){var b=0;"front"===a?b=1028:"back"===a&&(b=1029);c.command(!!b,e,n.commandStr);return b},function(a,b,n){c.optional(function(){a.assert(b,n+'==="front"||'+n+'==="back"',"invalid cull.face")});return b.def(n,'==="front"?',1028,":",1029)});case "lineWidth":return X(function(a){c.command("number"===
typeof a&&a>=J.lineWidthDims[0]&&a<=J.lineWidthDims[1],"invalid line width, must be a positive number between "+J.lineWidthDims[0]+" and "+J.lineWidthDims[1],n.commandStr);return a},function(a,b,n){c.optional(function(){a.assert(b,"typeof "+n+'==="number"&&'+n+">="+J.lineWidthDims[0]+"&&"+n+"<="+J.lineWidthDims[1],"invalid line width")});return n});case "frontFace":return X(function(a){c.commandParameter(a,q,e,n.commandStr);return q[a]},function(a,b,n){c.optional(function(){a.assert(b,n+'==="cw"||'+
n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")});return b.def(n+'==="cw"?2304:2305')});case "colorMask":return X(function(a){c.command(t(a)&&4===a.length,"color.mask must be length 4 array",n.commandStr);return a.map(function(a){return!!a})},function(a,b,n){c.optional(function(){a.assert(b,a.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")});return ka(4,function(a){return"!!"+n+"["+a+"]"})});case "sample.coverage":return X(function(a){c.command("object"===typeof a&&a,
e,n.commandStr);var b="value"in a?a.value:1;a=!!a.invert;c.command("number"===typeof b&&0<=b&&1>=b,"sample.coverage.value must be a number between 0 and 1",n.commandStr);return[b,a]},function(a,b,n){c.optional(function(){a.assert(b,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")});var g=b.def('"value" in ',n,"?+",n,".value:1"),l=b.def("!!",n,".invert");return[g,l]})}});return S}function Ea(b,n){var g=b["static"],l=b.dynamic,h={};u(g).forEach(function(a){var b=g[a],l;if("number"===typeof b||
"boolean"===typeof b)l=f(function(){return b});else if("function"===typeof b){var X=b._reglType;"texture2d"===X||"textureCube"===X?l=f(function(a){return a.link(b)}):"framebuffer"===X||"framebufferCube"===X?(c.command(0<b.color.length,'missing color attachment for framebuffer sent to uniform "'+a+'"',n.commandStr),l=f(function(a){return a.link(b.color[0])})):c.commandRaise('invalid data for uniform "'+a+'"',n.commandStr)}else t(b)?l=f(function(n){return n.global.def("[",ka(b.length,function(g){c.command("number"===
typeof b[g]||"boolean"===typeof b[g],"invalid uniform "+a,n.commandStr);return b[g]}),"]")}):c.commandRaise('invalid or missing data for uniform "'+a+'"',n.commandStr);l.value=b;h[a]=l});u(l).forEach(function(b){var c=l[b];h[b]=a(c,function(a,b){return a.invoke(b,c)})});return h}function Ma(b,n){var g=b["static"],l=b.dynamic,h={};u(g).forEach(function(a){var b=g[a],l=m.id(a),X=new ia;if(d(b))X.state=1,X.buffer=fa.getBuffer(fa.create(b,34962,!1,!0)),X.type=0;else{var S=fa.getBuffer(b);if(S)X.state=
1,X.buffer=S,X.type=0;else if(c.command("object"===typeof b&&b,"invalid data for attribute "+a,n.commandStr),"constant"in b){var e=b.constant;X.buffer="null";X.state=2;"number"===typeof e?X.x=e:(c.command(t(e)&&0<e.length&&4>=e.length,"invalid constant for attribute "+a,n.commandStr),E.forEach(function(a,b){b<e.length&&(X[a]=e[b])}))}else{S=d(b.buffer)?fa.getBuffer(fa.create(b.buffer,34962,!1,!0)):fa.getBuffer(b.buffer);c.command(!!S,'missing buffer for attribute "'+a+'"',n.commandStr);var k=b.offset|
0;c.command(0<=k,'invalid offset for attribute "'+a+'"',n.commandStr);var q=b.stride|0;c.command(0<=q&&256>q,'invalid stride for attribute "'+a+'", must be integer betweeen [0, 255]',n.commandStr);var w=b.size|0;c.command(!("size"in b)||0<w&&4>=w,'invalid size for attribute "'+a+'", must be 1,2,3,4',n.commandStr);var x=!!b.normalized,oa=0;"type"in b&&(c.commandParameter(b.type,y,"invalid type for attribute "+a,n.commandStr),oa=y[b.type]);var v=b.divisor|0;c.optional(function(){"divisor"in b&&(c.command(0===
v||U,'cannot specify divisor for attribute "'+a+'", instancing not supported',n.commandStr),c.command(0<=v,'invalid divisor for attribute "'+a+'"',n.commandStr));var g=n.commandStr,l="buffer offset divisor normalized type size stride".split(" ");u(b).forEach(function(b){c.command(0<=l.indexOf(b),'unknown parameter "'+b+'" for attribute pointer "'+a+'" (valid parameters are '+l+")",g)})});X.buffer=S;X.state=1;X.size=w;X.normalized=x;X.type=oa||S.dtype;X.offset=k;X.stride=q;X.divisor=v}}h[a]=f(function(a,
b){var c=a.attribCache;if(l in c)return c[l];var n={isStream:!1};u(X).forEach(function(a){n[a]=X[a]});X.buffer&&(n.buffer=a.link(X.buffer),n.type=n.type||n.buffer+".dtype");return c[l]=n})});u(l).forEach(function(b){var n=l[b];h[b]=a(n,function(a,g){function l(a){g(k[a],"=",X,".",a,"|0;")}var X=a.invoke(g,n),f=a.shared,h=a.constants,S=f.isBufferArgs,e=f.buffer;c.optional(function(){a.assert(g,X+"&&(typeof "+X+'==="object"||typeof '+X+'==="function")&&('+S+"("+X+")||"+e+".getBuffer("+X+")||"+e+".getBuffer("+
X+".buffer)||"+S+"("+X+'.buffer)||("constant" in '+X+"&&(typeof "+X+'.constant==="number"||'+f.isArrayLike+"("+X+".constant))))",'invalid dynamic attribute "'+b+'"')});var k={isStream:g.def(!1)},m=new ia;m.state=1;u(m).forEach(function(a){k[a]=g.def(""+m[a])});var q=k.buffer,w=k.type;g("if(",S,"(",X,")){",k.isStream,"=true;",q,"=",e,".createStream(",34962,",",X,");",w,"=",q,".dtype;","}else{",q,"=",e,".getBuffer(",X,");","if(",q,"){",w,"=",q,".dtype;",'}else if("constant" in ',X,"){",k.state,"=",
2,";","if(typeof "+X+'.constant === "number"){',k[E[0]],"=",X,".constant;",E.slice(1).map(function(a){return k[a]}).join("="),"=0;","}else{",E.map(function(a,b){return k[a]+"="+X+".constant.length>"+b+"?"+X+".constant["+b+"]:0;"}).join(""),"}}else{","if(",S,"(",X,".buffer)){",q,"=",e,".createStream(",34962,",",X,".buffer);","}else{",q,"=",e,".getBuffer(",X,".buffer);","}",w,'="type" in ',X,"?",h.glTypes,"[",X,".type]:",q,".dtype;",k.normalized,"=!!",X,".normalized;");l("size");l("offset");l("stride");
l("divisor");g("}}");g.exit("if(",k.isStream,"){",e,".destroyStream(",q,");","}");return k})});return h}function N(b){var n=b["static"],c=b.dynamic,g={};u(n).forEach(function(a){var b=n[a];g[a]=f(function(a,c){return"number"===typeof b||"boolean"===typeof b?""+b:a.link(b)})});u(c).forEach(function(b){var n=c[b];g[b]=a(n,function(a,b){return a.invoke(b,n)})});return g}function Ha(a,b,g,l,f){function h(a){var b=q[a];b&&(oa[a]=b)}var S=a["static"],e=a.dynamic;c.optional(function(){function a(n){u(n).forEach(function(a){c.command(0<=
b.indexOf(a),'unknown parameter "'+a+'"',f.commandStr)})}var b="framebuffer vert frag elements primitive offset count instances profile vao".split(" ").concat(da);a(S);a(e)});var k=P(a,b),m=z(a,f),q=$a(a,m,f),w=la(a,f),oa=ca(a,f),v=x(a,f,k);h("viewport");h(K("scissor.box"));var d=0<u(oa).length,m={framebuffer:m,draw:w,shader:v,state:oa,dirty:d,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};m.profile=O(a,f);m.uniforms=Ea(g,f);m.drawVAO=m.scopeVAO=w.vao;if(!m.drawVAO&&v.program&&!k&&B.angle_instanced_arrays&&
w["static"].elements){var y=!0;a=v.program.attributes.map(function(a){a=b["static"][a];y=y&&!!a;return a});if(y&&0<a.length){var r=xe.getVAO(xe.createVAO({attributes:a,elements:w["static"].elements}));m.drawVAO=new p(null,null,null,function(a,b){return a.link(r)});m.useVAO=!0}}k?m.useVAO=!0:m.attributes=Ma(b,f);m.context=N(l,f);return m}function W(a,b,c){var g=a.shared.context,l=a.scope();u(c).forEach(function(f){b.save(g,"."+f);var h=c[f].append(a,b);Array.isArray(h)?l(g,".",f,"=[",h.join(),"];"):
l(g,".",f,"=",h,";")});b(l)}function ib(a,b,c,g){var l=a.shared,f=l.gl,h=l.framebuffer,S;ha&&(S=b.def(l.extensions,".webgl_draw_buffers"));var e=a.constants,l=e.drawBuffer,e=e.backBuffer;a=c?c.append(a,b):b.def(h,".next");g||b("if(",a,"!==",h,".cur){");b("if(",a,"){",f,".bindFramebuffer(",36160,",",a,".framebuffer);");ha&&b(S,".drawBuffersWEBGL(",l,"[",a,".colorAttachments.length]);");b("}else{",f,".bindFramebuffer(",36160,",null);");ha&&b(S,".drawBuffersWEBGL(",e,");");b("}",h,".cur=",a,";");g||
b("}")}function ea(a,b,c){var g=a.shared,l=g.gl,f=a.current,h=a.next,e=g.current,k=g.next,m=a.cond(e,".dirty");da.forEach(function(b){b=K(b);if(!(b in c.state)){var n,g;if(b in h){n=h[b];g=f[b];var q=ka(D[b].length,function(a){return m.def(n,"[",a,"]")});m(a.cond(q.map(function(a,b){return a+"!=="+g+"["+b+"]"}).join("||")).then(l,".",ya[b],"(",q,");",q.map(function(a,b){return g+"["+b+"]="+a}).join(";"),";"))}else n=m.def(k,".",b),q=a.cond(n,"!==",e,".",b),m(q),b in S?q(a.cond(n).then(l,".enable(",
S[b],");")["else"](l,".disable(",S[b],");"),e,".",b,"=",n,";"):q(l,".",ya[b],"(",n,");",e,".",b,"=",n,";")}});0===u(c.state).length&&m(e,".dirty=false;");b(m)}function sa(a,b,c,g){var l=a.shared,f=a.current,h=l.current,e=l.gl;V(u(c)).forEach(function(l){var k=c[l];if(!g||g(k)){var m=k.append(a,b);if(S[l]){var q=S[l];H(k)?m?b(e,".enable(",q,");"):b(e,".disable(",q,");"):b(a.cond(m).then(e,".enable(",q,");")["else"](e,".disable(",q,");"));b(h,".",l,"=",m,";")}else if(t(m)){var w=f[l];b(e,".",ya[l],
"(",m,");",m.map(function(a,b){return w+"["+b+"]="+a}).join(";"),";")}else b(e,".",ya[l],"(",m,");",h,".",l,"=",m,";")}})}function cc(a,b){U&&(a.instancing=b.def(a.shared.extensions,".angle_instanced_arrays"))}function nc(a,b,c,g,l){function f(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function h(a){x=b.def();a(x,"=",f(),";");"string"===typeof l?a(m,".count+=",l,";"):a(m,".count++;");Pa&&(g?(oa=b.def(),a(oa,"=",w,".getNumPendingQueries();")):a(w,".beginQuery(",m,");"))}
function S(a){a(m,".cpuTime+=",f(),"-",x,";");Pa&&(g?a(w,".pushScopeStats(",oa,",",w,".getNumPendingQueries(),",m,");"):a(w,".endQuery();"))}function e(a){var c=b.def(q,".profile");b(q,".profile=",a,";");b.exit(q,".profile=",c,";")}var k=a.shared,m=a.stats,q=k.current,w=k.timer;c=c.profile;var x,oa;if(c){if(H(c)){c.enable?(h(b),S(b.exit),e("true")):e("false");return}c=c.append(a,b);e(c)}else c=b.def(q,".profile");k=a.block();h(k);b("if(",c,"){",k,"}");a=a.block();S(a);b.exit("if(",c,"){",a,"}")}function kc(a,
b,g,l,f){function h(a){switch(a){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function S(c,g,l){function f(){b("if(!",q,".buffer){",k,".enableVertexAttribArray(",m,");}");var c=l.type,h;h=l.size?b.def(l.size,"||",g):g;b("if(",q,".type!==",c,"||",q,".size!==",h,"||",oa.map(function(a){return q+"."+a+"!=="+l[a]}).join("||"),"){",k,".bindBuffer(",34962,",",w,".buffer);",k,".vertexAttribPointer(",[m,h,c,
l.normalized,l.stride,l.offset],");",q,".type=",c,";",q,".size=",h,";",oa.map(function(a){return q+"."+a+"="+l[a]+";"}).join(""),"}");U&&(c=l.divisor,b("if(",q,".divisor!==",c,"){",a.instancing,".vertexAttribDivisorANGLE(",[m,c],");",q,".divisor=",c,";}"))}function h(){b("if(",q,".buffer){",k,".disableVertexAttribArray(",m,");",q,".buffer=null;","}if(",E.map(function(a,b){return q+"."+a+"!=="+x[b]}).join("||"),"){",k,".vertexAttrib4f(",m,",",x,");",E.map(function(a,b){return q+"."+a+"="+x[b]+";"}).join(""),
"}")}var k=e.gl,m=b.def(c,".location"),q=b.def(e.attributes,"[",m,"]");c=l.state;var w=l.buffer,x=[l.x,l.y,l.z,l.w],oa=["buffer","normalized","offset","stride"];1===c?f():2===c?h():(b("if(",c,"===",1,"){"),f(),b("}else{"),h(),b("}"))}var e=a.shared;l.forEach(function(l){var e=l.name,k=g.attributes[e],m;if(k){if(!f(k))return;m=k.append(a,b)}else{if(!f(Q))return;var q=a.scopeAttrib(e);c.optional(function(){a.assert(b,q+".state","missing attribute "+e)});m={};u(new ia).forEach(function(a){m[a]=b.def(q,
".",a)})}S(a.link(l),h(l.info.type),m)})}function td(a,b,g,l,f,h){for(var S=a.shared,e=S.gl,k,q=0;q<l.length;++q){var w=l[q],x=w.name,oa=w.info.type,u=g.uniforms[x],w=a.link(w)+".location",v;if(u){if(!f(u))continue;if(H(u)){var d=u.value;c.command(null!==d&&"undefined"!==typeof d,'missing uniform "'+x+'"',a.commandStr);if(35678===oa||35680===oa)c.command("function"===typeof d&&(35678===oa&&("texture2d"===d._reglType||"framebuffer"===d._reglType)||35680===oa&&("textureCube"===d._reglType||"framebufferCube"===
d._reglType)),"invalid texture for uniform "+x,a.commandStr),u=a.link(d._texture||d.color[0]._texture),b(e,".uniform1i(",w,",",u+".bind());"),b.exit(u,".unbind();");else if(35674===oa||35675===oa||35676===oa){c.optional(function(){c.command(t(d),"invalid matrix for uniform "+x,a.commandStr);c.command(35674===oa&&4===d.length||35675===oa&&9===d.length||35676===oa&&16===d.length,"invalid length for matrix uniform "+x,a.commandStr)});var u=a.global.def("new Float32Array(["+Array.prototype.slice.call(d)+
"])"),y=2;35675===oa?y=3:35676===oa&&(y=4);b(e,".uniformMatrix",y,"fv(",w,",false,",u,");")}else{switch(oa){case 5126:c.commandType(d,"number","uniform "+x,a.commandStr);k="1f";break;case 35664:c.command(t(d)&&2===d.length,"uniform "+x,a.commandStr);k="2f";break;case 35665:c.command(t(d)&&3===d.length,"uniform "+x,a.commandStr);k="3f";break;case 35666:c.command(t(d)&&4===d.length,"uniform "+x,a.commandStr);k="4f";break;case 35670:c.commandType(d,"boolean","uniform "+x,a.commandStr);k="1i";break;case 5124:c.commandType(d,
"number","uniform "+x,a.commandStr);k="1i";break;case 35671:c.command(t(d)&&2===d.length,"uniform "+x,a.commandStr);k="2i";break;case 35667:c.command(t(d)&&2===d.length,"uniform "+x,a.commandStr);k="2i";break;case 35672:c.command(t(d)&&3===d.length,"uniform "+x,a.commandStr);k="3i";break;case 35668:c.command(t(d)&&3===d.length,"uniform "+x,a.commandStr);k="3i";break;case 35673:c.command(t(d)&&4===d.length,"uniform "+x,a.commandStr);k="4i";break;case 35669:c.command(t(d)&&4===d.length,"uniform "+x,
a.commandStr),k="4i"}b(e,".uniform",k,"(",w,",",t(d)?Array.prototype.slice.call(d):d,");")}continue}else v=u.append(a,b)}else{if(!f(Q))continue;v=b.def(S.uniforms,"[",m.id(x),"]")}35678===oa?(c(!Array.isArray(v),"must specify a scalar prop for textures"),b("if(",v,"&&",v,'._reglType==="framebuffer"){',v,"=",v,".color[0];","}")):35680===oa&&(c(!Array.isArray(v),"must specify a scalar prop for cube maps"),b("if(",v,"&&",v,'._reglType==="framebufferCube"){',v,"=",v,".color[0];","}"));c.optional(function(){function g(c,
l){a.assert(b,c,'bad data or missing for uniform "'+x+'".  '+l)}function l(a){c(!Array.isArray(v),"must not specify an array type for uniform");g("typeof "+v+'==="'+a+'"',"invalid type, expected "+a)}function f(b,n){Array.isArray(v)?c(v.length===b,"must have length "+b):g(S.isArrayLike+"("+v+")&&"+v+".length==="+b,"invalid vector, should have length "+b,a.commandStr)}function h(b){c(!Array.isArray(v),"must not specify a value type");g("typeof "+v+'==="function"&&'+v+'._reglType==="texture'+(3553===
b?"2d":"Cube")+'"',"invalid texture type",a.commandStr)}switch(oa){case 5124:l("number");break;case 35667:f(2,"number");break;case 35668:f(3,"number");break;case 35669:f(4,"number");break;case 5126:l("number");break;case 35664:f(2,"number");break;case 35665:f(3,"number");break;case 35666:f(4,"number");break;case 35670:l("boolean");break;case 35671:f(2,"boolean");break;case 35672:f(3,"boolean");break;case 35673:f(4,"boolean");break;case 35674:f(4,"number");break;case 35675:f(9,"number");break;case 35676:f(16,
"number");break;case 35678:h(3553);break;case 35680:h(34067)}});u=1;switch(oa){case 35678:case 35680:u=b.def(v,"._texture");b(e,".uniform1i(",w,",",u,".bind());");b.exit(u,".unbind();");continue;case 5124:case 35670:k="1i";break;case 35667:case 35671:k="2i";u=2;break;case 35668:case 35672:k="3i";u=3;break;case 35669:case 35673:k="4i";u=4;break;case 5126:k="1f";break;case 35664:k="2f";u=2;break;case 35665:k="3f";u=3;break;case 35666:k="4f";u=4;break;case 35674:k="Matrix2fv";break;case 35675:k="Matrix3fv";
break;case 35676:k="Matrix4fv"}if("M"===k.charAt(0)){b(e,".uniform",k,"(",w,",");var w=Math.pow(oa-35674+2,2),r=a.global.def("new Float32Array(",w,")");Array.isArray(v)?b("false,(",ka(w,function(a){return r+"["+a+"]="+v[a]}),",",r,")"):b("false,(Array.isArray(",v,")||",v," instanceof Float32Array)?",v,":(",ka(w,function(a){return r+"["+a+"]="+v+"["+a+"]"}),",",r,")");b(");")}else{if(1<u){for(var y=[],ba=[],ya=0;ya<u;++ya)Array.isArray(v)?ba.push(v[ya]):ba.push(b.def(v+"["+ya+"]")),h&&y.push(b.def());
h&&b("if(!",a.batchId,"||",y.map(function(a,b){return a+"!=="+ba[b]}).join("||"),"){",y.map(function(a,b){return a+"="+ba[b]+";"}).join(""));b(e,".uniform",k,"(",w,",",ba.join(","),");")}else c(!Array.isArray(v),"uniform value must not be an array"),h&&(u=b.def(),b("if(!",a.batchId,"||",u,"!==",v,"){",u,"=",v,";")),b(e,".uniform",k,"(",w,",",v,");");h&&b("}")}}}function vc(a,b,g,l){function f(c){var h=q[c];return h?h.contextDep&&l.contextDynamic||h.propDep?h.append(a,g):h.append(a,b):b.def(m,".",
c)}function h(){function a(){g(u,".drawElementsInstancedANGLE(",[x,v,y,oa+"<<(("+y+"-5121)>>1)",d],");")}function b(){g(u,".drawArraysInstancedANGLE(",[x,oa,v,d],");")}w&&"null"!==w?r?a():(g("if(",w,"){"),a(),g("}else{"),b(),g("}")):b()}function S(){function a(){g(k+".drawElements("+[x,v,y,oa+"<<(("+y+"-5121)>>1)"]+");")}function b(){g(k+".drawArrays("+[x,oa,v]+");")}w&&"null"!==w?r?a():(g("if(",w,"){"),a(),g("}else{"),b(),g("}")):b()}var e=a.shared,k=e.gl,m=e.draw,q=l.draw,w=function(){var c=q.elements,
f=b;if(c){if(c.contextDep&&l.contextDynamic||c.propDep)f=g;c=c.append(a,f);q.elementsActive&&f("if("+c+")"+k+".bindBuffer(34963,"+c+".buffer.buffer);")}else c=f.def(),f(c,"=",m,".","elements",";","if(",c,"){",k,".bindBuffer(",34963,",",c,".buffer.buffer);}","else if(",e.vao,".currentVAO){",c,"=",a.shared.elements+".getElements("+e.vao,".currentVAO.elements);",ra?"":"if("+c+")"+k+".bindBuffer(34963,"+c+".buffer.buffer);","}");return c}(),x=f("primitive"),oa=f("offset"),v=function(){var f=q.count,h,
e=b;if(f){if(f.contextDep&&l.contextDynamic||f.propDep)e=g;h=f.append(a,e);c.optional(function(){f.MISSING&&a.assert(b,"false","missing vertex count");f.DYNAMIC&&a.assert(e,h+">=0","missing vertex count")})}else h=e.def(m,".","count"),c.optional(function(){a.assert(e,h+">=0","missing vertex count")});return h}();if("number"===typeof v){if(0===v)return}else g("if(",v,"){"),g.exit("}");var d,u;U&&(d=f("instances"),u=a.instancing);var y=w+".type",r=q.elements&&H(q.elements)&&!q.vaoActive;U&&("number"!==
typeof d||0<=d)?"string"===typeof d?(g("if(",d,">0){"),h(),g("}else if(",d,"<0){"),S(),g("}")):h():S()}function aa(a,b,g,l,f){var h=qa();f=h.proc("body",f);c.optional(function(){h.commandStr=b.commandStr;h.command=h.link(b.commandStr)});U&&(h.instancing=f.def(h.shared.extensions,".angle_instanced_arrays"));a(h,f,g,l);return h.compile().body}function L(a,b,c,g){cc(a,b);c.useVAO?c.drawVAO?b(a.shared.vao,".setVAO(",c.drawVAO.append(a,b),");"):b(a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);"):(b(a.shared.vao,
".setVAO(null);"),kc(a,b,c,g.attributes,function(){return!0}));td(a,b,c,g.uniforms,function(){return!0},!1);vc(a,b,b,c)}function ja(a,b){var c=a.proc("draw",1);cc(a,c);W(a,c,b.context);ib(a,c,b.framebuffer);ea(a,c,b);sa(a,c,b.state);nc(a,c,b,!1,!0);var g=b.shader.progVar.append(a,c);c(a.shared.gl,".useProgram(",g,".program);");if(b.shader.program)L(a,c,b,b.shader.program);else{c(a.shared.vao,".setVAO(null);");var l=a.global.def("{}"),f=c.def(g,".id"),h=c.def(l,"[",f,"]");c(a.cond(h).then(h,".call(this,a0);")["else"](h,
"=",l,"[",f,"]=",a.link(function(c){return aa(L,a,b,c,1)}),"(",g,");",h,".call(this,a0);"))}0<u(b.state).length&&c(a.shared.current,".dirty=true;");a.shared.vao&&c(a.shared.vao,".setVAO(null);")}function Ba(a,b,c,g){function l(){return!0}a.batchId="a1";cc(a,b);kc(a,b,c,g.attributes,l);td(a,b,c,g.uniforms,l,!1);vc(a,b,b,c)}function Gb(a,b,c,g){function l(a){return a.contextDep&&h||a.propDep}function f(a){return!l(a)}cc(a,b);var h=c.contextDep,e=b.def(),S=b.def();a.shared.props=S;a.batchId=e;var k=
a.scope(),m=a.scope();b(k.entry,"for(",e,"=0;",e,"<","a1",";++",e,"){",S,"=","a0","[",e,"];",m,"}",k.exit);c.needsContext&&W(a,m,c.context);c.needsFramebuffer&&ib(a,m,c.framebuffer);sa(a,m,c.state,l);c.profile&&l(c.profile)&&nc(a,m,c,!1,!0);g?(c.useVAO?c.drawVAO?l(c.drawVAO)?m(a.shared.vao,".setVAO(",c.drawVAO.append(a,m),");"):k(a.shared.vao,".setVAO(",c.drawVAO.append(a,k),");"):k(a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);"):(k(a.shared.vao,".setVAO(null);"),kc(a,k,c,g.attributes,f),kc(a,
m,c,g.attributes,l)),td(a,k,c,g.uniforms,f,!1),td(a,m,c,g.uniforms,l,!0),vc(a,k,m,c)):(b=a.global.def("{}"),g=c.shader.progVar.append(a,m),S=m.def(g,".id"),k=m.def(b,"[",S,"]"),m(a.shared.gl,".useProgram(",g,".program);","if(!",k,"){",k,"=",b,"[",S,"]=",a.link(function(b){return aa(Ba,a,c,b,2)}),"(",g,");}",k,".call(this,a0[",e,"],",e,");"))}function Jc(a,b){function c(a){return a.contextDep&&l||a.propDep}var g=a.proc("batch",2);a.batchId="0";cc(a,g);var l=!1,f=!0;u(b.context).forEach(function(a){l=
l||b.context[a].propDep});l||(W(a,g,b.context),f=!1);var h=b.framebuffer,e=!1;h?(h.propDep?l=e=!0:h.contextDep&&l&&(e=!0),e||ib(a,g,h)):ib(a,g,null);b.state.viewport&&b.state.viewport.propDep&&(l=!0);ea(a,g,b);sa(a,g,b.state,function(a){return!c(a)});b.profile&&c(b.profile)||nc(a,g,b,!1,"a1");b.contextDep=l;b.needsContext=f;b.needsFramebuffer=e;f=b.shader.progVar;if(f.contextDep&&l||f.propDep)Gb(a,g,b,null);else if(f=f.append(a,g),g(a.shared.gl,".useProgram(",f,".program);"),b.shader.program)Gb(a,
g,b,b.shader.program);else{g(a.shared.vao,".setVAO(null);");var h=a.global.def("{}"),e=g.def(f,".id"),S=g.def(h,"[",e,"]");g(a.cond(S).then(S,".call(this,a0,a1);")["else"](S,"=",h,"[",e,"]=",a.link(function(c){return aa(Gb,a,b,c,2)}),"(",f,");",S,".call(this,a0,a1);"))}0<u(b.state).length&&g(a.shared.current,".dirty=true;");a.shared.vao&&g(a.shared.vao,".setVAO(null);")}function Bc(a,b){function c(f){var h=b.shader[f];h&&g.set(l.shader,"."+f,h.append(a,g))}var g=a.proc("scope",3);a.batchId="a2";var l=
a.shared,f=l.current;W(a,g,b.context);b.framebuffer&&b.framebuffer.append(a,g);V(u(b.state)).forEach(function(c){var f=b.state[c].append(a,g);t(f)?f.forEach(function(b,l){g.set(a.next[c],"["+l+"]",b)}):g.set(l.next,"."+c,f)});nc(a,g,b,!0,!0);["elements","offset","count","instances","primitive"].forEach(function(c){var f=b.draw[c];f&&g.set(l.draw,"."+c,""+f.append(a,g))});u(b.uniforms).forEach(function(c){var f=b.uniforms[c].append(a,g);Array.isArray(f)&&(f="["+f.join()+"]");g.set(l.uniforms,"["+m.id(c)+
"]",f)});u(b.attributes).forEach(function(c){var l=b.attributes[c].append(a,g),f=a.scopeAttrib(c);u(new ia).forEach(function(a){g.set(f,"."+a,l[a])})});b.scopeVAO&&g.set(l.vao,".targetVAO",b.scopeVAO.append(a,g));c("vert");c("frag");0<u(b.state).length&&(g(f,".dirty=true;"),g.exit(f,".dirty=true;"));g("a1(",a.shared.context,",a0,",a.batchId,");")}function C(a){if("object"===typeof a&&!t(a)){for(var b=u(a),c=0;c<b.length;++c)if(A.isDynamic(a[b[c]]))return!0;return!1}}function v(b,c,g){function l(a,
b){e.forEach(function(c){var g=f[c];A.isDynamic(g)&&(g=a.invoke(b,g),b(q,".",c,"=",g,";"))})}var f=c["static"][g];if(f&&C(f)){var h=b.global,e=u(f),S=!1,k=!1,m=!1,q=b.global.def("{}");e.forEach(function(c){var g=f[c];if(A.isDynamic(g))"function"===typeof g&&(g=f[c]=A.unbox(g)),c=a(g,null),S=S||c.thisDep,m=m||c.propDep,k=k||c.contextDep;else{h(q,".",c,"=");switch(typeof g){case "number":h(g);break;case "string":h('"',g,'"');break;case "object":Array.isArray(g)&&h("[",g.join(),"]");break;default:h(b.link(g))}h(";")}});
c.dynamic[g]=new A.DynamicVariable(4,{thisDep:S,contextDep:k,propDep:m,ref:q,append:l});delete c["static"][g]}}var ia=xe.Record,ua={add:32774,subtract:32778,"reverse subtract":32779};B.ext_blend_minmax&&(ua.min=32775,ua.max=32776);var U=B.angle_instanced_arrays,ha=B.webgl_draw_buffers,ra=B.oes_vertex_array_object,D={dirty:!0,profile:Y.profile},w={},da=[],S={},ya={};M("dither",3024);M("blend.enable",3042);T("blend.color","blendColor",[0,0,0,0]);T("blend.equation","blendEquationSeparate",[32774,32774]);
T("blend.func","blendFuncSeparate",[1,0,1,0]);M("depth.enable",2929,!0);T("depth.func","depthFunc",513);T("depth.range","depthRange",[0,1]);T("depth.mask","depthMask",!0);T("colorMask","colorMask",[!0,!0,!0,!0]);M("cull.enable",2884);T("cull.face","cullFace",1029);T("frontFace","frontFace",2305);T("lineWidth","lineWidth",1);M("polygonOffset.enable",32823);T("polygonOffset.offset","polygonOffset",[0,0]);M("sample.alpha",32926);M("sample.enable",32928);T("sample.coverage","sampleCoverage",[1,!1]);M("stencil.enable",
2960);T("stencil.mask","stencilMask",-1);T("stencil.func","stencilFunc",[519,0,-1]);T("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]);T("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]);M("scissor.enable",3089);T("scissor.box","scissor",[0,0,F.drawingBufferWidth,F.drawingBufferHeight]);T("viewport","viewport",[0,0,F.drawingBufferWidth,F.drawingBufferHeight]);var oa={gl:F,context:ma,strings:m,next:w,current:D,draw:Bb,elements:b,buffer:fa,shader:yb,attributes:xe.state,vao:xe,
uniforms:na,framebuffer:ba,extensions:B,timer:Pa,isBufferArgs:d},l={primTypes:I,compareFuncs:k,blendFuncs:G,blendEquations:ua,stencilOps:h,glTypes:y,orientationType:q};c.optional(function(){oa.isArrayLike=t});ha&&(l.backBuffer=[1029],l.drawBuffer=ka(J.maxDrawbuffers,function(a){return 0===a?[0]:ka(a,function(a){return 36064+a})}));var jc=0;return{next:w,current:D,procs:function(){var a=qa(),b=a.proc("poll"),c=a.proc("refresh"),g=a.block();b(g);c(g);var l=a.shared,f=l.gl,h=l.next,e=l.current;g(e,".dirty=false;");
ib(a,b);ib(a,c,null,!0);var k;U&&(k=a.link(U));B.oes_vertex_array_object&&c(a.link(B.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var m=0;m<J.maxAttributes;++m){var q=c.def(l.attributes,"[",m,"]"),w=a.cond(q,".buffer");w.then(f,".enableVertexAttribArray(",m,");",f,".bindBuffer(",34962,",",q,".buffer.buffer);",f,".vertexAttribPointer(",m,",",q,".size,",q,".type,",q,".normalized,",q,".stride,",q,".offset);")["else"](f,".disableVertexAttribArray(",m,");",f,".vertexAttrib4f(",m,",",q,".x,",
q,".y,",q,".z,",q,".w);",q,".buffer=null;");c(w);U&&c(k,".vertexAttribDivisorANGLE(",m,",",q,".divisor);")}c(a.shared.vao,".currentVAO=null;",a.shared.vao,".setVAO(",a.shared.vao,".targetVAO);");u(S).forEach(function(l){var k=S[l],m=g.def(h,".",l),q=a.block();q("if(",m,"){",f,".enable(",k,")}else{",f,".disable(",k,")}",e,".",l,"=",m,";");c(q);b("if(",m,"!==",e,".",l,"){",q,"}")});u(ya).forEach(function(l){var S=ya[l],k=D[l],m,q,w=a.block();w(f,".",S,"(");t(k)?(S=k.length,m=a.global.def(h,".",l),q=
a.global.def(e,".",l),w(ka(S,function(a){return m+"["+a+"]"}),");",ka(S,function(a){return q+"["+a+"]="+m+"["+a+"];"}).join("")),b("if(",ka(S,function(a){return m+"["+a+"]!=="+q+"["+a+"]"}).join("||"),"){",w,"}")):(m=g.def(h,".",l),q=g.def(e,".",l),w(m,");",e,".",l,"=",m,";"),b("if(",m,"!==",q,"){",w,"}"));c(w)});return a.compile()}(),compile:function(a,b,c,g,l){var f=qa();f.stats=f.link(l);u(b["static"]).forEach(function(a){v(f,b,a)});Z.forEach(function(b){v(f,a,b)});var h=Ha(a,b,c,g,f);ja(f,h);
Bc(f,h);Jc(f,h);return r(f.compile(),{destroy:function(){h.shader.program.destroy()}})}}}},{"./constants/dtypes.json":5,"./constants/primitives.json":6,"./dynamic":9,"./util/check":21,"./util/codegen":23,"./util/extend":25,"./util/is-array-like":27,"./util/is-ndarray":28,"./util/is-typed-array":30,"./util/loop":31,"./util/sorted-object-keys":34}],9:[function(z,N,Za){function d(f,c){this.id=a++;this.type=f;this.data=c}function V(a){if(0===a.length)return[];var c=a.charAt(0),f=a.charAt(a.length-1);
if(1<a.length&&c===f&&('"'===c||"'"===c))return['"'+a.substr(1,a.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(c=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(a))return V(a.substr(0,c.index)).concat(V(c[1])).concat(V(a.substr(c.index+c[0].length)));c=a.split(".");if(1===c.length)return['"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];a=[];for(f=0;f<c.length;++f)a=a.concat(V(c[f]));return a}function p(a){return"["+V(a).join("][")+"]"}function H(a,c){if("function"===typeof a)return new d(0,
a);if("number"===typeof a||"boolean"===typeof a)return new d(5,a);if(Array.isArray(a))return new d(6,a.map(function(a,f){return H(a,c+"["+f+"]")}));if(a instanceof d)return a;f(!1,"invalid option type in uniform "+c)}var f=z("./util/check"),a=0;N.exports={DynamicVariable:d,define:function(a,c){return new d(a,p(c+""))},isDynamic:function(a){return"function"===typeof a&&!a._reglType||a instanceof d},unbox:H,accessor:p}},{"./util/check":21}],10:[function(z,N,Za){var d=z("./util/check"),V=z("./util/is-typed-array"),
p=z("./util/is-ndarray"),H=z("./util/values"),f=z("./constants/primitives.json"),a=z("./constants/usage.json");N.exports=function(u,c,r,ga){function ka(a){this.id=A++;t[this.id]=this;this.buffer=a;this.primType=4;this.type=this.vertCount=0}function F(a,f,y,t,k,h,g){a.buffer.bind();var q;f?((q=g)||V(f)&&(!p(f)||V(f.data))||(q=c.oes_element_index_uint?5125:5123),r._initBuffer(a.buffer,f,y,q,3)):(u.bufferData(34963,h,y),a.buffer.dtype=q||5121,a.buffer.usage=y,a.buffer.dimension=3,a.buffer.byteLength=
h);q=g;if(!g){switch(a.buffer.dtype){case 5121:case 5120:q=5121;break;case 5123:case 5122:q=5123;break;case 5125:case 5124:q=5125;break;default:d.raise("unsupported type for element array")}a.buffer.dtype=q}a.type=q;d(5125!==q||!!c.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");f=k;0>f&&(f=a.buffer.byteLength,5123===q?f>>=1:5125===q&&(f>>=2));a.vertCount=f;f=t;0>t&&(f=4,t=a.buffer.dimension,1===t&&(f=0),2===t&&(f=1),3===t&&(f=4));a.primType=f}function B(a){ga.elementsCount--;
d(null!==a.buffer,"must not double destroy elements");delete t[a.id];a.buffer.destroy();a.buffer=null}var t={},A=0,I={uint8:5121,uint16:5123};c.oes_element_index_uint&&(I.uint32=5125);ka.prototype.bind=function(){this.buffer.bind()};var y=[];return{create:function(c,y){function u(c){if(c)if("number"===typeof c)t(c),k.primType=4,k.vertCount=c|0,k.type=5121;else{var g=null,q=35044,y=-1,r=-1,m=0,B=0;if(Array.isArray(c)||V(c)||p(c))g=c;else if(d.type(c,"object","invalid arguments for elements"),"data"in
c&&(g=c.data,d(Array.isArray(g)||V(g)||p(g),"invalid data for element buffer")),"usage"in c&&(d.parameter(c.usage,a,"invalid element buffer usage"),q=a[c.usage]),"primitive"in c&&(d.parameter(c.primitive,f,"invalid element buffer primitive"),y=f[c.primitive]),"count"in c&&(d("number"===typeof c.count&&0<=c.count,"invalid vertex count for elements"),r=c.count|0),"type"in c&&(d.parameter(c.type,I,"invalid buffer type"),B=I[c.type]),"length"in c)m=c.length|0;else if(m=r,5123===B||5122===B)m*=2;else if(5125===
B||5124===B)m*=4;F(k,g,q,y,r,m,B)}else t(),k.primType=4,k.vertCount=0,k.type=5121;return u}var t=r.create(null,34963,!0),k=new ka(t._buffer);ga.elementsCount++;u(c);u._reglType="elements";u._elements=k;u.subdata=function(a,c){t.subdata(a,c);return u};u.destroy=function(){B(k)};return u},createStream:function(a){var c=y.pop();c||(c=new ka(r.create(null,34963,!0,!1)._buffer));F(c,a,35040,-1,-1,0,0);return c},destroyStream:function(a){y.push(a)},getElements:function(a){return"function"===typeof a&&a._elements instanceof
ka?a._elements:null},clear:function(){H(t).forEach(B)}}}},{"./constants/primitives.json":6,"./constants/usage.json":7,"./util/check":21,"./util/is-ndarray":28,"./util/is-typed-array":30,"./util/values":36}],11:[function(z,N,Za){var d=z("./util/sorted-object-keys"),V=z("./util/check");N.exports=function(p,H){function f(c){V.type(c,"string","extension name must be string");c=c.toLowerCase();var f;try{f=a[c]=p.getExtension(c)}catch(d){}return!!f}for(var a={},u=0;u<H.extensions.length;++u){var c=H.extensions[u];
if(!f(c))return H.onDestroy(),H.onDone('"'+c+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}H.optionalExtensions.forEach(f);return{extensions:a,restore:function(){d(a).forEach(function(c){if(a[c]&&!f(c))throw Error("(regl): error restoring extension "+c);})}}}},{"./util/check":21,"./util/sorted-object-keys":34}],12:[function(z,N,Za){var d=z("./util/check"),V=z("./util/values"),p=z("./util/extend"),H=[6407,6408],f=[];f[6408]=4;f[6407]=
3;var a=[];a[5121]=1;a[5126]=4;a[36193]=2;var u=[32854,32855,36194,35907,34842,34843,34836],c={36053:"complete",36054:"incomplete attachment",36057:"incomplete dimensions",36055:"incomplete, missing attachment",36061:"unsupported"};N.exports=function(r,ga,ka,F,B,t){function A(a,b,c){this.target=a;this.texture=b;this.renderbuffer=c;var g=a=0;b?(a=b.width,g=b.height):c&&(a=c.width,g=c.height);this.width=a;this.height=g}function I(a){a&&(a.texture&&a.texture._texture.decRef(),a.renderbuffer&&a.renderbuffer._renderbuffer.decRef())}
function y(a,b,c){if(a){if(a.texture){a=a.texture._texture;var g=Math.max(1,a.height);d(Math.max(1,a.width)===b&&g===c,"inconsistent width/height for supplied texture")}else a=a.renderbuffer._renderbuffer,d(a.width===b&&a.height===c,"inconsistent width/height for renderbuffer");a.refCount+=1}}function E(a,b){b&&(b.texture?r.framebufferTexture2D(36160,a,b.target,b.texture._texture.texture,0):r.framebufferRenderbuffer(36160,a,36161,b.renderbuffer._renderbuffer.renderbuffer))}function Z(a){var b=3553,
c=null,g=null,f=a;"object"===typeof a&&(f=a.data,"target"in a&&(b=a.target|0));d.type(f,"function","invalid attachment data");a=f._reglType;"texture2d"===a?(c=f,d(3553===b)):"textureCube"===a?(c=f,d(34069<=b&&34075>b,"invalid cube map target")):"renderbuffer"===a?(g=f,b=36161):d.raise("invalid regl object for attachment");return new A(b,c,g)}function G(a,b,c,g,f){if(c)return a=F.create2D({width:a,height:b,format:g,type:f}),a._texture.refCount=0,new A(3553,a,null);a=B.create({width:a,height:b,format:g});
a._renderbuffer.refCount=0;return new A(36161,null,a)}function pc(a){return a&&(a.texture||a.renderbuffer)}function k(a,b,c){a&&(a.texture?a.texture.resize(b,c):a.renderbuffer&&a.renderbuffer.resize(b,c),a.width=b,a.height=c)}function h(){this.id=b++;e[this.id]=this;this.framebuffer=r.createFramebuffer();this.height=this.width=0;this.colorAttachments=[];this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function g(a){a.colorAttachments.forEach(I);I(a.depthAttachment);I(a.stencilAttachment);
I(a.depthStencilAttachment)}function q(a){var b=a.framebuffer;d(b,"must not double destroy framebuffer");r.deleteFramebuffer(b);a.framebuffer=null;t.framebufferCount--;delete e[a.id]}function Q(a){var b;r.bindFramebuffer(36160,a.framebuffer);var g=a.colorAttachments;for(b=0;b<g.length;++b)E(36064+b,g[b]);for(b=g.length;b<ka.maxColorAttachments;++b)r.framebufferTexture2D(36160,36064+b,3553,null,0);r.framebufferTexture2D(36160,33306,3553,null,0);r.framebufferTexture2D(36160,36096,3553,null,0);r.framebufferTexture2D(36160,
36128,3553,null,0);E(36096,a.depthAttachment);E(36128,a.stencilAttachment);E(33306,a.depthStencilAttachment);a=r.checkFramebufferStatus(36160);r.isContextLost()||36053===a||d.raise("framebuffer configuration not supported, status = "+c[a]);r.bindFramebuffer(36160,m.next?m.next.framebuffer:null);m.cur=m.next;r.getError()}function R(b,c){function e(b,c){var h;d(m.next!==r,"can not update framebuffer which is currently in use");var k=0,q=0,t=!0,p=!0;h=null;var F=!0,B="rgba",A="uint8",E=1,I=null,x=null,
ba=null,V=!1;if("number"===typeof b)k=b|0,q=c|0||k;else if(b){d.type(b,"object","invalid arguments for framebuffer");"shape"in b?(q=b.shape,d(Array.isArray(q)&&2<=q.length,"invalid shape for framebuffer"),k=q[0],q=q[1]):("radius"in b&&(k=q=b.radius),"width"in b&&(k=b.width),"height"in b&&(q=b.height));if("color"in b||"colors"in b)h=b.color||b.colors,Array.isArray(h)&&d(1===h.length||ga.webgl_draw_buffers,"multiple render targets not supported");if(!h){"colorCount"in b&&(E=b.colorCount|0,d(0<E,"invalid color buffer count"));
"colorTexture"in b&&(F=!!b.colorTexture,B="rgba4");if("colorType"in b){A=b.colorType;if(F)d(ga.oes_texture_float||!("float"===A||"float32"===A),"you must enable OES_texture_float in order to use floating point framebuffer objects"),d(ga.oes_texture_half_float||!("half float"===A||"float16"===A),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects");else if("half float"===A||"float16"===A)d(ga.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),
B="rgba16f";else if("float"===A||"float32"===A)d(ga.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),B="rgba32f";d.oneOf(A,fa,"invalid color type")}"colorFormat"in b&&(B=b.colorFormat,0<=pa.indexOf(B)?F=!0:0<=J.indexOf(B)?F=!1:d.optional(function(){if(F)d.oneOf(b.colorFormat,pa,"invalid color format for texture");else d.oneOf(b.colorFormat,J,"invalid color format for renderbuffer")}))}if("depthTexture"in b||"depthStencilTexture"in
b)V=!(!b.depthTexture&&!b.depthStencilTexture),d(!V||ga.webgl_depth_texture,"webgl_depth_texture extension not supported");"depth"in b&&("boolean"===typeof b.depth?t=b.depth:(I=b.depth,p=!1));"stencil"in b&&("boolean"===typeof b.stencil?p=b.stencil:(x=b.stencil,t=!1));"depthStencil"in b&&("boolean"===typeof b.depthStencil?t=p=b.depthStencil:(ba=b.depthStencil,p=t=!1))}else k=q=1;var R=null,na=null,z=null,Ha=null;if(Array.isArray(h))R=h.map(Z);else if(h)R=[Z(h)];else for(R=Array(E),h=0;h<E;++h)R[h]=
G(k,q,F,B,A);d(ga.webgl_draw_buffers||1>=R.length,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers.");d(R.length<=ka.maxColorAttachments,"too many color attachments, not supported");k=k||R[0].width;q=q||R[0].height;I?na=Z(I):t&&!p&&(na=G(k,q,V,"depth","uint32"));x?z=Z(x):p&&!t&&(z=G(k,q,!1,"stencil","uint8"));ba?Ha=Z(ba):!I&&!x&&p&&t&&(Ha=G(k,q,V,"depth stencil","depth stencil"));d(1>=!!I+!!x+!!ba,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");
t=null;for(h=0;h<R.length;++h)y(R[h],k,q),d(!R[h]||R[h].texture&&0<=H.indexOf(R[h].texture._texture.format)||R[h].renderbuffer&&0<=u.indexOf(R[h].renderbuffer._renderbuffer.format),"framebuffer color attachment "+h+" is invalid"),R[h]&&R[h].texture&&(p=f[R[h].texture._texture.format]*a[R[h].texture._texture.type],null===t?t=p:d(t===p,"all color attachments much have the same number of bits per pixel."));y(na,k,q);d(!na||na.texture&&6402===na.texture._texture.format||na.renderbuffer&&33189===na.renderbuffer._renderbuffer.format,
"invalid depth attachment for framebuffer object");y(z,k,q);d(!z||z.renderbuffer&&36168===z.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object");y(Ha,k,q);d(!Ha||Ha.texture&&34041===Ha.texture._texture.format||Ha.renderbuffer&&34041===Ha.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object");g(r);r.width=k;r.height=q;r.colorAttachments=R;r.depthAttachment=na;r.stencilAttachment=z;r.depthStencilAttachment=Ha;e.color=R.map(pc);
e.depth=pc(na);e.stencil=pc(z);e.depthStencil=pc(Ha);e.width=r.width;e.height=r.height;Q(r);return e}var r=new h;t.framebufferCount++;e(b,c);return p(e,{resize:function(a,b){d(m.next!==r,"can not resize a framebuffer which is currently in use");var c=Math.max(a|0,1),g=Math.max(b|0||c,1);if(c===r.width&&g===r.height)return e;for(var f=r.colorAttachments,h=0;h<f.length;++h)k(f[h],c,g);k(r.depthAttachment,c,g);k(r.stencilAttachment,c,g);k(r.depthStencilAttachment,c,g);r.width=e.width=c;r.height=e.height=
g;Q(r);return e},_reglType:"framebuffer",_framebuffer:r,destroy:function(){q(r);g(r)},use:function(a){m.setFBO({framebuffer:e},a)}})}var m={cur:null,next:null,dirty:!1,setFBO:null},pa=["rgba"],J=["rgba4","rgb565","rgb5 a1"];ga.ext_srgb&&J.push("srgba");ga.ext_color_buffer_half_float&&J.push("rgba16f","rgb16f");ga.webgl_color_buffer_float&&J.push("rgba32f");var fa=["uint8"];ga.oes_texture_half_float&&fa.push("half float","float16");ga.oes_texture_float&&fa.push("float","float32");var b=0,e={};return p(m,
{getFramebuffer:function(a){return"function"===typeof a&&"framebuffer"===a._reglType&&(a=a._framebuffer,a instanceof h)?a:null},create:R,createCube:function(a){function b(a){var g;d(0>c.indexOf(m.next),"can not update framebuffer which is currently in use");var f={color:null},h=0,e=null;g="rgba";var k="uint8",q=1;if("number"===typeof a)h=a|0;else if(a){d.type(a,"object","invalid arguments for framebuffer");"shape"in a?(h=a.shape,d(Array.isArray(h)&&2<=h.length,"invalid shape for framebuffer"),d(h[0]===
h[1],"cube framebuffer must be square"),h=h[0]):("radius"in a&&(h=a.radius|0),"width"in a?(h=a.width|0,"height"in a&&d(a.height===h,"must be square")):"height"in a&&(h=a.height|0));if("color"in a||"colors"in a)e=a.color||a.colors,Array.isArray(e)&&d(1===e.length||ga.webgl_draw_buffers,"multiple render targets not supported");e||("colorCount"in a&&(q=a.colorCount|0,d(0<q,"invalid color buffer count")),"colorType"in a&&(d.oneOf(a.colorType,fa,"invalid color type"),k=a.colorType),"colorFormat"in a&&
(g=a.colorFormat,d.oneOf(a.colorFormat,pa,"invalid color format for texture")));"depth"in a&&(f.depth=a.depth);"stencil"in a&&(f.stencil=a.stencil);"depthStencil"in a&&(f.depthStencil=a.depthStencil)}else h=1;if(e)if(Array.isArray(e))for(a=[],g=0;g<e.length;++g)a[g]=e[g];else a=[e];else for(a=Array(q),e={radius:h,format:g,type:k},g=0;g<q;++g)a[g]=F.createCube(e);f.color=Array(a.length);for(g=0;g<a.length;++g)q=a[g],d("function"===typeof q&&"textureCube"===q._reglType,"invalid cube map"),h=h||q.width,
d(q.width===h&&q.height===h,"invalid cube map shape"),f.color[g]={target:34069,data:a[g]};for(g=0;6>g;++g){for(q=0;q<a.length;++q)f.color[q].target=34069+g;0<g&&(f.depth=c[0].depth,f.stencil=c[0].stencil,f.depthStencil=c[0].depthStencil);if(c[g])c[g](f);else c[g]=R(f)}return p(b,{width:h,height:h,color:a})}var c=Array(6);b(a);return p(b,{faces:c,resize:function(a){var g=a|0;d(0<g&&g<=ka.maxCubeMapSize,"invalid radius for cube fbo");if(g===b.width)return b;var f=b.color;for(a=0;a<f.length;++a)f[a].resize(g);
for(a=0;6>a;++a)c[a].resize(g);b.width=b.height=g;return b},_reglType:"framebufferCube",destroy:function(){c.forEach(function(a){a.destroy()})}})},clear:function(){V(e).forEach(q)},restore:function(){m.cur=null;m.next=null;m.dirty=!0;V(e).forEach(function(a){a.framebuffer=r.createFramebuffer();Q(a)})}})}},{"./util/check":21,"./util/extend":25,"./util/values":36}],13:[function(z,N,Za){var d=z("./util/sorted-object-keys"),V=z("./util/pool");N.exports=function(p,H){var f=1;H.ext_texture_filter_anisotropic&&
(f=p.getParameter(34047));var a=1,u=1;H.webgl_draw_buffers&&(a=p.getParameter(34852),u=p.getParameter(36063));var c=!!H.oes_texture_float;if(c){c=p.createTexture();p.bindTexture(3553,c);p.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var r=p.createFramebuffer();p.bindFramebuffer(36160,r);p.framebufferTexture2D(36160,36064,3553,c,0);p.bindTexture(3553,null);if(36053!==p.checkFramebufferStatus(36160))c=!1;else{p.viewport(0,0,1,1);p.clearColor(1,0,0,1);p.clear(16384);var ga=V.allocType(5126,4);p.readPixels(0,
0,1,1,6408,5126,ga);p.getError()?c=!1:(p.deleteFramebuffer(r),p.deleteTexture(c),c=1===ga[0]);V.freeType(ga)}}ga=!0;"undefined"!==typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(ga=p.createTexture(),r=V.allocType(5121,36),p.activeTexture(33984),p.bindTexture(34067,ga),p.texImage2D(34069,0,6408,3,3,0,6408,5121,r),V.freeType(r),p.bindTexture(34067,null),p.deleteTexture(ga),ga=!p.getError());return{colorBits:[p.getParameter(3410),
p.getParameter(3411),p.getParameter(3412),p.getParameter(3413)],depthBits:p.getParameter(3414),stencilBits:p.getParameter(3415),subpixelBits:p.getParameter(3408),extensions:d(H).filter(function(a){return!!H[a]}),maxAnisotropic:f,maxDrawbuffers:a,maxColorAttachments:u,pointSizeDims:p.getParameter(33901),lineWidthDims:p.getParameter(33902),maxViewportDims:p.getParameter(3386),maxCombinedTextureUnits:p.getParameter(35661),maxCubeMapSize:p.getParameter(34076),maxRenderbufferSize:p.getParameter(34024),
maxTextureUnits:p.getParameter(34930),maxTextureSize:p.getParameter(3379),maxAttributes:p.getParameter(34921),maxVertexUniforms:p.getParameter(36347),maxVertexTextureUnits:p.getParameter(35660),maxVaryingVectors:p.getParameter(36348),maxFragmentUniforms:p.getParameter(36349),glsl:p.getParameter(35724),renderer:p.getParameter(7937),vendor:p.getParameter(7936),version:p.getParameter(7938),readFloat:c,npotTextureCube:ga}}},{"./util/pool":32,"./util/sorted-object-keys":34}],14:[function(z,N,Za){var d=
z("./util/check"),V=z("./util/is-typed-array");N.exports=function(p,H,f,a,u,c,r){function ga(F){var B;null===H.next?(d(u.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),B=5121):(d(null!==H.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),B=H.next.colorAttachments[0].texture._texture.type,d.optional(function(){c.oes_texture_float?(d(5121===B||5126===B,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),
5126===B&&d(r.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):d(5121===B,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var t=0,A=0,I=a.framebufferWidth,y=a.framebufferHeight,E=null;V(F)?E=F:F&&(d.type(F,"object","invalid arguments to regl.read()"),t=F.x|0,A=F.y|0,d(0<=t&&t<a.framebufferWidth,"invalid x offset for regl.read"),d(0<=A&&A<a.framebufferHeight,"invalid y offset for regl.read"),
I=(F.width||a.framebufferWidth-t)|0,y=(F.height||a.framebufferHeight-A)|0,E=F.data||null);E&&(5121===B?d(E instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===B&&d(E instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'"));d(0<I&&I+t<=a.framebufferWidth,"invalid width for read pixels");d(0<y&&y+A<=a.framebufferHeight,"invalid height for read pixels");f();F=I*y*4;E||(5121===B?E=new Uint8Array(F):
5126===B&&(E=E||new Float32Array(F)));d.isTypedArray(E,"data buffer for regl.read() must be a typedarray");d(E.byteLength>=F,"data buffer for regl.read() too small");p.pixelStorei(3333,4);p.readPixels(t,A,I,y,6408,B,E);return E}function ka(a){var c;H.setFBO({framebuffer:a.framebuffer},function(){c=ga(a)});return c}return function(a){return a&&"framebuffer"in a?ka(a):ga(a)}}},{"./util/check":21,"./util/is-typed-array":30}],15:[function(z,N,Za){var d=z("./util/sorted-object-keys"),V=z("./util/check"),
p=z("./util/values"),H=[];H[32854]=2;H[32855]=2;H[36194]=2;H[33189]=2;H[36168]=1;H[34041]=4;H[35907]=4;H[34836]=16;H[34842]=8;H[34843]=6;N.exports=function(f,a,u,c,r){function ga(a){this.id=t++;this.refCount=1;this.renderbuffer=a;this.format=32854;this.height=this.width=0;r.profile&&(this.stats={size:0})}function ka(a){var d=a.renderbuffer;V(d,"must not double destroy renderbuffer");f.bindRenderbuffer(36161,null);f.deleteRenderbuffer(d);a.renderbuffer=null;a.refCount=0;delete A[a.id];c.renderbufferCount--}
var F={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};a.ext_srgb&&(F.srgba=35907);a.ext_color_buffer_half_float&&(F.rgba16f=34842,F.rgb16f=34843);a.webgl_color_buffer_float&&(F.rgba32f=34836);var B=[];d(F).forEach(function(a){B[F[a]]=a});var t=0,A={};ga.prototype.decRef=function(){0>=--this.refCount&&ka(this)};r.profile&&(c.getTotalRenderbufferSize=function(){var a=0;d(A).forEach(function(c){a+=A[c].stats.size});return a});return{create:function(a,d){function t(a,
c){var k=0,h=0,g=32854;"object"===typeof a&&a?("shape"in a?(h=a.shape,V(Array.isArray(h)&&2<=h.length,"invalid renderbuffer shape"),k=h[0]|0,h=h[1]|0):("radius"in a&&(k=h=a.radius|0),"width"in a&&(k=a.width|0),"height"in a&&(h=a.height|0)),"format"in a&&(V.parameter(a.format,F,"invalid renderbuffer format"),g=F[a.format])):"number"===typeof a?(k=a|0,h="number"===typeof c?c|0:k):a?V.raise("invalid arguments to renderbuffer constructor"):k=h=1;V(0<k&&0<h&&k<=u.maxRenderbufferSize&&h<=u.maxRenderbufferSize,
"invalid renderbuffer size");if(k!==p.width||h!==p.height||g!==p.format)return t.width=p.width=k,t.height=p.height=h,p.format=g,f.bindRenderbuffer(36161,p.renderbuffer),f.renderbufferStorage(36161,g,k,h),V(0===f.getError(),"invalid render buffer format"),r.profile&&(p.stats.size=H[p.format]*p.width*p.height),t.format=B[p.format],t}var p=new ga(f.createRenderbuffer());A[p.id]=p;c.renderbufferCount++;t(a,d);t.resize=function(a,c){var k=a|0,h=c|0||k;if(k===p.width&&h===p.height)return t;V(0<k&&0<h&&
k<=u.maxRenderbufferSize&&h<=u.maxRenderbufferSize,"invalid renderbuffer size");t.width=p.width=k;t.height=p.height=h;f.bindRenderbuffer(36161,p.renderbuffer);f.renderbufferStorage(36161,p.format,k,h);V(0===f.getError(),"invalid render buffer format");r.profile&&(p.stats.size=H[p.format]*p.width*p.height);return t};t._reglType="renderbuffer";t._renderbuffer=p;r.profile&&(t.stats=p.stats);t.destroy=function(){p.decRef()};return t},clear:function(){p(A).forEach(ka)},restore:function(){p(A).forEach(function(a){a.renderbuffer=
f.createRenderbuffer();f.bindRenderbuffer(36161,a.renderbuffer);f.renderbufferStorage(36161,a.format,a.width,a.height)});f.bindRenderbuffer(36161,null)}}}},{"./util/check":21,"./util/sorted-object-keys":34,"./util/values":36}],16:[function(z,N,Za){var d=z("./util/sorted-object-keys"),V=z("./util/check"),p=z("./util/extend"),H=z("./util/values");N.exports=function(f,a,u,c){function r(a,c,f,k){this.name=a;this.id=c;this.location=f;this.info=k}function ga(a,c){for(var f=0;f<a.length;++f)if(a[f].id===
c.id){a[f].location=c.location;return}a.push(c)}function ka(c,d,u){var k=35632===c?t:A,h=k[d];if(!h){var g=a.str(d),h=f.createShader(c);f.shaderSource(h,g);f.compileShader(h);V.shaderError(f,h,g,c,u);k[d]=h}return h}function F(a,f){this.id=E++;this.fragId=a;this.vertId=f;this.program=null;this.uniforms=[];this.attributes=[];this.refCount=1;c.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function B(d,t,u){var k;k=ka(35632,d.fragId);var h=ka(35633,d.vertId),g=d.program=f.createProgram();
f.attachShader(g,k);f.attachShader(g,h);if(u)for(k=0;k<u.length;++k)h=u[k],f.bindAttribLocation(g,h[0],h[1]);f.linkProgram(g);V.linkError(f,g,a.str(d.fragId),a.str(d.vertId),t);u=f.getProgramParameter(g,35718);c.profile&&(d.stats.uniformsCount=u);h=d.uniforms;for(k=0;k<u;++k)if(t=f.getActiveUniform(g,k))if(1<t.size)for(var q=0;q<t.size;++q){var y=t.name.replace("[0]","["+q+"]");ga(h,new r(y,a.id(y),f.getUniformLocation(g,y),t))}else ga(h,new r(t.name,a.id(t.name),f.getUniformLocation(g,t.name),t));
u=f.getProgramParameter(g,35721);c.profile&&(d.stats.attributesCount=u);d=d.attributes;for(k=0;k<u;++k)(t=f.getActiveAttrib(g,k))&&ga(d,new r(t.name,a.id(t.name),f.getAttribLocation(g,t.name),t))}var t={},A={},I={},y=[],E=0;c.profile&&(u.getMaxUniformsCount=function(){var a=0;y.forEach(function(c){c.stats.uniformsCount>a&&(a=c.stats.uniformsCount)});return a},u.getMaxAttributesCount=function(){var a=0;y.forEach(function(c){c.stats.attributesCount>a&&(a=c.stats.attributesCount)});return a});return{clear:function(){var a=
f.deleteShader.bind(f);H(t).forEach(a);t={};H(A).forEach(a);A={};y.forEach(function(a){f.deleteProgram(a.program)});y.length=0;I={};u.shaderCount=0},program:function(a,c,r,k){V.command(0<=a,"missing vertex shader",r);V.command(0<=c,"missing fragment shader",r);var h=I[c];h||(h=I[c]={});var g=h[a];if(g&&(g.refCount++,!k))return g;var q=new F(c,a);u.shaderCount++;B(q,r,k);g||(h[a]=q);y.push(q);return p(q,{destroy:function(){q.refCount--;if(0>=q.refCount){f.deleteProgram(q.program);var a=y.indexOf(q);
y.splice(a,1);u.shaderCount--}0>=h[q.vertId].refCount&&(f.deleteShader(A[q.vertId]),delete A[q.vertId],delete I[q.fragId][q.vertId]);d(I[q.fragId]).length||(f.deleteShader(t[q.fragId]),delete t[q.fragId],delete I[q.fragId])}})},restore:function(){t={};A={};for(var a=0;a<y.length;++a)B(y[a],null,y[a].attributes.map(function(a){return[a.location,a.name]}))},shader:ka,frag:-1,vert:-1}}},{"./util/check":21,"./util/extend":25,"./util/sorted-object-keys":34,"./util/values":36}],17:[function(z,N,Za){N.exports=
function(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}},{}],18:[function(z,N,Za){N.exports=function(){var d={"":0},V=[""];return{id:function(p){var H=d[p];if(H)return H;H=d[p]=V.length;V.push(p);return H},str:function(d){return V[d]}}}},{}],19:[function(z,N,Za){function d(a){return"[object "+a+"]"}function V(a){return Array.isArray(a)&&(0===a.length||"number"===typeof a[0])}function p(a){return Array.isArray(a)&&
0!==a.length&&I(a[0])?!0:!1}function H(a){return Object.prototype.toString.call(a)}function f(a){if(!a)return!1;var c=H(a);return 0<=pa.indexOf(c)?!0:V(a)||p(a)||B(a)}function a(a,c){36193===a.type?(a.data=A(c),t.freeType(c)):a.data=c}function u(a,c,g,f,h,q){a="undefined"!==typeof fa[a]?fa[a]:k[a]*J[c];q&&(a*=6);if(h){for(f=0;1<=g;)f+=a*g*g,g/=2;return f}return a*g*f}var c=z("./util/sorted-object-keys"),r=z("./util/check"),ga=z("./util/extend"),ka=z("./util/values"),F=z("./util/is-typed-array"),B=
z("./util/is-ndarray"),t=z("./util/pool"),A=z("./util/to-half-float"),I=z("./util/is-array-like"),y=z("./util/flatten"),E=z("./util/is-pow2");Za=z("./constants/arraytypes.json");var Z=z("./constants/arraytypes.json"),G=[9984,9986,9985,9987],pc=[0,6409,6410,6407,6408],k={};k[6409]=k[6406]=k[6402]=1;k[34041]=k[6410]=2;k[6407]=k[35904]=3;k[6408]=k[35906]=4;var h=d("HTMLCanvasElement"),g=d("OffscreenCanvas"),q=d("CanvasRenderingContext2D"),Q=d("ImageBitmap"),R=d("HTMLImageElement"),m=d("HTMLVideoElement"),
pa=c(Za).concat([h,g,q,Q,R,m]),J=[];J[5121]=1;J[5126]=4;J[36193]=2;J[5123]=2;J[5125]=4;var fa=[];fa[32854]=2;fa[32855]=2;fa[36194]=2;fa[34041]=4;fa[33776]=.5;fa[33777]=.5;fa[33778]=1;fa[33779]=1;fa[35986]=.5;fa[35987]=1;fa[34798]=1;fa[35840]=.5;fa[35841]=.25;fa[35842]=.5;fa[35843]=.25;fa[36196]=.5;N.exports=function(b,e,d,J,fa,pa,z){function ma(){this.format=this.internalformat=6408;this.type=5121;this.flipY=this.premultiplyAlpha=this.compressed=!1;this.unpackAlignment=1;this.colorSpace=37444;this.channels=
this.height=this.width=0}function Pa(a,b){a.internalformat=b.internalformat;a.format=b.format;a.type=b.type;a.compressed=b.compressed;a.premultiplyAlpha=b.premultiplyAlpha;a.flipY=b.flipY;a.unpackAlignment=b.unpackAlignment;a.colorSpace=b.colorSpace;a.width=b.width;a.height=b.height;a.channels=b.channels}function Y(a,b){if("object"===typeof b&&b){"premultiplyAlpha"in b&&(r.type(b.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),a.premultiplyAlpha=b.premultiplyAlpha);"flipY"in b&&(r.type(b.flipY,
"boolean","invalid texture flip"),a.flipY=b.flipY);"alignment"in b&&(r.oneOf(b.alignment,[1,2,4,8],"invalid texture unpack alignment"),a.unpackAlignment=b.alignment);"colorSpace"in b&&(r.parameter(b.colorSpace,vc,"invalid colorSpace"),a.colorSpace=vc[b.colorSpace]);if("type"in b){var c=b.type;r(e.oes_texture_float||!("float"===c||"float32"===c),"you must enable the OES_texture_float extension in order to use floating point textures.");r(e.oes_texture_half_float||!("half float"===c||"float16"===c),
"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures.");r(e.webgl_depth_texture||!("uint16"===c||"uint32"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.");r.parameter(c,aa,"invalid texture type");a.type=aa[c]}var g=a.width,f=a.height,h=a.channels,c=!1;"shape"in b?(r(Array.isArray(b.shape)&&2<=b.shape.length,"shape must be an array"),g=b.shape[0],f=b.shape[1],3===b.shape.length&&(h=
b.shape[2],r(0<h&&4>=h,"invalid number of channels"),c=!0),r(0<=g&&g<=d.maxTextureSize,"invalid width"),r(0<=f&&f<=d.maxTextureSize,"invalid height")):("radius"in b&&(g=f=b.radius,r(0<=g&&g<=d.maxTextureSize,"invalid radius")),"width"in b&&(g=b.width,r(0<=g&&g<=d.maxTextureSize,"invalid width")),"height"in b&&(f=b.height,r(0<=f&&f<=d.maxTextureSize,"invalid height")),"channels"in b&&(h=b.channels,r(0<h&&4>=h,"invalid number of channels"),c=!0));a.width=g|0;a.height=f|0;a.channels=h|0;g=!1;"format"in
b&&(g=b.format,r(e.webgl_depth_texture||!("depth"===g||"depth stencil"===g),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),r.parameter(g,L,"invalid texture format"),f=a.internalformat=L[g],a.format=ua[f],g in aa&&!("type"in b)&&(a.type=aa[g]),g in ja&&(a.compressed=!0),g=!0);!c&&g?a.channels=k[a.format]:c&&!g?a.channels!==pc[a.format]&&(a.format=a.internalformat=pc[a.channels]):g&&c&&r(a.channels===k[a.format],"number of channels inconsistent with specified format")}}
function K(a){b.pixelStorei(37440,a.flipY);b.pixelStorei(37441,a.premultiplyAlpha);b.pixelStorei(37443,a.colorSpace);b.pixelStorei(3317,a.unpackAlignment)}function M(){ma.call(this);this.yOffset=this.xOffset=0;this.data=null;this.needsFree=!1;this.element=null;this.needsCopy=!1}function T(b,c){var e=null;f(c)?e=c:c&&(r.type(c,"object","invalid pixel data type"),Y(b,c),"x"in c&&(b.xOffset=c.x|0),"y"in c&&(b.yOffset=c.y|0),f(c.data)&&(e=c.data));r(!b.compressed||e instanceof Uint8Array,"compressed texture data must be stored in a uint8array");
if(c.copy){r(!e,"can not specify copy and data field for the same texture");var l=fa.viewportWidth,k=fa.viewportHeight;b.width=b.width||l-b.xOffset;b.height=b.height||k-b.yOffset;b.needsCopy=!0;r(0<=b.xOffset&&b.xOffset<l&&0<=b.yOffset&&b.yOffset<k&&0<b.width&&b.width<=l&&0<b.height&&b.height<=k,"copy texture read out of bounds")}else if(!e)b.width=b.width||1,b.height=b.height||1,b.channels=b.channels||4;else if(F(e))b.channels=b.channels||4,b.data=e,"type"in c||5121!==b.type||(b.type=Z[Object.prototype.toString.call(e)]|
0);else if(V(e)){b.channels=b.channels||4;l=e;k=l.length;switch(b.type){case 5121:case 5123:case 5125:case 5126:k=t.allocType(b.type,k);k.set(l);b.data=k;break;case 36193:b.data=A(l);break;default:r.raise("unsupported texture type, must specify a typed array")}b.alignment=1;b.needsFree=!0}else if(B(e)){l=e.data;Array.isArray(l)||5121!==b.type||(b.type=Z[Object.prototype.toString.call(l)]|0);var k=e.shape,w=e.stride,n,x,v,u;3===k.length?(v=k[2],u=w[2]):(r(2===k.length,"invalid ndarray pixel data, must be 2 or 3D"),
u=v=1);n=k[0];x=k[1];k=w[0];w=w[1];b.alignment=1;b.width=n;b.height=x;b.channels=v;b.format=b.internalformat=pc[v];b.needsFree=!0;n=u;e=e.offset;v=b.width;u=b.height;x=b.channels;for(var L=t.allocType(36193===b.type?5126:b.type,v*u*x),D=0,da=0;da<u;++da)for(var C=0;C<v;++C)for(var J=0;J<x;++J)L[D++]=l[k*C+w*da+n*J+e];a(b,L)}else if(H(e)===h||H(e)===g||H(e)===q)H(e)===h||H(e)===g?b.element=e:b.element=e.canvas,b.width=b.element.width,b.height=b.element.height,b.channels=4;else if(H(e)===Q)b.element=
e,b.width=e.width,b.height=e.height,b.channels=4;else if(H(e)===R)b.element=e,b.width=e.naturalWidth,b.height=e.naturalHeight,b.channels=4;else if(H(e)===m)b.element=e,b.width=e.videoWidth,b.height=e.videoHeight,b.channels=4;else if(p(e)){l=b.width||e[0].length;k=b.height||e.length;w=b.channels;w=I(e[0][0])?w||e[0][0].length:w||1;n=y.shape(e);v=1;for(u=0;u<n.length;++u)v*=n[u];v=t.allocType(36193===b.type?5126:b.type,v);y.flatten(e,n,"",v);a(b,v);b.alignment=1;b.width=l;b.height=k;b.channels=w;b.format=
b.internalformat=pc[w];b.needsFree=!0}5126===b.type?r(0<=d.extensions.indexOf("oes_texture_float"),"oes_texture_float extension not enabled"):36193===b.type&&r(0<=d.extensions.indexOf("oes_texture_half_float"),"oes_texture_half_float extension not enabled")}function qa(a,c,g,f,h){var e=a.element,n=a.data,k=a.internalformat,q=a.format,m=a.type,w=a.width,d=a.height;K(a);e?b.texSubImage2D(c,h,g,f,q,m,e):a.compressed?b.compressedTexSubImage2D(c,h,g,f,k,w,d,n):a.needsCopy?(J(),b.copyTexSubImage2D(c,h,
g,f,a.xOffset,a.yOffset,w,d)):b.texSubImage2D(c,h,g,f,w,d,q,m,n)}function O(){return U.pop()||new M}function Wb(a){a.needsFree&&t.freeType(a.data);M.call(a);U.push(a)}function $a(){ma.call(this);this.genMipmaps=!1;this.mipmapHint=4352;this.mipmask=0;this.images=Array(16)}function P(a,b,c){var g=a.images[0]=O();a.mipmask=1;g.width=a.width=b;g.height=a.height=c;g.channels=a.channels=4}function x(a,b){var c=null;if(f(b))c=a.images[0]=O(),Pa(c,a),T(c,b),a.mipmask=1;else if(Y(a,b),Array.isArray(b.mipmap))for(var g=
b.mipmap,h=0;h<g.length;++h)c=a.images[h]=O(),Pa(c,a),c.width>>=h,c.height>>=h,T(c,g[h]),a.mipmask|=1<<h;else c=a.images[0]=O(),Pa(c,a),T(c,b),a.mipmask=1;Pa(a,a.images[0]);!a.compressed||33776!==a.internalformat&&33777!==a.internalformat&&33778!==a.internalformat&&33779!==a.internalformat||r(0===a.width%4&&0===a.height%4,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function la(a,c){for(var g=a.images,f=0;f<g.length&&g[f];++f){var h=g[f],e=
c,n=f,k=h.element,q=h.data,m=h.internalformat,w=h.format,d=h.type,v=h.width,x=h.height;K(h);k?b.texImage2D(e,n,w,w,d,k):h.compressed?b.compressedTexImage2D(e,n,m,v,x,0,q):h.needsCopy?(J(),b.copyTexImage2D(e,n,w,h.xOffset,h.yOffset,v,x,0)):b.texImage2D(e,n,w,v,x,0,w,d,q||null)}}function ca(){var a=ha.pop()||new $a;ma.call(a);for(var b=a.mipmask=0;16>b;++b)a.images[b]=null;return a}function Ea(a){for(var b=a.images,c=0;c<b.length;++c)b[c]&&Wb(b[c]),b[c]=null;ha.push(a)}function Ma(){this.magFilter=
this.minFilter=9728;this.wrapT=this.wrapS=33071;this.anisotropic=1;this.genMipmaps=!1;this.mipmapHint=4352}function N(a,b){if("min"in b){var c=b.min;r.parameter(c,td);a.minFilter=td[c];0<=G.indexOf(a.minFilter)&&!("faces"in b)&&(a.genMipmaps=!0)}"mag"in b&&(c=b.mag,r.parameter(c,kc),a.magFilter=kc[c]);var c=a.wrapS,g=a.wrapT;if("wrap"in b){var f=b.wrap;"string"===typeof f?(r.parameter(f,nc),c=g=nc[f]):Array.isArray(f)&&(r.parameter(f[0],nc),r.parameter(f[1],nc),c=nc[f[0]],g=nc[f[1]])}else"wrapS"in
b&&(c=b.wrapS,r.parameter(c,nc),c=nc[c]),"wrapT"in b&&(g=b.wrapT,r.parameter(g,nc),g=nc[g]);a.wrapS=c;a.wrapT=g;"anisotropic"in b&&(c=b.anisotropic,r("number"===typeof c&&1<=c&&c<=d.maxAnisotropic,"aniso samples must be between 1 and "),a.anisotropic=b.anisotropic);if("mipmap"in b){c=!1;switch(typeof b.mipmap){case "string":r.parameter(b.mipmap,cc,"invalid mipmap hint");a.mipmapHint=cc[b.mipmap];c=a.genMipmaps=!0;break;case "boolean":c=a.genMipmaps=b.mipmap;break;case "object":r(Array.isArray(b.mipmap),
"invalid mipmap type");a.genMipmaps=!1;c=!0;break;default:r.raise("invalid mipmap type")}!c||"min"in b||(a.minFilter=9984)}}function Ha(a,c){b.texParameteri(c,10241,a.minFilter);b.texParameteri(c,10240,a.magFilter);b.texParameteri(c,10242,a.wrapS);b.texParameteri(c,10243,a.wrapT);e.ext_texture_filter_anisotropic&&b.texParameteri(c,34046,a.anisotropic);a.genMipmaps&&(b.hint(33170,a.mipmapHint),b.generateMipmap(c))}function W(a){ma.call(this);this.mipmask=0;this.internalformat=6408;this.id=ra++;this.refCount=
1;this.target=a;this.texture=b.createTexture();this.unit=-1;this.bindCount=0;this.texInfo=new Ma;z.profile&&(this.stats={size:0})}function ib(a){b.activeTexture(33984);b.bindTexture(a.target,a.texture)}function ea(){var a=da[0];a?b.bindTexture(a.target,a.texture):b.bindTexture(3553,null)}function sa(a){var c=a.texture;r(c,"must not double destroy texture");var g=a.unit,f=a.target;0<=g&&(b.activeTexture(33984+g),b.bindTexture(f,null),da[g]=null);b.deleteTexture(c);a.texture=null;a.params=null;a.pixels=
null;a.refCount=0;delete D[a.id];pa.textureCount--}var cc={"don't care":4352,"dont care":4352,nice:4354,fast:4353},nc={repeat:10497,clamp:33071,mirror:33648},kc={nearest:9728,linear:9729},td=ga({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},kc),vc={none:0,browser:37444},aa={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},L={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,
rgb565:36194},ja={};e.ext_srgb&&(L.srgb=35904,L.srgba=35906);e.oes_texture_float&&(aa.float32=aa["float"]=5126);e.oes_texture_half_float&&(aa.float16=aa["half float"]=36193);e.webgl_depth_texture&&(ga(L,{depth:6402,"depth stencil":34041}),ga(aa,{uint16:5123,uint32:5125,"depth stencil":34042}));e.webgl_compressed_texture_s3tc&&ga(ja,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779});e.webgl_compressed_texture_atc&&ga(ja,{"rgb atc":35986,"rgba atc explicit alpha":35987,
"rgba atc interpolated alpha":34798});e.webgl_compressed_texture_pvrtc&&ga(ja,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843});e.webgl_compressed_texture_etc1&&(ja["rgb etc1"]=36196);var Ba=Array.prototype.slice.call(b.getParameter(34467));c(ja).forEach(function(a){var b=ja[a];0<=Ba.indexOf(b)&&(L[a]=b)});var Gb=c(L);d.textureFormats=Gb;var Jc=[];c(L).forEach(function(a){Jc[L[a]]=a});var Bc=[];c(aa).forEach(function(a){Bc[aa[a]]=a});var C=[];
c(kc).forEach(function(a){C[kc[a]]=a});var v=[];c(td).forEach(function(a){v[td[a]]=a});var ia=[];c(nc).forEach(function(a){ia[nc[a]]=a});var ua=Gb.reduce(function(a,b){var c=L[b];6409===c||6406===c||6409===c||6410===c||6402===c||34041===c||e.ext_srgb&&(35904===c||35906===c)?a[c]=c:32855===c||0<=b.indexOf("rgba")?a[c]=6408:a[c]=6407;return a},{}),U=[],ha=[],ra=0,D={},w=d.maxTextureUnits,da=Array(w).map(function(){return null});ga(W.prototype,{bind:function(){this.bindCount+=1;var a=this.unit;if(0>
a){for(var c=0;c<w;++c){var g=da[c];if(g){if(0<g.bindCount)continue;g.unit=-1}da[c]=this;a=c;break}a>=w&&r.raise("insufficient number of texture units");z.profile&&pa.maxTextureUnits<a+1&&(pa.maxTextureUnits=a+1);this.unit=a;b.activeTexture(33984+a);b.bindTexture(this.target,this.texture)}return a},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&sa(this)}});z.profile&&(pa.getTotalTextureSize=function(){var a=0;c(D).forEach(function(b){a+=D[b].stats.size});return a});return{create2D:function(a,
c){function g(a,b){var c=f.texInfo;Ma.call(c);var h=ca();"number"===typeof a?"number"===typeof b?P(h,a|0,b|0):P(h,a|0,a|0):a?(r.type(a,"object","invalid arguments to regl.texture"),N(c,a),x(h,a)):P(h,1,1);c.genMipmaps&&(h.mipmask=(h.width<<1)-1);f.mipmask=h.mipmask;Pa(f,h);r.texture2D(c,h,d);f.internalformat=h.internalformat;g.width=h.width;g.height=h.height;ib(f);la(h,3553);Ha(c,3553);ea();Ea(h);z.profile&&(f.stats.size=u(f.internalformat,f.type,h.width,h.height,c.genMipmaps,!1));g.format=Jc[f.internalformat];
g.type=Bc[f.type];g.mag=C[c.magFilter];g.min=v[c.minFilter];g.wrapS=ia[c.wrapS];g.wrapT=ia[c.wrapT];return g}var f=new W(3553);D[f.id]=f;pa.textureCount++;g(a,c);g.subimage=function(a,b,c,h){r(!!a,"must specify image data");b|=0;c|=0;h|=0;var e=O();Pa(e,f);e.width=0;e.height=0;T(e,a);e.width=e.width||(f.width>>h)-b;e.height=e.height||(f.height>>h)-c;r(f.type===e.type&&f.format===e.format&&f.internalformat===e.internalformat,"incompatible format for texture.subimage");r(0<=b&&0<=c&&b+e.width<=f.width&&
c+e.height<=f.height,"texture.subimage write out of bounds");r(f.mipmask&1<<h,"missing mipmap data");r(e.data||e.element||e.needsCopy,"missing image data");ib(f);qa(e,3553,b,c,h);ea();Wb(e);return g};g.resize=function(a,c){var h=a|0,e=c|0||h;if(h===f.width&&e===f.height)return g;g.width=f.width=h;g.height=f.height=e;ib(f);for(var k=0;f.mipmask>>k;++k){var q=h>>k,m=e>>k;if(!q||!m)break;b.texImage2D(3553,k,f.format,q,m,0,f.format,f.type,null)}ea();z.profile&&(f.stats.size=u(f.internalformat,f.type,
h,e,!1,!1));return g};g._reglType="texture2d";g._texture=f;z.profile&&(g.stats=f.stats);g.destroy=function(){f.decRef()};return g},createCube:function(a,c,g,f,h,e){function k(a,b,c,g,f,h){var e,l=q.texInfo;Ma.call(l);for(e=0;6>e;++e)m[e]=ca();if("number"!==typeof a&&a)if("object"===typeof a)if(b)x(m[0],a),x(m[1],b),x(m[2],c),x(m[3],g),x(m[4],f),x(m[5],h);else if(N(l,a),Y(q,a),"faces"in a)for(a=a.faces,r(Array.isArray(a)&&6===a.length,"cube faces must be a length 6 array"),e=0;6>e;++e)r("object"===
typeof a[e]&&!!a[e],"invalid input for cube map face"),Pa(m[e],q),x(m[e],a[e]);else for(e=0;6>e;++e)x(m[e],a);else r.raise("invalid arguments to cube map");else for(a=a|0||1,e=0;6>e;++e)P(m[e],a,a);Pa(q,m[0]);r.optional(function(){d.npotTextureCube||r(E(q.width)&&E(q.height),"your browser does not support non power or two texture dimensions")});q.mipmask=l.genMipmaps?(m[0].width<<1)-1:m[0].mipmask;r.textureCube(q,l,m,d);q.internalformat=m[0].internalformat;k.width=m[0].width;k.height=m[0].height;
ib(q);for(e=0;6>e;++e)la(m[e],34069+e);Ha(l,34067);ea();z.profile&&(q.stats.size=u(q.internalformat,q.type,k.width,k.height,l.genMipmaps,!0));k.format=Jc[q.internalformat];k.type=Bc[q.type];k.mag=C[l.magFilter];k.min=v[l.minFilter];k.wrapS=ia[l.wrapS];k.wrapT=ia[l.wrapT];for(e=0;6>e;++e)Ea(m[e]);return k}var q=new W(34067);D[q.id]=q;pa.cubeCount++;var m=Array(6);k(a,c,g,f,h,e);k.subimage=function(a,b,c,g,f){r(!!b,"must specify image data");r("number"===typeof a&&a===(a|0)&&0<=a&&6>a,"invalid face");
c|=0;g|=0;f|=0;var h=O();Pa(h,q);h.width=0;h.height=0;T(h,b);h.width=h.width||(q.width>>f)-c;h.height=h.height||(q.height>>f)-g;r(q.type===h.type&&q.format===h.format&&q.internalformat===h.internalformat,"incompatible format for texture.subimage");r(0<=c&&0<=g&&c+h.width<=q.width&&g+h.height<=q.height,"texture.subimage write out of bounds");r(q.mipmask&1<<f,"missing mipmap data");r(h.data||h.element||h.needsCopy,"missing image data");ib(q);qa(h,34069+a,c,g,f);ea();Wb(h);return k};k.resize=function(a){a|=
0;if(a!==q.width){k.width=q.width=a;k.height=q.height=a;ib(q);for(var c=0;6>c;++c)for(var g=0;q.mipmask>>g;++g)b.texImage2D(34069+c,g,q.format,a>>g,a>>g,0,q.format,q.type,null);ea();z.profile&&(q.stats.size=u(q.internalformat,q.type,k.width,k.height,!1,!0));return k}};k._reglType="textureCube";k._texture=q;z.profile&&(k.stats=q.stats);k.destroy=function(){q.decRef()};return k},clear:function(){for(var a=0;a<w;++a)b.activeTexture(33984+a),b.bindTexture(3553,null),da[a]=null;ka(D).forEach(sa);pa.cubeCount=
0;pa.textureCount=0},getTexture:function(a){return null},restore:function(){for(var a=0;a<w;++a){var c=da[a];c&&(c.bindCount=0,c.unit=-1,da[a]=null)}ka(D).forEach(function(a){a.texture=b.createTexture();b.bindTexture(a.target,a.texture);for(var c=0;32>c;++c)if(0!==(a.mipmask&1<<c))if(3553===a.target)b.texImage2D(3553,c,a.internalformat,a.width>>c,a.height>>c,0,a.internalformat,a.type,null);else for(var g=0;6>g;++g)b.texImage2D(34069+g,c,a.internalformat,a.width>>c,a.height>>c,0,a.internalformat,a.type,
null);Ha(a.texInfo,a.target)})},refresh:function(){for(var a=0;a<w;++a){var c=da[a];c&&(c.bindCount=0,c.unit=-1,da[a]=null);b.activeTexture(33984+a);b.bindTexture(3553,null);b.bindTexture(34067,null)}}}}},{"./constants/arraytypes.json":4,"./util/check":21,"./util/extend":25,"./util/flatten":26,"./util/is-array-like":27,"./util/is-ndarray":28,"./util/is-pow2":29,"./util/is-typed-array":30,"./util/pool":32,"./util/sorted-object-keys":34,"./util/to-half-float":35,"./util/values":36}],20:[function(z,
N,Za){N.exports=function(d,V){function p(){this.endQueryIndex=this.startQueryIndex=-1;this.sum=0;this.stats=null}function H(a,f,d){var t=u.pop()||new p;t.startQueryIndex=a;t.endQueryIndex=f;t.sum=0;t.stats=d;c.push(t)}if(!V.ext_disjoint_timer_query)return null;var f=[],a=[],u=[],c=[],r=[],ga=[];return{beginQuery:function(c){var d=f.pop()||V.ext_disjoint_timer_query.createQueryEXT();V.ext_disjoint_timer_query.beginQueryEXT(35007,d);a.push(d);H(a.length-1,a.length,c)},endQuery:function(){V.ext_disjoint_timer_query.endQueryEXT(35007)},
pushScopeStats:H,update:function(){var d,p;d=a.length;if(0!==d){ga.length=Math.max(ga.length,d+1);r.length=Math.max(r.length,d+1);r[0]=0;var B=ga[0]=0;for(p=d=0;p<a.length;++p){var t=a[p];V.ext_disjoint_timer_query.getQueryObjectEXT(t,34919)?(B+=V.ext_disjoint_timer_query.getQueryObjectEXT(t,34918),f.push(t)):a[d++]=t;r[p+1]=B;ga[p+1]=d}a.length=d;for(p=d=0;p<c.length;++p){var B=c[p],A=B.startQueryIndex,t=B.endQueryIndex;B.sum+=r[t]-r[A];A=ga[A];t=ga[t];t===A?(B.stats.gpuTime+=B.sum/1E6,u.push(B)):
(B.startQueryIndex=A,B.endQueryIndex=t,c[d++]=B)}c.length=d}},getNumPendingQueries:function(){return a.length},clear:function(){f.push.apply(f,a);for(var c=0;c<f.length;c++)V.ext_disjoint_timer_query.deleteQueryEXT(f[c]);a.length=0;f.length=0},restore:function(){a.length=0;f.length=0}}}},{}],21:[function(z,N,Za){function d(a){return"undefined"!==typeof atob?atob(a):"base64:"+a}function V(a){a=Error("(regl) "+a);console.error(a);throw a;}function p(a,c){a||V(c)}function H(a){return a?": "+a:""}function f(a,
c){switch(c){case "number":return"number"===typeof a;case "object":return"object"===typeof a;case "string":return"string"===typeof a;case "boolean":return"boolean"===typeof a;case "function":return"function"===typeof a;case "undefined":return"undefined"===typeof a;case "symbol":return"symbol"===typeof a}}function a(a,c,f){0>c.indexOf(a)&&V("invalid value"+H(f)+". must be one of: "+c)}function u(a,c){for(a+="";a.length<c;)a=" "+a;return a}function c(){this.name="unknown";this.lines=[];this.index={};
this.hasErrors=!1}function r(a,c){this.number=a;this.line=c;this.errors=[]}function ga(a,c,f){this.file=a;this.line=c;this.message=f}function ka(){var a=Error(),a=(a.stack||a).toString(),c=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(a);return c?c[1]:(a=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(a))?a[1]:"unknown"}function F(){var a=Error(),a=(a.stack||a).toString(),c=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(a);return c?c[1]:(a=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(a))?a[1]:"unknown"}function B(a,
f){var h=a.split("\n"),k=1,m=0,t={unknown:new c,0:new c};t.unknown.name=t[0].name=f||ka();t.unknown.lines.push(new r(0,""));for(var u=0;u<h.length;++u){var y=h[u],b=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(y);if(b)switch(b[1]){case "line":if(b=/(\d+)(\s+\d+)?/.exec(b[2]))k=b[1]|0,b[2]&&(m=b[2]|0,m in t||(t[m]=new c));break;case "define":if(b=/SHADER_NAME(_B64)?\s+(.*)$/.exec(b[2]))t[m].name=b[1]?d(b[2]):b[2]}t[m].lines.push(new r(k++,y))}G(t).forEach(function(a){var b=t[a];b.lines.forEach(function(a){b.index[a.number]=
a})});return t}function t(a){var c=[];a.split("\n").forEach(function(a){if(!(5>a.length)){var g=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(a);g?c.push(new ga(g[1]|0,g[2]|0,g[3].trim())):0<a.length&&c.push(new ga("unknown",0,a))}});return c}function A(a,c){c.forEach(function(c){var f=a[c.file];if(f){var h=f.index[c.line];if(h){h.errors.push(c);f.hasErrors=!0;return}}a.unknown.hasErrors=!0;a.unknown.lines[0].errors.push(c)})}function I(a){a._commandRef=ka()}function y(a,c){var f=F();V(a+" in command "+(c||
ka())+("unknown"===f?"":" called from "+f))}function E(a,c,h,k){f(a,c)||y("invalid parameter type"+H(h)+". expected "+c+", got "+typeof a,k||ka())}function Z(a,c){return 32820===a||32819===a||33635===a?2:34042===a?4:h[a]*c}var G=z("./sorted-object-keys"),pc=z("./is-typed-array");z=z("./extend");var k="gl canvas container attributes pixelRatio extensions optionalExtensions profile onDone".split(" "),h={};h[5120]=h[5121]=1;h[5122]=h[5123]=h[36193]=h[33635]=h[32819]=h[32820]=2;h[5124]=h[5125]=h[5126]=
h[34042]=4;N.exports=z(p,{optional:function(a){a()},raise:V,commandRaise:y,command:function(a,c,f){a||y(c,f||ka())},parameter:function(a,c,f){a in c||V("unknown parameter ("+a+")"+H(f)+". possible values: "+G(c).join())},commandParameter:function(a,c,f,h){a in c||y("unknown parameter ("+a+")"+H(f)+". possible values: "+G(c).join(),h||ka())},constructor:function(a){G(a).forEach(function(a){0>k.indexOf(a)&&V('invalid regl constructor argument "'+a+'". must be one of '+k)})},type:function(a,c,h){f(a,
c)||V("invalid parameter type"+H(h)+". expected "+c+", got "+typeof a)},commandType:E,isTypedArray:function(a,c){pc(a)||V("invalid parameter type"+H(c)+". must be a typed array")},nni:function(a,c){0<=a&&(a|0)===a||V("invalid parameter type, ("+a+")"+H(c)+". must be a nonnegative integer")},oneOf:a,shaderError:function(a,c,f,h,k){if(!a.getShaderParameter(c,a.COMPILE_STATUS)){c=a.getShaderInfoLog(c);a=h===a.FRAGMENT_SHADER?"fragment":"vertex";E(f,"string",a+" shader source must be a string",k);var d=
B(f,k);f=t(c);A(d,f);G(d).forEach(function(a){function c(a,b){g.push(a);f.push(b||"")}var b=d[a];if(b.hasErrors){var g=[""],f=[""];c("file number "+a+": "+b.name+"\n","color:red;text-decoration:underline;font-weight:bold");b.lines.forEach(function(a){if(0<a.errors.length){c(u(a.number,4)+"|  ","background-color:yellow; font-weight:bold");c(a.line+"\n","color:red; background-color:yellow; font-weight:bold");var b=0;a.errors.forEach(function(g){g=g.message;var f=/^\s*'(.*)'\s*:\s*(.*)$/.exec(g);if(f){var h=
f[1];g=f[2];switch(h){case "assign":h="="}b=Math.max(a.line.indexOf(h,b),0)}else b=0;c(u("| ",6));c(u("^^^",b+3)+"\n","font-weight:bold");c(u("| ",6));c(g+"\n","font-weight:bold")});c(u("| ",6)+"\n")}else c(u(a.number,4)+"|  "),c(a.line+"\n","color:red")});"undefined"===typeof document||window.chrome?console.log(g.join("")):(f[0]=g.join("%c"),console.log.apply(console,f))}});p.raise("Error compiling "+a+" shader, "+d[0].name)}},linkError:function(a,c,f,h,k){a.getProgramParameter(c,a.LINK_STATUS)||
(a=a.getProgramInfoLog(c),f=B(f,k),h='Error linking program with vertex shader, "'+B(h,k)[0].name+'", and fragment shader "'+f[0].name+'"',"undefined"!==typeof document?console.log("%c"+h+"\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(h+"\n"+a),p.raise(h))},callSite:F,saveCommandRef:I,saveDrawInfo:function(a,c,f,h){function k(a){return a?h.id(a):0}function d(a,b){G(b).forEach(function(b){a[h.id(b)]=!0})}I(a);a._fragId=k(a["static"].frag);a._vertId=k(a["static"].vert);
var t=a._uniformSet={};d(t,c["static"]);d(t,c.dynamic);c=a._attributeSet={};d(c,f["static"]);d(c,f.dynamic);a._hasCount="count"in a["static"]||"count"in a.dynamic||"elements"in a["static"]||"elements"in a.dynamic},framebufferFormat:function(c,f,h){c.texture?a(c.texture._texture.internalformat,f,"unsupported texture format for attachment"):a(c.renderbuffer._renderbuffer.format,h,"unsupported renderbuffer format for attachment")},guessCommand:ka,texture2D:function(a,c,f){var h=c.width,k=c.height,d=
c.channels;p(0<h&&h<=f.maxTextureSize&&0<k&&k<=f.maxTextureSize,"invalid texture shape");33071===a.wrapS&&33071===a.wrapT||p(!(h&h-1)&&!!h&&!(k&k-1)&&!!k,"incompatible wrap mode for texture, both width and height must be power of 2");1===c.mipmask?1!==h&&1!==k&&p(9984!==a.minFilter&&9986!==a.minFilter&&9985!==a.minFilter&&9987!==a.minFilter,"min filter requires mipmap"):(p(!(h&h-1)&&!!h&&!(k&k-1)&&!!k,"texture must be a square power of 2 to support mipmapping"),p(c.mipmask===(h<<1)-1,"missing or incomplete mipmap data"));
5126===c.type&&(0>f.extensions.indexOf("oes_texture_float_linear")&&p(9728===a.minFilter&&9728===a.magFilter,"filter not supported, must enable oes_texture_float_linear"),p(!a.genMipmaps,"mipmap generation not supported with float textures"));var t=c.images;for(f=0;16>f;++f)if(t[f]){var u=h>>f,b=k>>f;p(c.mipmask&1<<f,"missing mipmap data");var e=t[f];p(e.width===u&&e.height===b,"invalid shape for mip images");p(e.format===c.format&&e.internalformat===c.internalformat&&e.type===c.type,"incompatible type for mip image");
!e.compressed&&e.data&&(u=Math.ceil(Z(e.type,d)*u/e.unpackAlignment)*e.unpackAlignment,p(e.data.byteLength===u*b,"invalid data for image, buffer size is inconsistent with image format"))}else a.genMipmaps||p(0===(c.mipmask&1<<f),"extra mipmap data");c.compressed&&p(!a.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(a,c,f,h){var k=a.width,d=a.height,t=a.channels;p(0<k&&k<=h.maxTextureSize&&0<d&&d<=h.maxTextureSize,"invalid texture shape");p(k===d,"cube map must be square");
p(33071===c.wrapS&&33071===c.wrapT,"wrap mode not supported by cube map");for(h=0;h<f.length;++h){var u=f[h];p(u.width===k&&u.height===d,"inconsistent cube map face shape");c.genMipmaps&&(p(!u.compressed,"can not generate mipmap for compressed textures"),p(1===u.mipmask,"can not specify mipmaps and generate mipmaps"));for(var b=u.images,e=0;16>e;++e){var y=b[e];if(y){var r=k>>e,B=d>>e;p(u.mipmask&1<<e,"missing mipmap data");p(y.width===r&&y.height===B,"invalid shape for mip images");p(y.format===
a.format&&y.internalformat===a.internalformat&&y.type===a.type,"incompatible type for mip image");y.compressed||y.data&&p(y.data.byteLength===r*B*Math.max(Z(y.type,t),y.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format")}}}}})},{"./extend":25,"./is-typed-array":30,"./sorted-object-keys":34}],22:[function(z,N,Za){N.exports="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date}},{}],23:[function(z,N,Za){function d(d){return Array.prototype.slice.call(d)}
var V=z("./extend"),p=z("./compiled-fns");N.exports=function(){function H(){var a=[],c=[];return V(function(){a.push.apply(a,d(arguments))},{def:function(){var f="v"+u;u++;c.push(f);0<arguments.length&&(a.push(f,"="),a.push.apply(a,d(arguments)),a.push(";"));return f},toString:function(){return d([0<c.length?"var "+c.join(",")+";":"",d(a).join("")]).join("")}})}function f(){function a(d,t){f(d,t,"=",c.def(d,t),";")}var c=H(),f=H(),u=c.toString,t=f.toString;return V(function(){c.apply(c,d(arguments))},
{def:c.def,entry:c,exit:f,save:a,set:function(f,d,t){a(f,d);c(f,d,"=",t,";")},toString:function(){return u()+t()}})}var a=0,u=0,c={},r={};return{global:H(),link:function(f){var d="$"+a,u=!1;"object"===typeof f&&f.name&&(d=f.name.replace(/ /g,"_"),u=!0);if(d in c)return d;c[d]=f;u||a++;return d},block:H,proc:function(a,c){function u(){var a="a"+p.length;p.push(a);return a}var p=[];c=c||0;for(var t=0;t<c;++t)u();var t=f(),A=t.toString;return r[a]=V(t,{arg:u,toString:function(){return d(["function(",
p.join(),"){",A(),"}"]).join("")}})},scope:f,cond:function(){var a=d(arguments).join(""),c=f(),u=f(),r=c.toString,t=u.toString;return V(c,{then:function(){c.apply(c,d(arguments));return this},"else":function(){u.apply(u,d(arguments));return this},toString:function(){var c=t();c&&(c="else{"+c+"}");return d(["if(",a,"){",r(),"}",c]).join("")}})},compile:function(){var a=[],f=[];Object.keys(c).sort(function(a,c){var f="$"===a.charAt(0),d="$"===c.charAt(0);return f||d?f&&d?+a.slice(1)<+c.slice(1)?-1:
1:f&&!d?-1:1:a.localeCompare(c)}).forEach(function(d){var u=c[d];a.push(d);f.push(u)});for(var d=0,u=a.length-1;-1<u;u--)if("$"===a[u].charAt(0)){d=u;break}d=a.slice(d).join();u=p[d];if(!u)throw Error("missing precompiled function with key: "+d);return u.apply(null,f)}}}},{"./compiled-fns":24,"./extend":25}],24:[function(z,N,Za){N.exports={$0:function(d){var V,p,H,f,a,u,c,r,ga,ka,F,B,t,A,I,y,E,Z,G,z,k,h,g,q,Q,R,m,pa,J,fa;V=d.attributes;p=d.current;H=d.framebuffer;f=d.gl;a=d.next;u=d.vao;c=a.blend_color;
r=p.blend_color;ga=a.blend_equation;ka=p.blend_equation;F=a.blend_func;B=p.blend_func;t=a.colorMask;A=p.colorMask;I=a.depth_range;y=p.depth_range;E=a.polygonOffset_offset;Z=p.polygonOffset_offset;G=a.sample_coverage;z=p.sample_coverage;k=a.scissor_box;h=p.scissor_box;g=a.stencil_func;q=p.stencil_func;Q=a.stencil_opBack;R=p.stencil_opBack;m=a.stencil_opFront;pa=p.stencil_opFront;J=a.viewport;fa=p.viewport;return{poll:function(){var b,e,d,u,V,N,Bb,ma,Pa,Y,K,M,T,qa,O,Wb,$a,P,x,la,ca,Ea;p.dirty=!1;e=
a.blend_enable;d=a.cull_enable;u=a.depth_enable;V=a.dither;N=a.polygonOffset_enable;Bb=a.sample_alpha;ma=a.sample_enable;Pa=a.scissor_enable;Y=a.stencil_enable;K=a.cull_face;M=p.cull_face;T=a.depth_func;qa=p.depth_func;O=a.depth_mask;Wb=p.depth_mask;$a=a.frontFace;P=p.frontFace;x=a.lineWidth;la=p.lineWidth;ca=a.stencil_mask;Ea=p.stencil_mask;b=H.next;b!==H.cur&&(b?f.bindFramebuffer(36160,b.framebuffer):f.bindFramebuffer(36160,null),H.cur=b);e!==p.blend_enable&&(e?f.enable(3042):f.disable(3042),p.blend_enable=
e);d!==p.cull_enable&&(d?f.enable(2884):f.disable(2884),p.cull_enable=d);u!==p.depth_enable&&(u?f.enable(2929):f.disable(2929),p.depth_enable=u);V!==p.dither&&(V?f.enable(3024):f.disable(3024),p.dither=V);N!==p.polygonOffset_enable&&(N?f.enable(32823):f.disable(32823),p.polygonOffset_enable=N);Bb!==p.sample_alpha&&(Bb?f.enable(32926):f.disable(32926),p.sample_alpha=Bb);ma!==p.sample_enable&&(ma?f.enable(32928):f.disable(32928),p.sample_enable=ma);Pa!==p.scissor_enable&&(Pa?f.enable(3089):f.disable(3089),
p.scissor_enable=Pa);Y!==p.stencil_enable&&(Y?f.enable(2960):f.disable(2960),p.stencil_enable=Y);if(c[0]!==r[0]||c[1]!==r[1]||c[2]!==r[2]||c[3]!==r[3])f.blendColor(c[0],c[1],c[2],c[3]),r[0]=c[0],r[1]=c[1],r[2]=c[2],r[3]=c[3];if(ga[0]!==ka[0]||ga[1]!==ka[1])f.blendEquationSeparate(ga[0],ga[1]),ka[0]=ga[0],ka[1]=ga[1];if(F[0]!==B[0]||F[1]!==B[1]||F[2]!==B[2]||F[3]!==B[3])f.blendFuncSeparate(F[0],F[1],F[2],F[3]),B[0]=F[0],B[1]=F[1],B[2]=F[2],B[3]=F[3];if(t[0]!==A[0]||t[1]!==A[1]||t[2]!==A[2]||t[3]!==
A[3])f.colorMask(t[0],t[1],t[2],t[3]),A[0]=t[0],A[1]=t[1],A[2]=t[2],A[3]=t[3];K!==M&&(f.cullFace(K),p.cull_face=K);T!==qa&&(f.depthFunc(T),p.depth_func=T);O!==Wb&&(f.depthMask(O),p.depth_mask=O);if(I[0]!==y[0]||I[1]!==y[1])f.depthRange(I[0],I[1]),y[0]=I[0],y[1]=I[1];$a!==P&&(f.frontFace($a),p.frontFace=$a);x!==la&&(f.lineWidth(x),p.lineWidth=x);if(E[0]!==Z[0]||E[1]!==Z[1])f.polygonOffset(E[0],E[1]),Z[0]=E[0],Z[1]=E[1];if(G[0]!==z[0]||G[1]!==z[1])f.sampleCoverage(G[0],G[1]),z[0]=G[0],z[1]=G[1];if(k[0]!==
h[0]||k[1]!==h[1]||k[2]!==h[2]||k[3]!==h[3])f.scissor(k[0],k[1],k[2],k[3]),h[0]=k[0],h[1]=k[1],h[2]=k[2],h[3]=k[3];if(g[0]!==q[0]||g[1]!==q[1]||g[2]!==q[2])f.stencilFunc(g[0],g[1],g[2]),q[0]=g[0],q[1]=g[1],q[2]=g[2];ca!==Ea&&(f.stencilMask(ca),p.stencil_mask=ca);if(Q[0]!==R[0]||Q[1]!==R[1]||Q[2]!==R[2]||Q[3]!==R[3])f.stencilOpSeparate(Q[0],Q[1],Q[2],Q[3]),R[0]=Q[0],R[1]=Q[1],R[2]=Q[2],R[3]=Q[3];if(m[0]!==pa[0]||m[1]!==pa[1]||m[2]!==pa[2]||m[3]!==pa[3])f.stencilOpSeparate(m[0],m[1],m[2],m[3]),pa[0]=
m[0],pa[1]=m[1],pa[2]=m[2],pa[3]=m[3];if(J[0]!==fa[0]||J[1]!==fa[1]||J[2]!==fa[2]||J[3]!==fa[3])f.viewport(J[0],J[1],J[2],J[3]),fa[0]=J[0],fa[1]=J[1],fa[2]=J[2],fa[3]=J[3]},refresh:function(){var b,e,d,na,xe,N,Bb,ma,Pa,Y,K,M,T,qa,O,Wb;p.dirty=!1;e=a.blend_enable;d=a.cull_enable;na=a.depth_enable;xe=a.dither;N=a.polygonOffset_enable;Bb=a.sample_alpha;ma=a.sample_enable;Pa=a.scissor_enable;Y=a.stencil_enable;K=a.cull_face;M=a.depth_func;T=a.depth_mask;qa=a.frontFace;O=a.lineWidth;Wb=a.stencil_mask;
(b=H.next)?f.bindFramebuffer(36160,b.framebuffer):f.bindFramebuffer(36160,null);H.cur=b;b=V[0];b.buffer?(f.enableVertexAttribArray(0),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(0,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(0),f.vertexAttrib4f(0,b.x,b.y,b.z,b.w),b.buffer=null);b=V[1];b.buffer?(f.enableVertexAttribArray(1),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(1,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(1),
f.vertexAttrib4f(1,b.x,b.y,b.z,b.w),b.buffer=null);b=V[2];b.buffer?(f.enableVertexAttribArray(2),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(2,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(2),f.vertexAttrib4f(2,b.x,b.y,b.z,b.w),b.buffer=null);b=V[3];b.buffer?(f.enableVertexAttribArray(3),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(3,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(3),f.vertexAttrib4f(3,b.x,b.y,b.z,
b.w),b.buffer=null);b=V[4];b.buffer?(f.enableVertexAttribArray(4),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(4,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(4),f.vertexAttrib4f(4,b.x,b.y,b.z,b.w),b.buffer=null);b=V[5];b.buffer?(f.enableVertexAttribArray(5),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(5,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(5),f.vertexAttrib4f(5,b.x,b.y,b.z,b.w),b.buffer=null);b=V[6];b.buffer?
(f.enableVertexAttribArray(6),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(6,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(6),f.vertexAttrib4f(6,b.x,b.y,b.z,b.w),b.buffer=null);b=V[7];b.buffer?(f.enableVertexAttribArray(7),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(7,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(7),f.vertexAttrib4f(7,b.x,b.y,b.z,b.w),b.buffer=null);b=V[8];b.buffer?(f.enableVertexAttribArray(8),f.bindBuffer(34962,
b.buffer.buffer),f.vertexAttribPointer(8,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(8),f.vertexAttrib4f(8,b.x,b.y,b.z,b.w),b.buffer=null);b=V[9];b.buffer?(f.enableVertexAttribArray(9),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(9,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(9),f.vertexAttrib4f(9,b.x,b.y,b.z,b.w),b.buffer=null);b=V[10];b.buffer?(f.enableVertexAttribArray(10),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(10,
b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(10),f.vertexAttrib4f(10,b.x,b.y,b.z,b.w),b.buffer=null);b=V[11];b.buffer?(f.enableVertexAttribArray(11),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(11,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(11),f.vertexAttrib4f(11,b.x,b.y,b.z,b.w),b.buffer=null);b=V[12];b.buffer?(f.enableVertexAttribArray(12),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(12,b.size,b.type,b.normalized,
b.stride,b.offset)):(f.disableVertexAttribArray(12),f.vertexAttrib4f(12,b.x,b.y,b.z,b.w),b.buffer=null);b=V[13];b.buffer?(f.enableVertexAttribArray(13),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(13,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(13),f.vertexAttrib4f(13,b.x,b.y,b.z,b.w),b.buffer=null);b=V[14];b.buffer?(f.enableVertexAttribArray(14),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(14,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(14),
f.vertexAttrib4f(14,b.x,b.y,b.z,b.w),b.buffer=null);b=V[15];b.buffer?(f.enableVertexAttribArray(15),f.bindBuffer(34962,b.buffer.buffer),f.vertexAttribPointer(15,b.size,b.type,b.normalized,b.stride,b.offset)):(f.disableVertexAttribArray(15),f.vertexAttrib4f(15,b.x,b.y,b.z,b.w),b.buffer=null);u.currentVAO=null;u.setVAO(u.targetVAO);e?f.enable(3042):f.disable(3042);p.blend_enable=e;d?f.enable(2884):f.disable(2884);p.cull_enable=d;na?f.enable(2929):f.disable(2929);p.depth_enable=na;xe?f.enable(3024):
f.disable(3024);p.dither=xe;N?f.enable(32823):f.disable(32823);p.polygonOffset_enable=N;Bb?f.enable(32926):f.disable(32926);p.sample_alpha=Bb;ma?f.enable(32928):f.disable(32928);p.sample_enable=ma;Pa?f.enable(3089):f.disable(3089);p.scissor_enable=Pa;Y?f.enable(2960):f.disable(2960);p.stencil_enable=Y;f.blendColor(c[0],c[1],c[2],c[3]);r[0]=c[0];r[1]=c[1];r[2]=c[2];r[3]=c[3];f.blendEquationSeparate(ga[0],ga[1]);ka[0]=ga[0];ka[1]=ga[1];f.blendFuncSeparate(F[0],F[1],F[2],F[3]);B[0]=F[0];B[1]=F[1];B[2]=
F[2];B[3]=F[3];f.colorMask(t[0],t[1],t[2],t[3]);A[0]=t[0];A[1]=t[1];A[2]=t[2];A[3]=t[3];f.cullFace(K);p.cull_face=K;f.depthFunc(M);p.depth_func=M;f.depthMask(T);p.depth_mask=T;f.depthRange(I[0],I[1]);y[0]=I[0];y[1]=I[1];f.frontFace(qa);p.frontFace=qa;f.lineWidth(O);p.lineWidth=O;f.polygonOffset(E[0],E[1]);Z[0]=E[0];Z[1]=E[1];f.sampleCoverage(G[0],G[1]);z[0]=G[0];z[1]=G[1];f.scissor(k[0],k[1],k[2],k[3]);h[0]=k[0];h[1]=k[1];h[2]=k[2];h[3]=k[3];f.stencilFunc(g[0],g[1],g[2]);q[0]=g[0];q[1]=g[1];q[2]=
g[2];f.stencilMask(Wb);p.stencil_mask=Wb;f.stencilOpSeparate(Q[0],Q[1],Q[2],Q[3]);R[0]=Q[0];R[1]=Q[1];R[2]=Q[2];R[3]=Q[3];f.stencilOpSeparate(m[0],m[1],m[2],m[3]);pa[0]=m[0];pa[1]=m[1];pa[2]=m[2];pa[3]=m[3];f.viewport(J[0],J[1],J[2],J[3]);fa[0]=J[0];fa[1]=J[1];fa[2]=J[2];fa[3]=J[3]}}},$3:function(d,V,p,H){var f,a,u,c,r,ga,ka,F,B,t,A,I,y,E,Z,G,z,k,h,g,q,Q,R,m,pa,J,fa,b,e,ba,na,N,yb;f=d.context;a=d.current;u=d.framebuffer;c=d.gl;r=d.next;ga=d.shader;ka=d.vao;F=r.blend_color;B=a.blend_color;t=r.blend_equation;
A=a.blend_equation;I=r.blend_func;y=a.blend_func;E=r.colorMask;Z=a.colorMask;G=r.depth_range;z=a.depth_range;k=r.polygonOffset_offset;h=a.polygonOffset_offset;g=r.sample_coverage;q=a.sample_coverage;Q=r.scissor_box;R=a.scissor_box;m=r.stencil_func;pa=a.stencil_func;J=r.stencil_opBack;fa=a.stencil_opBack;b=r.stencil_opFront;e=a.stencil_opFront;ba=r.viewport;na=a.viewport;N={};yb={};return{batch:function(f,d){var p,Y,K,M,T;p=u.next;p!==u.cur&&(p?c.bindFramebuffer(36160,p.framebuffer):c.bindFramebuffer(36160,
null),u.cur=p);if(a.dirty){p=r.dither;p!==a.dither&&(p?c.enable(3024):c.disable(3024),a.dither=p);p=r.blend_enable;p!==a.blend_enable&&(p?c.enable(3042):c.disable(3042),a.blend_enable=p);p=F[0];K=F[1];M=F[2];T=F[3];if(p!==B[0]||K!==B[1]||M!==B[2]||T!==B[3])c.blendColor(p,K,M,T),B[0]=p,B[1]=K,B[2]=M,B[3]=T;p=t[0];K=t[1];if(p!==A[0]||K!==A[1])c.blendEquationSeparate(p,K),A[0]=p,A[1]=K;p=I[0];K=I[1];M=I[2];T=I[3];if(p!==y[0]||K!==y[1]||M!==y[2]||T!==y[3])c.blendFuncSeparate(p,K,M,T),y[0]=p,y[1]=K,y[2]=
M,y[3]=T;p=r.depth_enable;p!==a.depth_enable&&(p?c.enable(2929):c.disable(2929),a.depth_enable=p);p=r.depth_func;p!==a.depth_func&&(c.depthFunc(p),a.depth_func=p);p=G[0];K=G[1];if(p!==z[0]||K!==z[1])c.depthRange(p,K),z[0]=p,z[1]=K;p=r.depth_mask;p!==a.depth_mask&&(c.depthMask(p),a.depth_mask=p);p=E[0];K=E[1];M=E[2];T=E[3];if(p!==Z[0]||K!==Z[1]||M!==Z[2]||T!==Z[3])c.colorMask(p,K,M,T),Z[0]=p,Z[1]=K,Z[2]=M,Z[3]=T;p=r.cull_enable;p!==a.cull_enable&&(p?c.enable(2884):c.disable(2884),a.cull_enable=p);
p=r.cull_face;p!==a.cull_face&&(c.cullFace(p),a.cull_face=p);p=r.frontFace;p!==a.frontFace&&(c.frontFace(p),a.frontFace=p);p=r.lineWidth;p!==a.lineWidth&&(c.lineWidth(p),a.lineWidth=p);p=r.polygonOffset_enable;p!==a.polygonOffset_enable&&(p?c.enable(32823):c.disable(32823),a.polygonOffset_enable=p);p=k[0];K=k[1];if(p!==h[0]||K!==h[1])c.polygonOffset(p,K),h[0]=p,h[1]=K;p=r.sample_alpha;p!==a.sample_alpha&&(p?c.enable(32926):c.disable(32926),a.sample_alpha=p);p=r.sample_enable;p!==a.sample_enable&&
(p?c.enable(32928):c.disable(32928),a.sample_enable=p);p=g[0];K=g[1];if(p!==q[0]||K!==q[1])c.sampleCoverage(p,K),q[0]=p,q[1]=K;p=r.stencil_enable;p!==a.stencil_enable&&(p?c.enable(2960):c.disable(2960),a.stencil_enable=p);p=r.stencil_mask;p!==a.stencil_mask&&(c.stencilMask(p),a.stencil_mask=p);p=m[0];K=m[1];M=m[2];if(p!==pa[0]||K!==pa[1]||M!==pa[2])c.stencilFunc(p,K,M),pa[0]=p,pa[1]=K,pa[2]=M;p=b[0];K=b[1];M=b[2];T=b[3];if(p!==e[0]||K!==e[1]||M!==e[2]||T!==e[3])c.stencilOpSeparate(p,K,M,T),e[0]=p,
e[1]=K,e[2]=M,e[3]=T;p=J[0];K=J[1];M=J[2];T=J[3];if(p!==fa[0]||K!==fa[1]||M!==fa[2]||T!==fa[3])c.stencilOpSeparate(p,K,M,T),fa[0]=p,fa[1]=K,fa[2]=M,fa[3]=T;p=r.scissor_enable;p!==a.scissor_enable&&(p?c.enable(3089):c.disable(3089),a.scissor_enable=p);p=Q[0];K=Q[1];M=Q[2];T=Q[3];if(p!==R[0]||K!==R[1]||M!==R[2]||T!==R[3])c.scissor(p,K,M,T),R[0]=p,R[1]=K,R[2]=M,R[3]=T;p=ba[0];K=ba[1];M=ba[2];T=ba[3];if(p!==na[0]||K!==na[1]||M!==na[2]||T!==na[3])c.viewport(p,K,M,T),na[0]=p,na[1]=K,na[2]=M,na[3]=T;a.dirty=
!1}if(p=a.profile)Y=performance.now(),V.count+=d;K=ga.program(ga.vert,ga.frag);c.useProgram(K.program);ka.setVAO(null);M=K.id;(T=yb[M])||(T=yb[M]=H(K));T.call(this,f,d);ka.setVAO(null);p&&(V.cpuTime+=performance.now()-Y)},draw:function(f){var d,H,Y,K,M;d=u.next;d!==u.cur&&(d?c.bindFramebuffer(36160,d.framebuffer):c.bindFramebuffer(36160,null),u.cur=d);if(a.dirty){d=r.dither;d!==a.dither&&(d?c.enable(3024):c.disable(3024),a.dither=d);d=r.blend_enable;d!==a.blend_enable&&(d?c.enable(3042):c.disable(3042),
a.blend_enable=d);d=F[0];Y=F[1];K=F[2];M=F[3];if(d!==B[0]||Y!==B[1]||K!==B[2]||M!==B[3])c.blendColor(d,Y,K,M),B[0]=d,B[1]=Y,B[2]=K,B[3]=M;d=t[0];Y=t[1];if(d!==A[0]||Y!==A[1])c.blendEquationSeparate(d,Y),A[0]=d,A[1]=Y;d=I[0];Y=I[1];K=I[2];M=I[3];if(d!==y[0]||Y!==y[1]||K!==y[2]||M!==y[3])c.blendFuncSeparate(d,Y,K,M),y[0]=d,y[1]=Y,y[2]=K,y[3]=M;d=r.depth_enable;d!==a.depth_enable&&(d?c.enable(2929):c.disable(2929),a.depth_enable=d);d=r.depth_func;d!==a.depth_func&&(c.depthFunc(d),a.depth_func=d);d=G[0];
Y=G[1];if(d!==z[0]||Y!==z[1])c.depthRange(d,Y),z[0]=d,z[1]=Y;d=r.depth_mask;d!==a.depth_mask&&(c.depthMask(d),a.depth_mask=d);d=E[0];Y=E[1];K=E[2];M=E[3];if(d!==Z[0]||Y!==Z[1]||K!==Z[2]||M!==Z[3])c.colorMask(d,Y,K,M),Z[0]=d,Z[1]=Y,Z[2]=K,Z[3]=M;d=r.cull_enable;d!==a.cull_enable&&(d?c.enable(2884):c.disable(2884),a.cull_enable=d);d=r.cull_face;d!==a.cull_face&&(c.cullFace(d),a.cull_face=d);d=r.frontFace;d!==a.frontFace&&(c.frontFace(d),a.frontFace=d);d=r.lineWidth;d!==a.lineWidth&&(c.lineWidth(d),
a.lineWidth=d);d=r.polygonOffset_enable;d!==a.polygonOffset_enable&&(d?c.enable(32823):c.disable(32823),a.polygonOffset_enable=d);d=k[0];Y=k[1];if(d!==h[0]||Y!==h[1])c.polygonOffset(d,Y),h[0]=d,h[1]=Y;d=r.sample_alpha;d!==a.sample_alpha&&(d?c.enable(32926):c.disable(32926),a.sample_alpha=d);d=r.sample_enable;d!==a.sample_enable&&(d?c.enable(32928):c.disable(32928),a.sample_enable=d);d=g[0];Y=g[1];if(d!==q[0]||Y!==q[1])c.sampleCoverage(d,Y),q[0]=d,q[1]=Y;d=r.stencil_enable;d!==a.stencil_enable&&(d?
c.enable(2960):c.disable(2960),a.stencil_enable=d);d=r.stencil_mask;d!==a.stencil_mask&&(c.stencilMask(d),a.stencil_mask=d);d=m[0];Y=m[1];K=m[2];if(d!==pa[0]||Y!==pa[1]||K!==pa[2])c.stencilFunc(d,Y,K),pa[0]=d,pa[1]=Y,pa[2]=K;d=b[0];Y=b[1];K=b[2];M=b[3];if(d!==e[0]||Y!==e[1]||K!==e[2]||M!==e[3])c.stencilOpSeparate(d,Y,K,M),e[0]=d,e[1]=Y,e[2]=K,e[3]=M;d=J[0];Y=J[1];K=J[2];M=J[3];if(d!==fa[0]||Y!==fa[1]||K!==fa[2]||M!==fa[3])c.stencilOpSeparate(d,Y,K,M),fa[0]=d,fa[1]=Y,fa[2]=K,fa[3]=M;d=r.scissor_enable;
d!==a.scissor_enable&&(d?c.enable(3089):c.disable(3089),a.scissor_enable=d);d=Q[0];Y=Q[1];K=Q[2];M=Q[3];if(d!==R[0]||Y!==R[1]||K!==R[2]||M!==R[3])c.scissor(d,Y,K,M),R[0]=d,R[1]=Y,R[2]=K,R[3]=M;d=ba[0];Y=ba[1];K=ba[2];M=ba[3];if(d!==na[0]||Y!==na[1]||K!==na[2]||M!==na[3])c.viewport(d,Y,K,M),na[0]=d,na[1]=Y,na[2]=K,na[3]=M;a.dirty=!1}if(d=a.profile)H=performance.now(),V.count++;Y=ga.program(ga.vert,ga.frag);c.useProgram(Y.program);ka.setVAO(null);K=Y.id;(M=N[K])||(M=N[K]=p(Y));M.call(this,f);ka.setVAO(null);
d&&(V.cpuTime+=performance.now()-H)},scope:function(b,c,g){var h,e;if(h=a.profile)e=performance.now(),V.count++;c(f,b,g);h&&(V.cpuTime+=performance.now()-e)}}},"$38,colors,contextColor,dim0A,dim0B,dim0C,dim0D,dim1A,dim1B,dim1C,dim1D,drwLayer,hiA,hiB,hiC,hiD,loA,loB,loC,loD,maskHeight,maskTexture,p01_04,p05_08,p09_12,p13_16,p17_20,p21_24,p25_28,p29_32,p33_36,p37_40,p41_44,p45_48,p49_52,p53_56,p57_60,palette,resolution,viewBoxPos,viewBoxSize":function(d,V,p,H,f,a,u,c,r,z,ka,F,B,t,A,I,y,E,Z,G,pc,k,h,
g,q,Q,R,m,pa,J,fa,b,e,ba,na,N,yb,Bb,ma,Pa,Y,K,M,T,qa,O,Wb,$a,P,x,la,ca,Ea,Ma,bc,Ha,W,ib,ea,sa,cc,nc,kc,td,vc,aa,L,ja,Ba,Gb,Jc,Bc,C,v,ia,ua,U,ha,ra){var D,w,da,S,ya,oa,l,jc,X,n,Ib,wb,We,ke,se,ae,cd,re,sd,ee,ue,Id,Qd,Xd,Kd,Ze,lf,bf,yd,Ee,Rd,Sd,le,ne,rd,nd,vd,qd,hd,Uc,xd,Pc,Kc,qc,ab,hc,Cb,uc,Sa,Hc,$b,Zc,Cd,od,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb;D=d.attributes;w=d.context;da=d.current;S=d.draw;ya=d.elements;oa=d.framebuffer;l=d.gl;jc=d.next;X=d.shader;n=d.uniforms;Ib=d.vao;wb=jc.blend_color;
We=da.blend_color;ke=jc.blend_equation;se=da.blend_equation;ae=jc.blend_func;cd=da.blend_func;re=jc.colorMask;sd=da.colorMask;ee=jc.depth_range;ue=da.depth_range;Id=jc.polygonOffset_offset;Qd=da.polygonOffset_offset;Xd=jc.sample_coverage;Kd=da.sample_coverage;Ze=jc.scissor_box;lf=da.scissor_box;bf=jc.stencil_func;yd=da.stencil_func;Ee=jc.stencil_opBack;Rd=da.stencil_opBack;Sd=jc.stencil_opFront;le=da.stencil_opFront;ne=jc.viewport;rd=da.viewport;nd={};vd={};qd=new Float32Array(16);hd=new Float32Array(16);
Uc=new Float32Array(16);xd=new Float32Array(16);Pc=new Float32Array(16);Kc=new Float32Array(16);qc=new Float32Array(16);ab=new Float32Array(16);hc=new Float32Array(16);Cb=new Float32Array(16);uc=new Float32Array(16);Sa=new Float32Array(16);Hc=new Float32Array(16);$b=new Float32Array(16);Zc=new Float32Array(16);Cd=new Float32Array(16);od=new Float32Array(16);yc=new Float32Array(16);Xb=new Float32Array(16);Ec=new Float32Array(16);Qc=new Float32Array(16);Ka=new Float32Array(16);Db=new Float32Array(16);
Va=new Float32Array(16);Ca=new Float32Array(16);ud=new Float32Array(16);fb=new Float32Array(16);Ra=new Float32Array(16);Hb=new Float32Array(16);Wa=new Float32Array(16);$c=new Float32Array(16);Sb=new Float32Array(16);return{batch:function(b,g){var h,e,k,d;h=oa.next;h!==oa.cur&&(h?l.bindFramebuffer(36160,h.framebuffer):l.bindFramebuffer(36160,null),oa.cur=h);if(da.dirty){var n,m,q,p,X,J,V,Q,R,ba,G,ab,fa,ta,Sa,va,pa,wb,za,Cb,Ia,$b,N,Qa,Kc;n=re[0];m=re[1];q=re[2];p=re[3];if(n!==sd[0]||m!==sd[1]||q!==
sd[2]||p!==sd[3])l.colorMask(n,m,q,p),sd[0]=n,sd[1]=m,sd[2]=q,sd[3]=p;X=jc.frontFace;X!==da.frontFace&&(l.frontFace(X),da.frontFace=X);J=jc.polygonOffset_enable;J!==da.polygonOffset_enable&&(J?l.enable(32823):l.disable(32823),da.polygonOffset_enable=J);V=Id[0];Q=Id[1];if(V!==Qd[0]||Q!==Qd[1])l.polygonOffset(V,Q),Qd[0]=V,Qd[1]=Q;R=jc.sample_alpha;R!==da.sample_alpha&&(R?l.enable(32926):l.disable(32926),da.sample_alpha=R);ba=jc.sample_enable;ba!==da.sample_enable&&(ba?l.enable(32928):l.disable(32928),
da.sample_enable=ba);G=Xd[0];ab=Xd[1];if(G!==Kd[0]||ab!==Kd[1])l.sampleCoverage(G,ab),Kd[0]=G,Kd[1]=ab;fa=jc.stencil_enable;fa!==da.stencil_enable&&(fa?l.enable(2960):l.disable(2960),da.stencil_enable=fa);ta=jc.stencil_mask;ta!==da.stencil_mask&&(l.stencilMask(ta),da.stencil_mask=ta);Sa=bf[0];va=bf[1];pa=bf[2];if(Sa!==yd[0]||va!==yd[1]||pa!==yd[2])l.stencilFunc(Sa,va,pa),yd[0]=Sa,yd[1]=va,yd[2]=pa;wb=Sd[0];za=Sd[1];Cb=Sd[2];Ia=Sd[3];if(wb!==le[0]||za!==le[1]||Cb!==le[2]||Ia!==le[3])l.stencilOpSeparate(wb,
za,Cb,Ia),le[0]=wb,le[1]=za,le[2]=Cb,le[3]=Ia;$b=Ee[0];N=Ee[1];Qa=Ee[2];Kc=Ee[3];if($b!==Rd[0]||N!==Rd[1]||Qa!==Rd[2]||Kc!==Rd[3])l.stencilOpSeparate($b,N,Qa,Kc),Rd[0]=$b,Rd[1]=N,Rd[2]=Qa,Rd[3]=Kc}l.blendColor(0,0,0,0);We[0]=0;We[1]=0;We[2]=0;We[3]=0;l.disable(3042);da.blend_enable=!1;l.blendEquationSeparate(32774,32774);se[0]=32774;se[1]=32774;l.blendFuncSeparate(770,771,1,1);cd[0]=770;cd[1]=771;cd[2]=1;cd[3]=1;l.enable(2884);da.cull_enable=!0;l.cullFace(1029);da.cull_face=1029;l.enable(2929);da.depth_enable=
!0;l.depthFunc(513);da.depth_func=513;l.depthMask(!0);da.depth_mask=!0;l.depthRange(0,1);ue[0]=0;ue[1]=1;l.disable(3024);da.dither=!1;l.lineWidth(2);da.lineWidth=2;l.enable(3089);da.scissor_enable=!0;e=da.profile;da.profile=!1;l.useProgram(Bb.program);var pc,Pc,na,wa,qc,Ja,Ze,eb,hb,xa,Uc,Da,pb,qb,Xa,Ya,Hc,hc,Zc,Ua,Nb,hd,Fa,uc,Oa,Aa,lb,tb,Ab,rb,qd,ub,xd;Ib.setVAO(null);pc=cc.location;Pc=D[pc];Pc.buffer||l.enableVertexAttribArray(pc);if(Pc.type!==H.dtype||4!==Pc.size||Pc.buffer!==H||!1!==Pc.normalized||
0!==Pc.offset||0!==Pc.stride)l.bindBuffer(34962,H.buffer),l.vertexAttribPointer(pc,4,H.dtype,!1,0,0),Pc.type=H.dtype,Pc.size=4,Pc.buffer=H,Pc.normalized=!1,Pc.offset=0,Pc.stride=0;na=nc.location;wa=D[na];wa.buffer||l.enableVertexAttribArray(na);if(wa.type!==f.dtype||4!==wa.size||wa.buffer!==f||!1!==wa.normalized||0!==wa.offset||0!==wa.stride)l.bindBuffer(34962,f.buffer),l.vertexAttribPointer(na,4,f.dtype,!1,0,0),wa.type=f.dtype,wa.size=4,wa.buffer=f,wa.normalized=!1,wa.offset=0,wa.stride=0;qc=kc.location;
Ja=D[qc];Ja.buffer||l.enableVertexAttribArray(qc);if(Ja.type!==a.dtype||4!==Ja.size||Ja.buffer!==a||!1!==Ja.normalized||0!==Ja.offset||0!==Ja.stride)l.bindBuffer(34962,a.buffer),l.vertexAttribPointer(qc,4,a.dtype,!1,0,0),Ja.type=a.dtype,Ja.size=4,Ja.buffer=a,Ja.normalized=!1,Ja.offset=0,Ja.stride=0;Ze=td.location;eb=D[Ze];eb.buffer||l.enableVertexAttribArray(Ze);if(eb.type!==u.dtype||4!==eb.size||eb.buffer!==u||!1!==eb.normalized||0!==eb.offset||0!==eb.stride)l.bindBuffer(34962,u.buffer),l.vertexAttribPointer(Ze,
4,u.dtype,!1,0,0),eb.type=u.dtype,eb.size=4,eb.buffer=u,eb.normalized=!1,eb.offset=0,eb.stride=0;hb=vc.location;xa=D[hb];xa.buffer||l.enableVertexAttribArray(hb);if(xa.type!==c.dtype||4!==xa.size||xa.buffer!==c||!1!==xa.normalized||0!==xa.offset||0!==xa.stride)l.bindBuffer(34962,c.buffer),l.vertexAttribPointer(hb,4,c.dtype,!1,0,0),xa.type=c.dtype,xa.size=4,xa.buffer=c,xa.normalized=!1,xa.offset=0,xa.stride=0;Uc=aa.location;Da=D[Uc];Da.buffer||l.enableVertexAttribArray(Uc);if(Da.type!==r.dtype||4!==
Da.size||Da.buffer!==r||!1!==Da.normalized||0!==Da.offset||0!==Da.stride)l.bindBuffer(34962,r.buffer),l.vertexAttribPointer(Uc,4,r.dtype,!1,0,0),Da.type=r.dtype,Da.size=4,Da.buffer=r,Da.normalized=!1,Da.offset=0,Da.stride=0;pb=L.location;qb=D[pb];qb.buffer||l.enableVertexAttribArray(pb);if(qb.type!==z.dtype||4!==qb.size||qb.buffer!==z||!1!==qb.normalized||0!==qb.offset||0!==qb.stride)l.bindBuffer(34962,z.buffer),l.vertexAttribPointer(pb,4,z.dtype,!1,0,0),qb.type=z.dtype,qb.size=4,qb.buffer=z,qb.normalized=
!1,qb.offset=0,qb.stride=0;Xa=ja.location;Ya=D[Xa];Ya.buffer||l.enableVertexAttribArray(Xa);if(Ya.type!==ka.dtype||4!==Ya.size||Ya.buffer!==ka||!1!==Ya.normalized||0!==Ya.offset||0!==Ya.stride)l.bindBuffer(34962,ka.buffer),l.vertexAttribPointer(Xa,4,ka.dtype,!1,0,0),Ya.type=ka.dtype,Ya.size=4,Ya.buffer=ka,Ya.normalized=!1,Ya.offset=0,Ya.stride=0;Hc=Ba.location;hc=D[Hc];hc.buffer||l.enableVertexAttribArray(Hc);if(hc.type!==F.dtype||4!==hc.size||hc.buffer!==F||!1!==hc.normalized||0!==hc.offset||0!==
hc.stride)l.bindBuffer(34962,F.buffer),l.vertexAttribPointer(Hc,4,F.dtype,!1,0,0),hc.type=F.dtype,hc.size=4,hc.buffer=F,hc.normalized=!1,hc.offset=0,hc.stride=0;Zc=Gb.location;Ua=D[Zc];Ua.buffer||l.enableVertexAttribArray(Zc);if(Ua.type!==B.dtype||4!==Ua.size||Ua.buffer!==B||!1!==Ua.normalized||0!==Ua.offset||0!==Ua.stride)l.bindBuffer(34962,B.buffer),l.vertexAttribPointer(Zc,4,B.dtype,!1,0,0),Ua.type=B.dtype,Ua.size=4,Ua.buffer=B,Ua.normalized=!1,Ua.offset=0,Ua.stride=0;Nb=Jc.location;hd=D[Nb];hd.buffer||
l.enableVertexAttribArray(Nb);if(hd.type!==t.dtype||4!==hd.size||hd.buffer!==t||!1!==hd.normalized||0!==hd.offset||0!==hd.stride)l.bindBuffer(34962,t.buffer),l.vertexAttribPointer(Nb,4,t.dtype,!1,0,0),hd.type=t.dtype,hd.size=4,hd.buffer=t,hd.normalized=!1,hd.offset=0,hd.stride=0;Fa=Bc.location;uc=D[Fa];uc.buffer||l.enableVertexAttribArray(Fa);if(uc.type!==A.dtype||4!==uc.size||uc.buffer!==A||!1!==uc.normalized||0!==uc.offset||0!==uc.stride)l.bindBuffer(34962,A.buffer),l.vertexAttribPointer(Fa,4,A.dtype,
!1,0,0),uc.type=A.dtype,uc.size=4,uc.buffer=A,uc.normalized=!1,uc.offset=0,uc.stride=0;Oa=C.location;Aa=D[Oa];Aa.buffer||l.enableVertexAttribArray(Oa);if(Aa.type!==I.dtype||4!==Aa.size||Aa.buffer!==I||!1!==Aa.normalized||0!==Aa.offset||0!==Aa.stride)l.bindBuffer(34962,I.buffer),l.vertexAttribPointer(Oa,4,I.dtype,!1,0,0),Aa.type=I.dtype,Aa.size=4,Aa.buffer=I,Aa.normalized=!1,Aa.offset=0,Aa.stride=0;lb=v.location;tb=D[lb];tb.buffer||l.enableVertexAttribArray(lb);if(tb.type!==y.dtype||4!==tb.size||tb.buffer!==
y||!1!==tb.normalized||0!==tb.offset||0!==tb.stride)l.bindBuffer(34962,y.buffer),l.vertexAttribPointer(lb,4,y.dtype,!1,0,0),tb.type=y.dtype,tb.size=4,tb.buffer=y,tb.normalized=!1,tb.offset=0,tb.stride=0;Ab=ia.location;rb=D[Ab];rb.buffer||l.enableVertexAttribArray(Ab);if(rb.type!==E.dtype||4!==rb.size||rb.buffer!==E||!1!==rb.normalized||0!==rb.offset||0!==rb.stride)l.bindBuffer(34962,E.buffer),l.vertexAttribPointer(Ab,4,E.dtype,!1,0,0),rb.type=E.dtype,rb.size=4,rb.buffer=E,rb.normalized=!1,rb.offset=
0,rb.stride=0;qd=Pa.location;ub=D[qd];ub.buffer||l.enableVertexAttribArray(qd);if(ub.type!==Z.dtype||4!==ub.size||ub.buffer!==Z||!1!==ub.normalized||0!==ub.offset||0!==ub.stride)l.bindBuffer(34962,Z.buffer),l.vertexAttribPointer(qd,4,Z.dtype,!1,0,0),ub.type=Z.dtype,ub.size=4,ub.buffer=Z,ub.normalized=!1,ub.offset=0,ub.stride=0;l.uniform1i(ua.location,ma.bind());(xd=S.elements)?l.bindBuffer(34963,xd.buffer.buffer):Ib.currentVAO&&(xd=ya.getElements(Ib.currentVAO.elements))&&l.bindBuffer(34963,xd.buffer.buffer);
for(k=0;k<g;++k){d=b[k];var ae,ee,ne,Cd,ke,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,Vd,ye,Yc,yb,ie,ve,te,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,Xe,xe,Za,de,ce,$d,oe,Yd;nd.height=d.viewportHeight;nd.width=d.viewportWidth;nd.x=d.viewportX;nd.y=d.viewportY;ae=nd.x|0;ee=nd.y|0;ne="width"in nd?nd.width|0:w.framebufferWidth-ae;Cd="height"in nd?nd.height|0:w.framebufferHeight-ee;ke=w.viewportWidth;w.viewportWidth=ne;Vb=w.viewportHeight;w.viewportHeight=Cd;l.viewport(ae,
ee,ne,Cd);rd[0]=ae;rd[1]=ee;rd[2]=ne;rd[3]=Cd;vd.height=d.scissorHeight;vd.width=d.scissorWidth;vd.x=d.scissorX;vd.y=d.scissorY;ac=vd.x|0;Qb=vd.y|0;Ga="width"in vd?vd.width|0:w.framebufferWidth-ac;Yb="height"in vd?vd.height|0:w.framebufferHeight-Qb;l.scissor(ac,Qb,Ga,Yb);lf[0]=ac;lf[1]=Qb;lf[2]=Ga;lf[3]=Yb;mb=d.dim0A;l.uniformMatrix4fv(K.location,!1,Array.isArray(mb)||mb instanceof Float32Array?mb:(od[0]=mb[0],od[1]=mb[1],od[2]=mb[2],od[3]=mb[3],od[4]=mb[4],od[5]=mb[5],od[6]=mb[6],od[7]=mb[7],od[8]=
mb[8],od[9]=mb[9],od[10]=mb[10],od[11]=mb[11],od[12]=mb[12],od[13]=mb[13],od[14]=mb[14],od[15]=mb[15],od));vb=d.dim1A;l.uniformMatrix4fv(O.location,!1,Array.isArray(vb)||vb instanceof Float32Array?vb:(yc[0]=vb[0],yc[1]=vb[1],yc[2]=vb[2],yc[3]=vb[3],yc[4]=vb[4],yc[5]=vb[5],yc[6]=vb[6],yc[7]=vb[7],yc[8]=vb[8],yc[9]=vb[9],yc[10]=vb[10],yc[11]=vb[11],yc[12]=vb[12],yc[13]=vb[13],yc[14]=vb[14],yc[15]=vb[15],yc));Ob=d.dim0B;l.uniformMatrix4fv(M.location,!1,Array.isArray(Ob)||Ob instanceof Float32Array?Ob:
(Xb[0]=Ob[0],Xb[1]=Ob[1],Xb[2]=Ob[2],Xb[3]=Ob[3],Xb[4]=Ob[4],Xb[5]=Ob[5],Xb[6]=Ob[6],Xb[7]=Ob[7],Xb[8]=Ob[8],Xb[9]=Ob[9],Xb[10]=Ob[10],Xb[11]=Ob[11],Xb[12]=Ob[12],Xb[13]=Ob[13],Xb[14]=Ob[14],Xb[15]=Ob[15],Xb));Rb=d.dim1B;l.uniformMatrix4fv(Wb.location,!1,Array.isArray(Rb)||Rb instanceof Float32Array?Rb:(Ec[0]=Rb[0],Ec[1]=Rb[1],Ec[2]=Rb[2],Ec[3]=Rb[3],Ec[4]=Rb[4],Ec[5]=Rb[5],Ec[6]=Rb[6],Ec[7]=Rb[7],Ec[8]=Rb[8],Ec[9]=Rb[9],Ec[10]=Rb[10],Ec[11]=Rb[11],Ec[12]=Rb[12],Ec[13]=Rb[13],Ec[14]=Rb[14],Ec[15]=
Rb[15],Ec));ec=d.dim0C;l.uniformMatrix4fv(T.location,!1,Array.isArray(ec)||ec instanceof Float32Array?ec:(Qc[0]=ec[0],Qc[1]=ec[1],Qc[2]=ec[2],Qc[3]=ec[3],Qc[4]=ec[4],Qc[5]=ec[5],Qc[6]=ec[6],Qc[7]=ec[7],Qc[8]=ec[8],Qc[9]=ec[9],Qc[10]=ec[10],Qc[11]=ec[11],Qc[12]=ec[12],Qc[13]=ec[13],Qc[14]=ec[14],Qc[15]=ec[15],Qc));gc=d.dim1C;l.uniformMatrix4fv($a.location,!1,Array.isArray(gc)||gc instanceof Float32Array?gc:(Ka[0]=gc[0],Ka[1]=gc[1],Ka[2]=gc[2],Ka[3]=gc[3],Ka[4]=gc[4],Ka[5]=gc[5],Ka[6]=gc[6],Ka[7]=gc[7],
Ka[8]=gc[8],Ka[9]=gc[9],Ka[10]=gc[10],Ka[11]=gc[11],Ka[12]=gc[12],Ka[13]=gc[13],Ka[14]=gc[14],Ka[15]=gc[15],Ka));Rc=d.dim0D;l.uniformMatrix4fv(qa.location,!1,Array.isArray(Rc)||Rc instanceof Float32Array?Rc:(Db[0]=Rc[0],Db[1]=Rc[1],Db[2]=Rc[2],Db[3]=Rc[3],Db[4]=Rc[4],Db[5]=Rc[5],Db[6]=Rc[6],Db[7]=Rc[7],Db[8]=Rc[8],Db[9]=Rc[9],Db[10]=Rc[10],Db[11]=Rc[11],Db[12]=Rc[12],Db[13]=Rc[13],Db[14]=Rc[14],Db[15]=Rc[15],Db));zc=d.dim1D;l.uniformMatrix4fv(P.location,!1,Array.isArray(zc)||zc instanceof Float32Array?
zc:(Va[0]=zc[0],Va[1]=zc[1],Va[2]=zc[2],Va[3]=zc[3],Va[4]=zc[4],Va[5]=zc[5],Va[6]=zc[6],Va[7]=zc[7],Va[8]=zc[8],Va[9]=zc[9],Va[10]=zc[10],Va[11]=zc[11],Va[12]=zc[12],Va[13]=zc[13],Va[14]=zc[14],Va[15]=zc[15],Va));Ac=d.loA;l.uniformMatrix4fv(bc.location,!1,Array.isArray(Ac)||Ac instanceof Float32Array?Ac:(Ca[0]=Ac[0],Ca[1]=Ac[1],Ca[2]=Ac[2],Ca[3]=Ac[3],Ca[4]=Ac[4],Ca[5]=Ac[5],Ca[6]=Ac[6],Ca[7]=Ac[7],Ca[8]=Ac[8],Ca[9]=Ac[9],Ca[10]=Ac[10],Ca[11]=Ac[11],Ca[12]=Ac[12],Ca[13]=Ac[13],Ca[14]=Ac[14],Ca[15]=
Ac[15],Ca));Cc=d.hiA;l.uniformMatrix4fv(la.location,!1,Array.isArray(Cc)||Cc instanceof Float32Array?Cc:(ud[0]=Cc[0],ud[1]=Cc[1],ud[2]=Cc[2],ud[3]=Cc[3],ud[4]=Cc[4],ud[5]=Cc[5],ud[6]=Cc[6],ud[7]=Cc[7],ud[8]=Cc[8],ud[9]=Cc[9],ud[10]=Cc[10],ud[11]=Cc[11],ud[12]=Cc[12],ud[13]=Cc[13],ud[14]=Cc[14],ud[15]=Cc[15],ud));Mc=d.loB;l.uniformMatrix4fv(Ha.location,!1,Array.isArray(Mc)||Mc instanceof Float32Array?Mc:(fb[0]=Mc[0],fb[1]=Mc[1],fb[2]=Mc[2],fb[3]=Mc[3],fb[4]=Mc[4],fb[5]=Mc[5],fb[6]=Mc[6],fb[7]=Mc[7],
fb[8]=Mc[8],fb[9]=Mc[9],fb[10]=Mc[10],fb[11]=Mc[11],fb[12]=Mc[12],fb[13]=Mc[13],fb[14]=Mc[14],fb[15]=Mc[15],fb));bd=d.hiB;l.uniformMatrix4fv(ca.location,!1,Array.isArray(bd)||bd instanceof Float32Array?bd:(Ra[0]=bd[0],Ra[1]=bd[1],Ra[2]=bd[2],Ra[3]=bd[3],Ra[4]=bd[4],Ra[5]=bd[5],Ra[6]=bd[6],Ra[7]=bd[7],Ra[8]=bd[8],Ra[9]=bd[9],Ra[10]=bd[10],Ra[11]=bd[11],Ra[12]=bd[12],Ra[13]=bd[13],Ra[14]=bd[14],Ra[15]=bd[15],Ra));Sc=d.loC;l.uniformMatrix4fv(W.location,!1,Array.isArray(Sc)||Sc instanceof Float32Array?
Sc:(Hb[0]=Sc[0],Hb[1]=Sc[1],Hb[2]=Sc[2],Hb[3]=Sc[3],Hb[4]=Sc[4],Hb[5]=Sc[5],Hb[6]=Sc[6],Hb[7]=Sc[7],Hb[8]=Sc[8],Hb[9]=Sc[9],Hb[10]=Sc[10],Hb[11]=Sc[11],Hb[12]=Sc[12],Hb[13]=Sc[13],Hb[14]=Sc[14],Hb[15]=Sc[15],Hb));Nc=d.hiC;l.uniformMatrix4fv(Ea.location,!1,Array.isArray(Nc)||Nc instanceof Float32Array?Nc:(Wa[0]=Nc[0],Wa[1]=Nc[1],Wa[2]=Nc[2],Wa[3]=Nc[3],Wa[4]=Nc[4],Wa[5]=Nc[5],Wa[6]=Nc[6],Wa[7]=Nc[7],Wa[8]=Nc[8],Wa[9]=Nc[9],Wa[10]=Nc[10],Wa[11]=Nc[11],Wa[12]=Nc[12],Wa[13]=Nc[13],Wa[14]=Nc[14],Wa[15]=
Nc[15],Wa));Lb=d.loD;l.uniformMatrix4fv(ib.location,!1,Array.isArray(Lb)||Lb instanceof Float32Array?Lb:($c[0]=Lb[0],$c[1]=Lb[1],$c[2]=Lb[2],$c[3]=Lb[3],$c[4]=Lb[4],$c[5]=Lb[5],$c[6]=Lb[6],$c[7]=Lb[7],$c[8]=Lb[8],$c[9]=Lb[9],$c[10]=Lb[10],$c[11]=Lb[11],$c[12]=Lb[12],$c[13]=Lb[13],$c[14]=Lb[14],$c[15]=Lb[15],$c));Fb=d.hiD;l.uniformMatrix4fv(Ma.location,!1,Array.isArray(Fb)||Fb instanceof Float32Array?Fb:(Sb[0]=Fb[0],Sb[1]=Fb[1],Sb[2]=Fb[2],Sb[3]=Fb[3],Sb[4]=Fb[4],Sb[5]=Fb[5],Sb[6]=Fb[6],Sb[7]=Fb[7],
Sb[8]=Fb[8],Sb[9]=Fb[9],Sb[10]=Fb[10],Sb[11]=Fb[11],Sb[12]=Fb[12],Sb[13]=Fb[13],Sb[14]=Fb[14],Sb[15]=Fb[15],Sb));Oc=d.resolution;Gc=Oc[0];fc=Oc[1];k&&Tc===Gc&&Xc===fc||(Tc=Gc,Xc=fc,l.uniform2f(U.location,Gc,fc));gd=d.viewBoxPos;Vd=gd[0];Yc=gd[1];k&&ye===Vd&&yb===Yc||(ye=Vd,yb=Yc,l.uniform2f(ha.location,Vd,Yc));ie=d.viewBoxSize;ve=ie[0];be=ie[1];k&&te===ve&&Fd===be||(te=ve,Fd=be,l.uniform2f(ra.location,ve,be));Dd=d.maskHeight;k&&id===Dd||(id=Dd,l.uniform1f(ea.location,Dd));Dc=d.drwLayer;k&&pd===Dc||
(pd=Dc,l.uniform1f(x.location,Dc));kd=d.contextColor;dd=kd[0];Ad=kd[1];Xe=kd[2];Za=kd[3];k&&md===dd&&Bd===Ad&&xe===Xe&&de===Za||(md=dd,Bd=Ad,xe=Xe,de=Za,l.uniform4f(Y.location,dd,Ad,Xe,Za));(ce=d.maskTexture)&&"framebuffer"===ce._reglType&&(ce=ce.color[0]);$d=ce._texture;l.uniform1i(sa.location,$d.bind());oe=d.offset;if(Yd=d.count)xd?l.drawElements(1,Yd,xd.type,oe<<(xd.type-5121>>1)):l.drawArrays(1,oe,Yd),w.viewportWidth=ke,w.viewportHeight=Vb,$d.unbind()}ma.unbind();da.dirty=!0;Ib.setVAO(null);da.profile=
e},draw:function(b){var g,h,e,d,k,n;g=oa.next;g!==oa.cur&&(g?l.bindFramebuffer(36160,g.framebuffer):l.bindFramebuffer(36160,null),oa.cur=g);if(da.dirty){g=re[0];n=re[1];h=re[2];e=re[3];if(g!==sd[0]||n!==sd[1]||h!==sd[2]||e!==sd[3])l.colorMask(g,n,h,e),sd[0]=g,sd[1]=n,sd[2]=h,sd[3]=e;g=jc.frontFace;g!==da.frontFace&&(l.frontFace(g),da.frontFace=g);g=jc.polygonOffset_enable;g!==da.polygonOffset_enable&&(g?l.enable(32823):l.disable(32823),da.polygonOffset_enable=g);g=Id[0];n=Id[1];if(g!==Qd[0]||n!==
Qd[1])l.polygonOffset(g,n),Qd[0]=g,Qd[1]=n;g=jc.sample_alpha;g!==da.sample_alpha&&(g?l.enable(32926):l.disable(32926),da.sample_alpha=g);g=jc.sample_enable;g!==da.sample_enable&&(g?l.enable(32928):l.disable(32928),da.sample_enable=g);g=Xd[0];n=Xd[1];if(g!==Kd[0]||n!==Kd[1])l.sampleCoverage(g,n),Kd[0]=g,Kd[1]=n;g=jc.stencil_enable;g!==da.stencil_enable&&(g?l.enable(2960):l.disable(2960),da.stencil_enable=g);g=jc.stencil_mask;g!==da.stencil_mask&&(l.stencilMask(g),da.stencil_mask=g);g=bf[0];n=bf[1];
h=bf[2];if(g!==yd[0]||n!==yd[1]||h!==yd[2])l.stencilFunc(g,n,h),yd[0]=g,yd[1]=n,yd[2]=h;g=Sd[0];n=Sd[1];h=Sd[2];e=Sd[3];if(g!==le[0]||n!==le[1]||h!==le[2]||e!==le[3])l.stencilOpSeparate(g,n,h,e),le[0]=g,le[1]=n,le[2]=h,le[3]=e;g=Ee[0];n=Ee[1];h=Ee[2];e=Ee[3];if(g!==Rd[0]||n!==Rd[1]||h!==Rd[2]||e!==Rd[3])l.stencilOpSeparate(g,n,h,e),Rd[0]=g,Rd[1]=n,Rd[2]=h,Rd[3]=e}nd.height=b.viewportHeight;nd.width=b.viewportWidth;nd.x=b.viewportX;nd.y=b.viewportY;h=nd.x|0;e=nd.y|0;d="width"in nd?nd.width|0:w.framebufferWidth-
h;k="height"in nd?nd.height|0:w.framebufferHeight-e;g=w.viewportWidth;w.viewportWidth=d;n=w.viewportHeight;w.viewportHeight=k;l.viewport(h,e,d,k);rd[0]=h;rd[1]=e;rd[2]=d;rd[3]=k;l.blendColor(0,0,0,0);We[0]=0;We[1]=0;We[2]=0;We[3]=0;l.disable(3042);da.blend_enable=!1;l.blendEquationSeparate(32774,32774);se[0]=32774;se[1]=32774;l.blendFuncSeparate(770,771,1,1);cd[0]=770;cd[1]=771;cd[2]=1;cd[3]=1;l.enable(2884);da.cull_enable=!0;l.cullFace(1029);da.cull_face=1029;l.enable(2929);da.depth_enable=!0;l.depthFunc(513);
da.depth_func=513;l.depthMask(!0);da.depth_mask=!0;l.depthRange(0,1);ue[0]=0;ue[1]=1;l.disable(3024);da.dither=!1;l.lineWidth(2);da.lineWidth=2;vd.height=b.scissorHeight;vd.width=b.scissorWidth;vd.x=b.scissorX;vd.y=b.scissorY;h=vd.x|0;e=vd.y|0;d="width"in vd?vd.width|0:w.framebufferWidth-h;k="height"in vd?vd.height|0:w.framebufferHeight-e;l.scissor(h,e,d,k);lf[0]=h;lf[1]=e;lf[2]=d;lf[3]=k;l.enable(3089);da.scissor_enable=!0;h=da.profile;da.profile=!1;l.useProgram(p.program);Ib.setVAO(null);e=cc.location;
d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==H.dtype||4!==d.size||d.buffer!==H||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,H.buffer),l.vertexAttribPointer(e,4,H.dtype,!1,0,0),d.type=H.dtype,d.size=4,d.buffer=H,d.normalized=!1,d.offset=0,d.stride=0;e=nc.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==f.dtype||4!==d.size||d.buffer!==f||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,f.buffer),l.vertexAttribPointer(e,4,f.dtype,!1,
0,0),d.type=f.dtype,d.size=4,d.buffer=f,d.normalized=!1,d.offset=0,d.stride=0;e=kc.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==a.dtype||4!==d.size||d.buffer!==a||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,a.buffer),l.vertexAttribPointer(e,4,a.dtype,!1,0,0),d.type=a.dtype,d.size=4,d.buffer=a,d.normalized=!1,d.offset=0,d.stride=0;e=td.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==u.dtype||4!==d.size||d.buffer!==u||!1!==d.normalized||
0!==d.offset||0!==d.stride)l.bindBuffer(34962,u.buffer),l.vertexAttribPointer(e,4,u.dtype,!1,0,0),d.type=u.dtype,d.size=4,d.buffer=u,d.normalized=!1,d.offset=0,d.stride=0;e=vc.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==c.dtype||4!==d.size||d.buffer!==c||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,c.buffer),l.vertexAttribPointer(e,4,c.dtype,!1,0,0),d.type=c.dtype,d.size=4,d.buffer=c,d.normalized=!1,d.offset=0,d.stride=0;e=aa.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);
if(d.type!==r.dtype||4!==d.size||d.buffer!==r||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,r.buffer),l.vertexAttribPointer(e,4,r.dtype,!1,0,0),d.type=r.dtype,d.size=4,d.buffer=r,d.normalized=!1,d.offset=0,d.stride=0;e=L.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==z.dtype||4!==d.size||d.buffer!==z||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,z.buffer),l.vertexAttribPointer(e,4,z.dtype,!1,0,0),d.type=z.dtype,d.size=4,d.buffer=z,d.normalized=
!1,d.offset=0,d.stride=0;e=ja.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==ka.dtype||4!==d.size||d.buffer!==ka||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,ka.buffer),l.vertexAttribPointer(e,4,ka.dtype,!1,0,0),d.type=ka.dtype,d.size=4,d.buffer=ka,d.normalized=!1,d.offset=0,d.stride=0;e=Ba.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==F.dtype||4!==d.size||d.buffer!==F||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,F.buffer),
l.vertexAttribPointer(e,4,F.dtype,!1,0,0),d.type=F.dtype,d.size=4,d.buffer=F,d.normalized=!1,d.offset=0,d.stride=0;e=Gb.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==B.dtype||4!==d.size||d.buffer!==B||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,B.buffer),l.vertexAttribPointer(e,4,B.dtype,!1,0,0),d.type=B.dtype,d.size=4,d.buffer=B,d.normalized=!1,d.offset=0,d.stride=0;e=Jc.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==t.dtype||4!==d.size||
d.buffer!==t||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,t.buffer),l.vertexAttribPointer(e,4,t.dtype,!1,0,0),d.type=t.dtype,d.size=4,d.buffer=t,d.normalized=!1,d.offset=0,d.stride=0;e=Bc.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==A.dtype||4!==d.size||d.buffer!==A||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,A.buffer),l.vertexAttribPointer(e,4,A.dtype,!1,0,0),d.type=A.dtype,d.size=4,d.buffer=A,d.normalized=!1,d.offset=0,d.stride=0;
e=C.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==I.dtype||4!==d.size||d.buffer!==I||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,I.buffer),l.vertexAttribPointer(e,4,I.dtype,!1,0,0),d.type=I.dtype,d.size=4,d.buffer=I,d.normalized=!1,d.offset=0,d.stride=0;e=v.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==y.dtype||4!==d.size||d.buffer!==y||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,y.buffer),l.vertexAttribPointer(e,
4,y.dtype,!1,0,0),d.type=y.dtype,d.size=4,d.buffer=y,d.normalized=!1,d.offset=0,d.stride=0;e=ia.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==E.dtype||4!==d.size||d.buffer!==E||!1!==d.normalized||0!==d.offset||0!==d.stride)l.bindBuffer(34962,E.buffer),l.vertexAttribPointer(e,4,E.dtype,!1,0,0),d.type=E.dtype,d.size=4,d.buffer=E,d.normalized=!1,d.offset=0,d.stride=0;e=Pa.location;d=D[e];d.buffer||l.enableVertexAttribArray(e);if(d.type!==Z.dtype||4!==d.size||d.buffer!==Z||!1!==d.normalized||
0!==d.offset||0!==d.stride)l.bindBuffer(34962,Z.buffer),l.vertexAttribPointer(e,4,Z.dtype,!1,0,0),d.type=Z.dtype,d.size=4,d.buffer=Z,d.normalized=!1,d.offset=0,d.stride=0;e=b.dim0A;l.uniformMatrix4fv(K.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(qd[0]=e[0],qd[1]=e[1],qd[2]=e[2],qd[3]=e[3],qd[4]=e[4],qd[5]=e[5],qd[6]=e[6],qd[7]=e[7],qd[8]=e[8],qd[9]=e[9],qd[10]=e[10],qd[11]=e[11],qd[12]=e[12],qd[13]=e[13],qd[14]=e[14],qd[15]=e[15],qd));e=b.dim1A;l.uniformMatrix4fv(O.location,!1,Array.isArray(e)||
e instanceof Float32Array?e:(hd[0]=e[0],hd[1]=e[1],hd[2]=e[2],hd[3]=e[3],hd[4]=e[4],hd[5]=e[5],hd[6]=e[6],hd[7]=e[7],hd[8]=e[8],hd[9]=e[9],hd[10]=e[10],hd[11]=e[11],hd[12]=e[12],hd[13]=e[13],hd[14]=e[14],hd[15]=e[15],hd));e=b.dim0B;l.uniformMatrix4fv(M.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(Uc[0]=e[0],Uc[1]=e[1],Uc[2]=e[2],Uc[3]=e[3],Uc[4]=e[4],Uc[5]=e[5],Uc[6]=e[6],Uc[7]=e[7],Uc[8]=e[8],Uc[9]=e[9],Uc[10]=e[10],Uc[11]=e[11],Uc[12]=e[12],Uc[13]=e[13],Uc[14]=e[14],Uc[15]=e[15],Uc));
e=b.dim1B;l.uniformMatrix4fv(Wb.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(xd[0]=e[0],xd[1]=e[1],xd[2]=e[2],xd[3]=e[3],xd[4]=e[4],xd[5]=e[5],xd[6]=e[6],xd[7]=e[7],xd[8]=e[8],xd[9]=e[9],xd[10]=e[10],xd[11]=e[11],xd[12]=e[12],xd[13]=e[13],xd[14]=e[14],xd[15]=e[15],xd));e=b.dim0C;l.uniformMatrix4fv(T.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(Pc[0]=e[0],Pc[1]=e[1],Pc[2]=e[2],Pc[3]=e[3],Pc[4]=e[4],Pc[5]=e[5],Pc[6]=e[6],Pc[7]=e[7],Pc[8]=e[8],Pc[9]=e[9],Pc[10]=e[10],Pc[11]=
e[11],Pc[12]=e[12],Pc[13]=e[13],Pc[14]=e[14],Pc[15]=e[15],Pc));e=b.dim1C;l.uniformMatrix4fv($a.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(Kc[0]=e[0],Kc[1]=e[1],Kc[2]=e[2],Kc[3]=e[3],Kc[4]=e[4],Kc[5]=e[5],Kc[6]=e[6],Kc[7]=e[7],Kc[8]=e[8],Kc[9]=e[9],Kc[10]=e[10],Kc[11]=e[11],Kc[12]=e[12],Kc[13]=e[13],Kc[14]=e[14],Kc[15]=e[15],Kc));e=b.dim0D;l.uniformMatrix4fv(qa.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(qc[0]=e[0],qc[1]=e[1],qc[2]=e[2],qc[3]=e[3],qc[4]=e[4],qc[5]=e[5],
qc[6]=e[6],qc[7]=e[7],qc[8]=e[8],qc[9]=e[9],qc[10]=e[10],qc[11]=e[11],qc[12]=e[12],qc[13]=e[13],qc[14]=e[14],qc[15]=e[15],qc));e=b.dim1D;l.uniformMatrix4fv(P.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(ab[0]=e[0],ab[1]=e[1],ab[2]=e[2],ab[3]=e[3],ab[4]=e[4],ab[5]=e[5],ab[6]=e[6],ab[7]=e[7],ab[8]=e[8],ab[9]=e[9],ab[10]=e[10],ab[11]=e[11],ab[12]=e[12],ab[13]=e[13],ab[14]=e[14],ab[15]=e[15],ab));e=b.loA;l.uniformMatrix4fv(bc.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(hc[0]=
e[0],hc[1]=e[1],hc[2]=e[2],hc[3]=e[3],hc[4]=e[4],hc[5]=e[5],hc[6]=e[6],hc[7]=e[7],hc[8]=e[8],hc[9]=e[9],hc[10]=e[10],hc[11]=e[11],hc[12]=e[12],hc[13]=e[13],hc[14]=e[14],hc[15]=e[15],hc));e=b.hiA;l.uniformMatrix4fv(la.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(Cb[0]=e[0],Cb[1]=e[1],Cb[2]=e[2],Cb[3]=e[3],Cb[4]=e[4],Cb[5]=e[5],Cb[6]=e[6],Cb[7]=e[7],Cb[8]=e[8],Cb[9]=e[9],Cb[10]=e[10],Cb[11]=e[11],Cb[12]=e[12],Cb[13]=e[13],Cb[14]=e[14],Cb[15]=e[15],Cb));e=b.loB;l.uniformMatrix4fv(Ha.location,
!1,Array.isArray(e)||e instanceof Float32Array?e:(uc[0]=e[0],uc[1]=e[1],uc[2]=e[2],uc[3]=e[3],uc[4]=e[4],uc[5]=e[5],uc[6]=e[6],uc[7]=e[7],uc[8]=e[8],uc[9]=e[9],uc[10]=e[10],uc[11]=e[11],uc[12]=e[12],uc[13]=e[13],uc[14]=e[14],uc[15]=e[15],uc));e=b.hiB;l.uniformMatrix4fv(ca.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(Sa[0]=e[0],Sa[1]=e[1],Sa[2]=e[2],Sa[3]=e[3],Sa[4]=e[4],Sa[5]=e[5],Sa[6]=e[6],Sa[7]=e[7],Sa[8]=e[8],Sa[9]=e[9],Sa[10]=e[10],Sa[11]=e[11],Sa[12]=e[12],Sa[13]=e[13],Sa[14]=
e[14],Sa[15]=e[15],Sa));e=b.loC;l.uniformMatrix4fv(W.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(Hc[0]=e[0],Hc[1]=e[1],Hc[2]=e[2],Hc[3]=e[3],Hc[4]=e[4],Hc[5]=e[5],Hc[6]=e[6],Hc[7]=e[7],Hc[8]=e[8],Hc[9]=e[9],Hc[10]=e[10],Hc[11]=e[11],Hc[12]=e[12],Hc[13]=e[13],Hc[14]=e[14],Hc[15]=e[15],Hc));e=b.hiC;l.uniformMatrix4fv(Ea.location,!1,Array.isArray(e)||e instanceof Float32Array?e:($b[0]=e[0],$b[1]=e[1],$b[2]=e[2],$b[3]=e[3],$b[4]=e[4],$b[5]=e[5],$b[6]=e[6],$b[7]=e[7],$b[8]=e[8],$b[9]=e[9],
$b[10]=e[10],$b[11]=e[11],$b[12]=e[12],$b[13]=e[13],$b[14]=e[14],$b[15]=e[15],$b));e=b.loD;l.uniformMatrix4fv(ib.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(Zc[0]=e[0],Zc[1]=e[1],Zc[2]=e[2],Zc[3]=e[3],Zc[4]=e[4],Zc[5]=e[5],Zc[6]=e[6],Zc[7]=e[7],Zc[8]=e[8],Zc[9]=e[9],Zc[10]=e[10],Zc[11]=e[11],Zc[12]=e[12],Zc[13]=e[13],Zc[14]=e[14],Zc[15]=e[15],Zc));e=b.hiD;l.uniformMatrix4fv(Ma.location,!1,Array.isArray(e)||e instanceof Float32Array?e:(Cd[0]=e[0],Cd[1]=e[1],Cd[2]=e[2],Cd[3]=e[3],Cd[4]=
e[4],Cd[5]=e[5],Cd[6]=e[6],Cd[7]=e[7],Cd[8]=e[8],Cd[9]=e[9],Cd[10]=e[10],Cd[11]=e[11],Cd[12]=e[12],Cd[13]=e[13],Cd[14]=e[14],Cd[15]=e[15],Cd));e=b.resolution;l.uniform2f(U.location,e[0],e[1]);e=b.viewBoxPos;l.uniform2f(ha.location,e[0],e[1]);e=b.viewBoxSize;l.uniform2f(ra.location,e[0],e[1]);l.uniform1f(ea.location,b.maskHeight);l.uniform1f(x.location,b.drwLayer);e=b.contextColor;l.uniform4f(Y.location,e[0],e[1],e[2],e[3]);(e=b.maskTexture)&&"framebuffer"===e._reglType&&(e=e.color[0]);e=e._texture;
l.uniform1i(sa.location,e.bind());l.uniform1i(ua.location,G.bind());(d=S.elements)?l.bindBuffer(34963,d.buffer.buffer):Ib.currentVAO&&(d=ya.getElements(Ib.currentVAO.elements))&&l.bindBuffer(34963,d.buffer.buffer);k=b.offset;if(b=b.count)d?l.drawElements(1,b,d.type,k<<(d.type-5121>>1)):l.drawArrays(1,k,b),da.dirty=!0,Ib.setVAO(null),w.viewportWidth=g,w.viewportHeight=n,da.profile=h,e.unbind(),G.unbind()},scope:function(d,l,p){var v,x,L,D,C,aa,V,M,K,O,T,P,W,U,ha,ja,oa,Y,G,ia,ca,ya,ea,la,ua,Ca,nc,ab,
ra,Sa,Ba,wa,Ka,Kd,Cb,Pc,Ib,xa,Va,Da,Sd,$b,Ec,Kc,qa,Xb,hc,Ra,Db,qc,Fa,Qc,Oa,Aa,td,sa,hd,fb,Wa,ma,Uc,uc,yd,sd,Rd,Hc,yc,Zc,Hb,Ga,Gb,mb,vb,rd,xd,le,Jc,Sb,qd,vc,ud,$c,Ea,od,We,Lb,Fb,se,cd,Id,lf,Ee,Cd,cc,bf,$a,Pa,kc,Xd,re,Ma,ib,Qd,ue,Dc,Wb,Ha,Bc,md,bc,Bb,Za,ze,If,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,Jd,Ld,Md,he,Fe,we,me,Ye,Oe,Le,qe,Ce,Ge,He,Ie,De,Gd,Pd,Wd,Zd,Je,zd,Nd,Ae,Ke,ff,Ve,Pe,Me,Ue,Te,Qe,Re,Od,Td,Se,gf,mf,cf,hf,jf,kf,qf,nf,rf,Af,Bf,Ne,Be,of,pf,Cf,Ff,zf,Df,Ef,vf,wf,uf,xf,yf,Hf,Jf,Kf,Lf,sf,Qf,Gf,tf,dg,
Rf,Sf,qg,df,$e,Mf,Nf,eg,fg,gg,hg,ig,Wf,Uf,Xf,Yf,Zf,jg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,ef,af,Of,Pf,kg,lg,mg,ng,og,$f,Vf,ag,bg,cg,pg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh,vh;nd.height=d.viewportHeight;nd.width=d.viewportWidth;nd.x=d.viewportX;nd.y=d.viewportY;v=nd.x|0;x=nd.y|0;L="width"in nd?nd.width|0:w.framebufferWidth-v;D="height"in nd?nd.height|0:w.framebufferHeight-x;C=w.viewportWidth;w.viewportWidth=
L;aa=w.viewportHeight;w.viewportHeight=D;V=ne[0];ne[0]=v;M=ne[1];ne[1]=x;K=ne[2];ne[2]=L;O=ne[3];ne[3]=D;T=wb[0];wb[0]=0;P=wb[1];wb[1]=0;W=wb[2];wb[2]=0;U=wb[3];wb[3]=0;ha=jc.blend_enable;jc.blend_enable=!1;ja=ke[0];ke[0]=32774;oa=ke[1];ke[1]=32774;Y=ae[0];ae[0]=770;G=ae[1];ae[1]=771;ia=ae[2];ae[2]=1;ca=ae[3];ae[3]=1;ya=jc.cull_enable;jc.cull_enable=!0;ea=jc.cull_face;jc.cull_face=1029;la=jc.depth_enable;jc.depth_enable=!0;ua=jc.depth_func;jc.depth_func=513;Ca=jc.depth_mask;jc.depth_mask=!0;nc=ee[0];
ee[0]=0;ab=ee[1];ee[1]=1;ra=jc.dither;jc.dither=!1;Sa=jc.lineWidth;jc.lineWidth=2;vd.height=d.scissorHeight;vd.width=d.scissorWidth;vd.x=d.scissorX;vd.y=d.scissorY;Ba=vd.x|0;wa=vd.y|0;Ka="width"in vd?vd.width|0:w.framebufferWidth-Ba;Kd="height"in vd?vd.height|0:w.framebufferHeight-wa;Cb=Ze[0];Ze[0]=Ba;Pc=Ze[1];Ze[1]=wa;Ib=Ze[2];Ze[2]=Ka;xa=Ze[3];Ze[3]=Kd;Va=jc.scissor_enable;jc.scissor_enable=!0;Da=da.profile;da.profile=!1;Sd=d.offset;$b=S.offset;S.offset=Sd;Ec=d.count;Kc=S.count;S.count=Ec;qa=S.primitive;
S.primitive=1;Xb=d.contextColor;hc=n[24];n[24]=Xb;Ra=d.dim0A;Db=n[3];n[3]=Ra;qc=d.dim0B;Fa=n[5];n[5]=qc;Qc=d.dim0C;Oa=n[7];n[7]=Qc;Aa=d.dim0D;td=n[9];n[9]=Aa;sa=d.dim1A;hd=n[4];n[4]=sa;fb=d.dim1B;Wa=n[6];n[6]=fb;ma=d.dim1C;Uc=n[8];n[8]=ma;uc=d.dim1D;yd=n[10];n[10]=uc;sd=d.drwLayer;Rd=n[23];n[23]=sd;Hc=d.hiA;yc=n[12];n[12]=Hc;Zc=d.hiB;Hb=n[14];n[14]=Zc;Ga=d.hiC;Gb=n[16];n[16]=Ga;mb=d.hiD;vb=n[18];n[18]=mb;rd=d.loA;xd=n[11];n[11]=rd;le=d.loB;Jc=n[13];n[13]=le;Sb=d.loC;qd=n[15];n[15]=Sb;vc=d.loD;ud=
n[17];n[17]=vc;$c=d.maskHeight;Ea=n[22];n[22]=$c;od=d.maskTexture;We=n[25];n[25]=od;Lb=n[26];n[26]=pc;Fb=d.resolution;se=n[19];n[19]=Fb;cd=d.viewBoxPos;Id=n[20];n[20]=cd;lf=d.viewBoxSize;Ee=n[21];n[21]=lf;Cd=k.buffer;k.buffer=Z;cc=k.divisor;k.divisor=0;bf=k.normalized;k.normalized=!1;$a=k.offset;k.offset=0;Pa=k.size;k.size=0;kc=k.state;k.state=1;Xd=k.stride;k.stride=0;re=k.type;k.type=Z.dtype;Ma=k.w;k.w=0;ib=k.x;k.x=0;Qd=k.y;k.y=0;ue=k.z;k.z=0;Dc=h.buffer;h.buffer=H;Wb=h.divisor;h.divisor=0;Ha=h.normalized;
h.normalized=!1;Bc=h.offset;h.offset=0;md=h.size;h.size=0;bc=h.state;h.state=1;Bb=h.stride;h.stride=0;Za=h.type;h.type=H.dtype;ze=h.w;h.w=0;If=h.x;h.x=0;de=h.y;h.y=0;ce=h.z;h.z=0;$d=g.buffer;g.buffer=f;oe=g.divisor;g.divisor=0;Yd=g.normalized;g.normalized=!1;ge=g.offset;g.offset=0;xc=g.size;g.size=0;Wc=g.state;g.state=1;pe=g.stride;g.stride=0;je=g.type;g.type=f.dtype;Ed=g.w;g.w=0;Jd=g.x;g.x=0;Ld=g.y;g.y=0;Md=g.z;g.z=0;he=q.buffer;q.buffer=a;Fe=q.divisor;q.divisor=0;we=q.normalized;q.normalized=!1;
me=q.offset;q.offset=0;Ye=q.size;q.size=0;Oe=q.state;q.state=1;Le=q.stride;q.stride=0;qe=q.type;q.type=a.dtype;Ce=q.w;q.w=0;Ge=q.x;q.x=0;He=q.y;q.y=0;Ie=q.z;q.z=0;De=Q.buffer;Q.buffer=u;Gd=Q.divisor;Q.divisor=0;Pd=Q.normalized;Q.normalized=!1;Wd=Q.offset;Q.offset=0;Zd=Q.size;Q.size=0;Je=Q.state;Q.state=1;zd=Q.stride;Q.stride=0;Nd=Q.type;Q.type=u.dtype;Ae=Q.w;Q.w=0;Ke=Q.x;Q.x=0;ff=Q.y;Q.y=0;Ve=Q.z;Q.z=0;Pe=R.buffer;R.buffer=c;Me=R.divisor;R.divisor=0;Ue=R.normalized;R.normalized=!1;Te=R.offset;R.offset=
0;Qe=R.size;R.size=0;Re=R.state;R.state=1;Od=R.stride;R.stride=0;Td=R.type;R.type=c.dtype;Se=R.w;R.w=0;gf=R.x;R.x=0;mf=R.y;R.y=0;cf=R.z;R.z=0;hf=m.buffer;m.buffer=r;jf=m.divisor;m.divisor=0;kf=m.normalized;m.normalized=!1;qf=m.offset;m.offset=0;nf=m.size;m.size=0;rf=m.state;m.state=1;Af=m.stride;m.stride=0;Bf=m.type;m.type=r.dtype;Ne=m.w;m.w=0;Be=m.x;m.x=0;of=m.y;m.y=0;pf=m.z;m.z=0;Cf=pa.buffer;pa.buffer=z;Ff=pa.divisor;pa.divisor=0;zf=pa.normalized;pa.normalized=!1;Df=pa.offset;pa.offset=0;Ef=pa.size;
pa.size=0;vf=pa.state;pa.state=1;wf=pa.stride;pa.stride=0;uf=pa.type;pa.type=z.dtype;xf=pa.w;pa.w=0;yf=pa.x;pa.x=0;Hf=pa.y;pa.y=0;Jf=pa.z;pa.z=0;Kf=J.buffer;J.buffer=ka;Lf=J.divisor;J.divisor=0;sf=J.normalized;J.normalized=!1;Qf=J.offset;J.offset=0;Gf=J.size;J.size=0;tf=J.state;J.state=1;dg=J.stride;J.stride=0;Rf=J.type;J.type=ka.dtype;Sf=J.w;J.w=0;qg=J.x;J.x=0;df=J.y;J.y=0;$e=J.z;J.z=0;Mf=fa.buffer;fa.buffer=F;Nf=fa.divisor;fa.divisor=0;eg=fa.normalized;fa.normalized=!1;fg=fa.offset;fa.offset=0;
gg=fa.size;fa.size=0;hg=fa.state;fa.state=1;ig=fa.stride;fa.stride=0;Wf=fa.type;fa.type=F.dtype;Uf=fa.w;fa.w=0;Xf=fa.x;fa.x=0;Yf=fa.y;fa.y=0;Zf=fa.z;fa.z=0;jg=b.buffer;b.buffer=B;rg=b.divisor;b.divisor=0;sg=b.normalized;b.normalized=!1;tg=b.offset;b.offset=0;ug=b.size;b.size=0;vg=b.state;b.state=1;wg=b.stride;b.stride=0;xg=b.type;b.type=B.dtype;yg=b.w;b.w=0;zg=b.x;b.x=0;Ag=b.y;b.y=0;Bg=b.z;b.z=0;ef=e.buffer;e.buffer=t;af=e.divisor;e.divisor=0;Of=e.normalized;e.normalized=!1;Pf=e.offset;e.offset=0;
kg=e.size;e.size=0;lg=e.state;e.state=1;mg=e.stride;e.stride=0;ng=e.type;e.type=t.dtype;og=e.w;e.w=0;$f=e.x;e.x=0;Vf=e.y;e.y=0;ag=e.z;e.z=0;bg=ba.buffer;ba.buffer=A;cg=ba.divisor;ba.divisor=0;pg=ba.normalized;ba.normalized=!1;Cg=ba.offset;ba.offset=0;Dg=ba.size;ba.size=0;Eg=ba.state;ba.state=1;Fg=ba.stride;ba.stride=0;Gg=ba.type;ba.type=A.dtype;Hg=ba.w;ba.w=0;Ig=ba.x;ba.x=0;Jg=ba.y;ba.y=0;Kg=ba.z;ba.z=0;Lg=na.buffer;na.buffer=I;Mg=na.divisor;na.divisor=0;Ng=na.normalized;na.normalized=!1;Og=na.offset;
na.offset=0;Pg=na.size;na.size=0;Qg=na.state;na.state=1;Rg=na.stride;na.stride=0;Sg=na.type;na.type=I.dtype;Tg=na.w;na.w=0;Ug=na.x;na.x=0;Vg=na.y;na.y=0;Wg=na.z;na.z=0;Xg=N.buffer;N.buffer=y;Yg=N.divisor;N.divisor=0;Zg=N.normalized;N.normalized=!1;$g=N.offset;N.offset=0;ah=N.size;N.size=0;bh=N.state;N.state=1;ch=N.stride;N.stride=0;dh=N.type;N.type=y.dtype;eh=N.w;N.w=0;fh=N.x;N.x=0;gh=N.y;N.y=0;hh=N.z;N.z=0;ih=yb.buffer;yb.buffer=E;jh=yb.divisor;yb.divisor=0;kh=yb.normalized;yb.normalized=!1;lh=yb.offset;
yb.offset=0;mh=yb.size;yb.size=0;nh=yb.state;yb.state=1;oh=yb.stride;yb.stride=0;ph=yb.type;yb.type=E.dtype;qh=yb.w;yb.w=0;rh=yb.x;yb.x=0;sh=yb.y;yb.y=0;th=yb.z;yb.z=0;uh=X.vert;X.vert=2;vh=X.frag;X.frag=1;da.dirty=!0;l(w,d,p);w.viewportWidth=C;w.viewportHeight=aa;ne[0]=V;ne[1]=M;ne[2]=K;ne[3]=O;wb[0]=T;wb[1]=P;wb[2]=W;wb[3]=U;jc.blend_enable=ha;ke[0]=ja;ke[1]=oa;ae[0]=Y;ae[1]=G;ae[2]=ia;ae[3]=ca;jc.cull_enable=ya;jc.cull_face=ea;jc.depth_enable=la;jc.depth_func=ua;jc.depth_mask=Ca;ee[0]=nc;ee[1]=
ab;jc.dither=ra;jc.lineWidth=Sa;Ze[0]=Cb;Ze[1]=Pc;Ze[2]=Ib;Ze[3]=xa;jc.scissor_enable=Va;da.profile=Da;S.offset=$b;S.count=Kc;S.primitive=qa;n[24]=hc;n[3]=Db;n[5]=Fa;n[7]=Oa;n[9]=td;n[4]=hd;n[6]=Wa;n[8]=Uc;n[10]=yd;n[23]=Rd;n[12]=yc;n[14]=Hb;n[16]=Gb;n[18]=vb;n[11]=xd;n[13]=Jc;n[15]=qd;n[17]=ud;n[22]=Ea;n[25]=We;n[26]=Lb;n[19]=se;n[20]=Id;n[21]=Ee;k.buffer=Cd;k.divisor=cc;k.normalized=bf;k.offset=$a;k.size=Pa;k.state=kc;k.stride=Xd;k.type=re;k.w=Ma;k.x=ib;k.y=Qd;k.z=ue;h.buffer=Dc;h.divisor=Wb;h.normalized=
Ha;h.offset=Bc;h.size=md;h.state=bc;h.stride=Bb;h.type=Za;h.w=ze;h.x=If;h.y=de;h.z=ce;g.buffer=$d;g.divisor=oe;g.normalized=Yd;g.offset=ge;g.size=xc;g.state=Wc;g.stride=pe;g.type=je;g.w=Ed;g.x=Jd;g.y=Ld;g.z=Md;q.buffer=he;q.divisor=Fe;q.normalized=we;q.offset=me;q.size=Ye;q.state=Oe;q.stride=Le;q.type=qe;q.w=Ce;q.x=Ge;q.y=He;q.z=Ie;Q.buffer=De;Q.divisor=Gd;Q.normalized=Pd;Q.offset=Wd;Q.size=Zd;Q.state=Je;Q.stride=zd;Q.type=Nd;Q.w=Ae;Q.x=Ke;Q.y=ff;Q.z=Ve;R.buffer=Pe;R.divisor=Me;R.normalized=Ue;R.offset=
Te;R.size=Qe;R.state=Re;R.stride=Od;R.type=Td;R.w=Se;R.x=gf;R.y=mf;R.z=cf;m.buffer=hf;m.divisor=jf;m.normalized=kf;m.offset=qf;m.size=nf;m.state=rf;m.stride=Af;m.type=Bf;m.w=Ne;m.x=Be;m.y=of;m.z=pf;pa.buffer=Cf;pa.divisor=Ff;pa.normalized=zf;pa.offset=Df;pa.size=Ef;pa.state=vf;pa.stride=wf;pa.type=uf;pa.w=xf;pa.x=yf;pa.y=Hf;pa.z=Jf;J.buffer=Kf;J.divisor=Lf;J.normalized=sf;J.offset=Qf;J.size=Gf;J.state=tf;J.stride=dg;J.type=Rf;J.w=Sf;J.x=qg;J.y=df;J.z=$e;fa.buffer=Mf;fa.divisor=Nf;fa.normalized=eg;
fa.offset=fg;fa.size=gg;fa.state=hg;fa.stride=ig;fa.type=Wf;fa.w=Uf;fa.x=Xf;fa.y=Yf;fa.z=Zf;b.buffer=jg;b.divisor=rg;b.normalized=sg;b.offset=tg;b.size=ug;b.state=vg;b.stride=wg;b.type=xg;b.w=yg;b.x=zg;b.y=Ag;b.z=Bg;e.buffer=ef;e.divisor=af;e.normalized=Of;e.offset=Pf;e.size=kg;e.state=lg;e.stride=mg;e.type=ng;e.w=og;e.x=$f;e.y=Vf;e.z=ag;ba.buffer=bg;ba.divisor=cg;ba.normalized=pg;ba.offset=Cg;ba.size=Dg;ba.state=Eg;ba.stride=Fg;ba.type=Gg;ba.w=Hg;ba.x=Ig;ba.y=Jg;ba.z=Kg;na.buffer=Lg;na.divisor=Mg;
na.normalized=Ng;na.offset=Og;na.size=Pg;na.state=Qg;na.stride=Rg;na.type=Sg;na.w=Tg;na.x=Ug;na.y=Vg;na.z=Wg;N.buffer=Xg;N.divisor=Yg;N.normalized=Zg;N.offset=$g;N.size=ah;N.state=bh;N.stride=ch;N.type=dh;N.w=eh;N.x=fh;N.y=gh;N.z=hh;yb.buffer=ih;yb.divisor=jh;yb.normalized=kh;yb.offset=lh;yb.size=mh;yb.state=nh;yb.stride=oh;yb.type=ph;yb.w=qh;yb.x=rh;yb.y=sh;yb.z=th;X.vert=uh;X.frag=vh;da.dirty=!0}}},$1:function(d,V){var p,H,f,a,u,c,r,z,ka,F,B,t,A,I,y,E,Z,G,N,k,h,g,q,Q,R,m,pa,J,fa,b;p=d.attributes;
H=d.current;f=d.framebuffer;a=d.gl;u=d.next;c=d.vao;r=u.blend_color;z=H.blend_color;ka=u.blend_equation;F=H.blend_equation;B=u.blend_func;t=H.blend_func;A=u.colorMask;I=H.colorMask;y=u.depth_range;E=H.depth_range;Z=u.polygonOffset_offset;G=H.polygonOffset_offset;N=u.sample_coverage;k=H.sample_coverage;h=u.scissor_box;g=H.scissor_box;q=u.stencil_func;Q=H.stencil_func;R=u.stencil_opBack;m=H.stencil_opBack;pa=u.stencil_opFront;J=H.stencil_opFront;fa=u.viewport;b=H.viewport;return{poll:function(){var c,
d,p,V,yb,Bb,ma,Pa,Y,K,M,T,qa,O,Wb,$a,P,x,la,ca,Ea,Ma;H.dirty=!1;d=u.blend_enable;p=u.cull_enable;V=u.depth_enable;yb=u.dither;Bb=u.polygonOffset_enable;ma=u.sample_alpha;Pa=u.sample_enable;Y=u.scissor_enable;K=u.stencil_enable;M=u.cull_face;T=H.cull_face;qa=u.depth_func;O=H.depth_func;Wb=u.depth_mask;$a=H.depth_mask;P=u.frontFace;x=H.frontFace;la=u.lineWidth;ca=H.lineWidth;Ea=u.stencil_mask;Ma=H.stencil_mask;c=f.next;c!==f.cur&&(c?a.bindFramebuffer(36160,c.framebuffer):a.bindFramebuffer(36160,null),
f.cur=c);d!==H.blend_enable&&(d?a.enable(3042):a.disable(3042),H.blend_enable=d);p!==H.cull_enable&&(p?a.enable(2884):a.disable(2884),H.cull_enable=p);V!==H.depth_enable&&(V?a.enable(2929):a.disable(2929),H.depth_enable=V);yb!==H.dither&&(yb?a.enable(3024):a.disable(3024),H.dither=yb);Bb!==H.polygonOffset_enable&&(Bb?a.enable(32823):a.disable(32823),H.polygonOffset_enable=Bb);ma!==H.sample_alpha&&(ma?a.enable(32926):a.disable(32926),H.sample_alpha=ma);Pa!==H.sample_enable&&(Pa?a.enable(32928):a.disable(32928),
H.sample_enable=Pa);Y!==H.scissor_enable&&(Y?a.enable(3089):a.disable(3089),H.scissor_enable=Y);K!==H.stencil_enable&&(K?a.enable(2960):a.disable(2960),H.stencil_enable=K);if(r[0]!==z[0]||r[1]!==z[1]||r[2]!==z[2]||r[3]!==z[3])a.blendColor(r[0],r[1],r[2],r[3]),z[0]=r[0],z[1]=r[1],z[2]=r[2],z[3]=r[3];if(ka[0]!==F[0]||ka[1]!==F[1])a.blendEquationSeparate(ka[0],ka[1]),F[0]=ka[0],F[1]=ka[1];if(B[0]!==t[0]||B[1]!==t[1]||B[2]!==t[2]||B[3]!==t[3])a.blendFuncSeparate(B[0],B[1],B[2],B[3]),t[0]=B[0],t[1]=B[1],
t[2]=B[2],t[3]=B[3];if(A[0]!==I[0]||A[1]!==I[1]||A[2]!==I[2]||A[3]!==I[3])a.colorMask(A[0],A[1],A[2],A[3]),I[0]=A[0],I[1]=A[1],I[2]=A[2],I[3]=A[3];M!==T&&(a.cullFace(M),H.cull_face=M);qa!==O&&(a.depthFunc(qa),H.depth_func=qa);Wb!==$a&&(a.depthMask(Wb),H.depth_mask=Wb);if(y[0]!==E[0]||y[1]!==E[1])a.depthRange(y[0],y[1]),E[0]=y[0],E[1]=y[1];P!==x&&(a.frontFace(P),H.frontFace=P);la!==ca&&(a.lineWidth(la),H.lineWidth=la);if(Z[0]!==G[0]||Z[1]!==G[1])a.polygonOffset(Z[0],Z[1]),G[0]=Z[0],G[1]=Z[1];if(N[0]!==
k[0]||N[1]!==k[1])a.sampleCoverage(N[0],N[1]),k[0]=N[0],k[1]=N[1];if(h[0]!==g[0]||h[1]!==g[1]||h[2]!==g[2]||h[3]!==g[3])a.scissor(h[0],h[1],h[2],h[3]),g[0]=h[0],g[1]=h[1],g[2]=h[2],g[3]=h[3];if(q[0]!==Q[0]||q[1]!==Q[1]||q[2]!==Q[2])a.stencilFunc(q[0],q[1],q[2]),Q[0]=q[0],Q[1]=q[1],Q[2]=q[2];Ea!==Ma&&(a.stencilMask(Ea),H.stencil_mask=Ea);if(R[0]!==m[0]||R[1]!==m[1]||R[2]!==m[2]||R[3]!==m[3])a.stencilOpSeparate(R[0],R[1],R[2],R[3]),m[0]=R[0],m[1]=R[1],m[2]=R[2],m[3]=R[3];if(pa[0]!==J[0]||pa[1]!==J[1]||
pa[2]!==J[2]||pa[3]!==J[3])a.stencilOpSeparate(pa[0],pa[1],pa[2],pa[3]),J[0]=pa[0],J[1]=pa[1],J[2]=pa[2],J[3]=pa[3];if(fa[0]!==b[0]||fa[1]!==b[1]||fa[2]!==b[2]||fa[3]!==b[3])a.viewport(fa[0],fa[1],fa[2],fa[3]),b[0]=fa[0],b[1]=fa[1],b[2]=fa[2],b[3]=fa[3]},refresh:function(){var e,d,na,Za,yb,Bb,ma,Pa,Y,K,M,T,qa,O,Wb,$a;H.dirty=!1;d=u.blend_enable;na=u.cull_enable;Za=u.depth_enable;yb=u.dither;Bb=u.polygonOffset_enable;ma=u.sample_alpha;Pa=u.sample_enable;Y=u.scissor_enable;K=u.stencil_enable;M=u.cull_face;
T=u.depth_func;qa=u.depth_mask;O=u.frontFace;Wb=u.lineWidth;$a=u.stencil_mask;(e=f.next)?a.bindFramebuffer(36160,e.framebuffer):a.bindFramebuffer(36160,null);f.cur=e;e=p[0];e.buffer?(a.enableVertexAttribArray(0),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(0,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(0),a.vertexAttrib4f(0,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(0,e.divisor);e=p[1];e.buffer?(a.enableVertexAttribArray(1),a.bindBuffer(34962,
e.buffer.buffer),a.vertexAttribPointer(1,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(1),a.vertexAttrib4f(1,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(1,e.divisor);e=p[2];e.buffer?(a.enableVertexAttribArray(2),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(2,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(2),a.vertexAttrib4f(2,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(2,e.divisor);e=p[3];e.buffer?
(a.enableVertexAttribArray(3),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(3,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(3),a.vertexAttrib4f(3,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(3,e.divisor);e=p[4];e.buffer?(a.enableVertexAttribArray(4),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(4,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(4),a.vertexAttrib4f(4,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(4,
e.divisor);e=p[5];e.buffer?(a.enableVertexAttribArray(5),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(5,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(5),a.vertexAttrib4f(5,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(5,e.divisor);e=p[6];e.buffer?(a.enableVertexAttribArray(6),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(6,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(6),a.vertexAttrib4f(6,e.x,e.y,e.z,
e.w),e.buffer=null);V.vertexAttribDivisorANGLE(6,e.divisor);e=p[7];e.buffer?(a.enableVertexAttribArray(7),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(7,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(7),a.vertexAttrib4f(7,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(7,e.divisor);e=p[8];e.buffer?(a.enableVertexAttribArray(8),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(8,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(8),
a.vertexAttrib4f(8,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(8,e.divisor);e=p[9];e.buffer?(a.enableVertexAttribArray(9),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(9,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(9),a.vertexAttrib4f(9,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(9,e.divisor);e=p[10];e.buffer?(a.enableVertexAttribArray(10),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(10,e.size,e.type,e.normalized,
e.stride,e.offset)):(a.disableVertexAttribArray(10),a.vertexAttrib4f(10,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(10,e.divisor);e=p[11];e.buffer?(a.enableVertexAttribArray(11),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(11,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(11),a.vertexAttrib4f(11,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(11,e.divisor);e=p[12];e.buffer?(a.enableVertexAttribArray(12),a.bindBuffer(34962,e.buffer.buffer),
a.vertexAttribPointer(12,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(12),a.vertexAttrib4f(12,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(12,e.divisor);e=p[13];e.buffer?(a.enableVertexAttribArray(13),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(13,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(13),a.vertexAttrib4f(13,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(13,e.divisor);e=p[14];e.buffer?(a.enableVertexAttribArray(14),
a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(14,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(14),a.vertexAttrib4f(14,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(14,e.divisor);e=p[15];e.buffer?(a.enableVertexAttribArray(15),a.bindBuffer(34962,e.buffer.buffer),a.vertexAttribPointer(15,e.size,e.type,e.normalized,e.stride,e.offset)):(a.disableVertexAttribArray(15),a.vertexAttrib4f(15,e.x,e.y,e.z,e.w),e.buffer=null);V.vertexAttribDivisorANGLE(15,
e.divisor);c.currentVAO=null;c.setVAO(c.targetVAO);d?a.enable(3042):a.disable(3042);H.blend_enable=d;na?a.enable(2884):a.disable(2884);H.cull_enable=na;Za?a.enable(2929):a.disable(2929);H.depth_enable=Za;yb?a.enable(3024):a.disable(3024);H.dither=yb;Bb?a.enable(32823):a.disable(32823);H.polygonOffset_enable=Bb;ma?a.enable(32926):a.disable(32926);H.sample_alpha=ma;Pa?a.enable(32928):a.disable(32928);H.sample_enable=Pa;Y?a.enable(3089):a.disable(3089);H.scissor_enable=Y;K?a.enable(2960):a.disable(2960);
H.stencil_enable=K;a.blendColor(r[0],r[1],r[2],r[3]);z[0]=r[0];z[1]=r[1];z[2]=r[2];z[3]=r[3];a.blendEquationSeparate(ka[0],ka[1]);F[0]=ka[0];F[1]=ka[1];a.blendFuncSeparate(B[0],B[1],B[2],B[3]);t[0]=B[0];t[1]=B[1];t[2]=B[2];t[3]=B[3];a.colorMask(A[0],A[1],A[2],A[3]);I[0]=A[0];I[1]=A[1];I[2]=A[2];I[3]=A[3];a.cullFace(M);H.cull_face=M;a.depthFunc(T);H.depth_func=T;a.depthMask(qa);H.depth_mask=qa;a.depthRange(y[0],y[1]);E[0]=y[0];E[1]=y[1];a.frontFace(O);H.frontFace=O;a.lineWidth(Wb);H.lineWidth=Wb;a.polygonOffset(Z[0],
Z[1]);G[0]=Z[0];G[1]=Z[1];a.sampleCoverage(N[0],N[1]);k[0]=N[0];k[1]=N[1];a.scissor(h[0],h[1],h[2],h[3]);g[0]=h[0];g[1]=h[1];g[2]=h[2];g[3]=h[3];a.stencilFunc(q[0],q[1],q[2]);Q[0]=q[0];Q[1]=q[1];Q[2]=q[2];a.stencilMask($a);H.stencil_mask=$a;a.stencilOpSeparate(R[0],R[1],R[2],R[3]);m[0]=R[0];m[1]=R[1];m[2]=R[2];m[3]=R[3];a.stencilOpSeparate(pa[0],pa[1],pa[2],pa[3]);J[0]=pa[0];J[1]=pa[1];J[2]=pa[2];J[3]=pa[3];a.viewport(fa[0],fa[1],fa[2],fa[3]);b[0]=fa[0];b[1]=fa[1];b[2]=fa[2];b[3]=fa[3]}}},"$32,capOffset,capSize,color,direction,error,lineOffset,lineWidth,opacity,position,positionFract,scale,scaleFract,translate,translateFract,viewport":function(d,
V,p,H,f,a,u,c,r,z,ka,F,B,t,A,I,y,E,Z,G,N,k,h,g,q,Q,R,m,pa,J,fa,b,e,ba,na,Za,yb,Bb,ma,Pa,Y,K,M,T,qa,O,Wb,$a){var P,x,la,ca,Ea,Ma,bc,Ha,W,ib,ea,sa,cc,nc,kc,td,vc,aa,L,ja,Ba,Gb,Jc,Bc,C,v,ia,ua,U,ha,ra,D,w,da,S,ya,oa,l,jc,X,n,Ib,wb;P=d.attributes;x=d.buffer;la=d.context;ca=d.current;Ea=d.draw;Ma=d.elements;bc=d.extensions;Ha=d.framebuffer;W=d.gl;ib=d.isBufferArgs;ea=d.next;sa=d.shader;cc=d.uniforms;nc=d.vao;kc=ea.blend_color;td=ca.blend_color;vc=ea.blend_equation;aa=ca.blend_equation;L=ea.blend_func;
ja=ca.blend_func;Ba=ea.colorMask;Gb=ca.colorMask;Jc=ea.depth_range;Bc=ca.depth_range;C=ea.polygonOffset_offset;v=ca.polygonOffset_offset;ia=ea.sample_coverage;ua=ca.sample_coverage;U=ea.scissor_box;ha=ca.scissor_box;ra=ea.stencil_func;D=ca.stencil_func;w=ea.stencil_opBack;da=ca.stencil_opBack;S=ea.stencil_opFront;ya=ca.stencil_opFront;oa=ea.viewport;l=ca.viewport;jc={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};X={};X.buffer=p;X.divisor=1;n={};n.buffer=
H;n.divisor=1;Ib={};Ib.buffer=f;Ib.divisor=1;wb={};wb.buffer=a;wb.divisor=1;return{batch:function(a,c){var d,g,f,h,k,q;d=Ha.next;d!==Ha.cur&&(d?W.bindFramebuffer(36160,d.framebuffer):W.bindFramebuffer(36160,null),Ha.cur=d);if(ca.dirty){var p,u,y,r,L,H,A,E,Q,I,R,z,U,oa,G,ka,Z,N,ga,sa,pc,Pc,Kc,qc,ab,hc,Cb,uc,Sa,Hc,$b,Zc,vc;p=ea.dither;p!==ca.dither&&(p?W.enable(3024):W.disable(3024),ca.dither=p);u=ea.depth_func;u!==ca.depth_func&&(W.depthFunc(u),ca.depth_func=u);y=Jc[0];r=Jc[1];if(y!==Bc[0]||r!==Bc[1])W.depthRange(y,
r),Bc[0]=y,Bc[1]=r;L=ea.depth_mask;L!==ca.depth_mask&&(W.depthMask(L),ca.depth_mask=L);H=Ba[0];A=Ba[1];E=Ba[2];Q=Ba[3];if(H!==Gb[0]||A!==Gb[1]||E!==Gb[2]||Q!==Gb[3])W.colorMask(H,A,E,Q),Gb[0]=H,Gb[1]=A,Gb[2]=E,Gb[3]=Q;I=ea.cull_enable;I!==ca.cull_enable&&(I?W.enable(2884):W.disable(2884),ca.cull_enable=I);R=ea.cull_face;R!==ca.cull_face&&(W.cullFace(R),ca.cull_face=R);z=ea.frontFace;z!==ca.frontFace&&(W.frontFace(z),ca.frontFace=z);U=ea.lineWidth;U!==ca.lineWidth&&(W.lineWidth(U),ca.lineWidth=U);
oa=ea.polygonOffset_enable;oa!==ca.polygonOffset_enable&&(oa?W.enable(32823):W.disable(32823),ca.polygonOffset_enable=oa);G=C[0];ka=C[1];if(G!==v[0]||ka!==v[1])W.polygonOffset(G,ka),v[0]=G,v[1]=ka;Z=ea.sample_alpha;Z!==ca.sample_alpha&&(Z?W.enable(32926):W.disable(32926),ca.sample_alpha=Z);N=ea.sample_enable;N!==ca.sample_enable&&(N?W.enable(32928):W.disable(32928),ca.sample_enable=N);ga=ia[0];sa=ia[1];if(ga!==ua[0]||sa!==ua[1])W.sampleCoverage(ga,sa),ua[0]=ga,ua[1]=sa;pc=ea.stencil_enable;pc!==ca.stencil_enable&&
(pc?W.enable(2960):W.disable(2960),ca.stencil_enable=pc);Pc=ea.stencil_mask;Pc!==ca.stencil_mask&&(W.stencilMask(Pc),ca.stencil_mask=Pc);Kc=ra[0];qc=ra[1];ab=ra[2];if(Kc!==D[0]||qc!==D[1]||ab!==D[2])W.stencilFunc(Kc,qc,ab),D[0]=Kc,D[1]=qc,D[2]=ab;hc=S[0];Cb=S[1];uc=S[2];Sa=S[3];if(hc!==ya[0]||Cb!==ya[1]||uc!==ya[2]||Sa!==ya[3])W.stencilOpSeparate(hc,Cb,uc,Sa),ya[0]=hc,ya[1]=Cb,ya[2]=uc,ya[3]=Sa;Hc=w[0];$b=w[1];Zc=w[2];vc=w[3];if(Hc!==da[0]||$b!==da[1]||Zc!==da[2]||vc!==da[3])W.stencilOpSeparate(Hc,
$b,Zc,vc),da[0]=Hc,da[1]=$b,da[2]=Zc,da[3]=vc}W.blendColor(0,0,0,0);td[0]=0;td[1]=0;td[2]=0;td[3]=0;W.enable(3042);ca.blend_enable=!0;W.blendEquationSeparate(32774,32774);aa[0]=32774;aa[1]=32774;W.blendFuncSeparate(770,771,773,1);ja[0]=770;ja[1]=771;ja[2]=773;ja[3]=1;W.disable(2929);ca.depth_enable=!1;W.enable(3089);ca.scissor_enable=!0;if(g=ca.profile)f=performance.now(),V.count+=c;W.useProgram(m.program);h=bc.angle_instanced_arrays;var od,yc,Xb,Ec,Qc,Ka,Db,Va;nc.setVAO(null);od=yb.location;yc=P[od];
yc.buffer||W.enableVertexAttribArray(od);if(5126!==yc.type||2!==yc.size||yc.buffer!==F||!1!==yc.normalized||0!==yc.offset||24!==yc.stride)W.bindBuffer(34962,F.buffer),W.vertexAttribPointer(od,2,5126,!1,24,0),yc.type=5126,yc.size=2,yc.buffer=F,yc.normalized=!1,yc.offset=0,yc.stride=24;0!==yc.divisor&&(h.vertexAttribDivisorANGLE(od,0),yc.divisor=0);Xb=ma.location;Ec=P[Xb];Ec.buffer||W.enableVertexAttribArray(Xb);if(5126!==Ec.type||2!==Ec.size||Ec.buffer!==B||!1!==Ec.normalized||8!==Ec.offset||24!==
Ec.stride)W.bindBuffer(34962,B.buffer),W.vertexAttribPointer(Xb,2,5126,!1,24,8),Ec.type=5126,Ec.size=2,Ec.buffer=B,Ec.normalized=!1,Ec.offset=8,Ec.stride=24;0!==Ec.divisor&&(h.vertexAttribDivisorANGLE(Xb,0),Ec.divisor=0);Qc=ba.location;Ka=P[Qc];Ka.buffer||W.enableVertexAttribArray(Qc);if(5126!==Ka.type||2!==Ka.size||Ka.buffer!==t||!1!==Ka.normalized||16!==Ka.offset||24!==Ka.stride)W.bindBuffer(34962,t.buffer),W.vertexAttribPointer(Qc,2,5126,!1,24,16),Ka.type=5126,Ka.size=2,Ka.buffer=t,Ka.normalized=
!1,Ka.offset=16,Ka.stride=24;0!==Ka.divisor&&(h.vertexAttribDivisorANGLE(Qc,0),Ka.divisor=0);(Db=Ea.elements)?W.bindBuffer(34963,Db.buffer.buffer):nc.currentVAO&&(Db=Ma.getElements(nc.currentVAO.elements))&&W.bindBuffer(34963,Db.buffer.buffer);Va=Ea.offset;for(k=0;k<c;++k){q=a[k];var Ca,ud,fb,Ra,Hb,Wa,$c,Sb,cc,Zb,Tb,kc,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,
rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,Vd,ye,Yc,Tf,ie,ve,te,be,Fd,Dd,id,Dc;Ca=q.viewport;ud=Ca.x|0;fb=Ca.y|0;Ra="width"in Ca?Ca.width|0:la.framebufferWidth-ud;Hb="height"in Ca?Ca.height|0:la.framebufferHeight-fb;Wa=la.viewportWidth;la.viewportWidth=Ra;$c=la.viewportHeight;la.viewportHeight=Hb;W.viewport(ud,fb,Ra,Hb);l[0]=ud;l[1]=fb;l[2]=Ra;l[3]=Hb;Sb=q.viewport;cc=Sb.x|0;Zb=Sb.y|0;Tb="width"in Sb?Sb.width|0:la.framebufferWidth-cc;kc="height"in
Sb?Sb.height|0:la.framebufferHeight-Zb;W.scissor(cc,Zb,Tb,kc);ha[0]=cc;ha[1]=Zb;ha[2]=Tb;ha[3]=kc;Eb=pa.call(this,la,q,k);Ib.offset=Eb;La=!1;nb=null;sb=0;gb=!1;oc=Na=0;Jb=1;Vc=0;cb=5126;jb=ic=Fc=lc=0;ib(Ib)?(La=!0,nb=x.createStream(34962,Ib),cb=nb.dtype):(nb=x.getBuffer(Ib))?cb=nb.dtype:"constant"in Ib?(Jb=2,"number"===typeof Ib.constant?(Fc=Ib.constant,ic=jb=lc=0):(Fc=0<Ib.constant.length?Ib.constant[0]:0,ic=1<Ib.constant.length?Ib.constant[1]:0,jb=2<Ib.constant.length?Ib.constant[2]:0,lc=3<Ib.constant.length?
Ib.constant[3]:0)):(nb=ib(Ib.buffer)?x.createStream(34962,Ib.buffer):x.getBuffer(Ib.buffer),cb="type"in Ib?jc[Ib.type]:nb.dtype,gb=!!Ib.normalized,oc=Ib.size|0,Na=Ib.offset|0,Vc=Ib.stride|0,sb=Ib.divisor|0);kb=K.location;ta=P[kb];if(1===Jb){ta.buffer||W.enableVertexAttribArray(kb);ob=oc||2;if(ta.type!==cb||ta.size!==ob||ta.buffer!==nb||ta.normalized!==gb||ta.offset!==Na||ta.stride!==Vc)W.bindBuffer(34962,nb.buffer),W.vertexAttribPointer(kb,ob,cb,gb,Vc,Na),ta.type=cb,ta.size=ob,ta.buffer=nb,ta.normalized=
gb,ta.offset=Na,ta.stride=Vc;ta.divisor!==sb&&(h.vertexAttribDivisorANGLE(kb,sb),ta.divisor=sb)}else if(ta.buffer&&(W.disableVertexAttribArray(kb),ta.buffer=null),ta.x!==Fc||ta.y!==ic||ta.z!==jb||ta.w!==lc)W.vertexAttrib4f(kb,Fc,ic,jb,lc),ta.x=Fc,ta.y=ic,ta.z=jb,ta.w=lc;va=J.call(this,la,q,k);wb.offset=va;Ta=!1;bb=null;za=0;db=!1;zb=Ia=0;xb=1;Qa=0;Ic=5126;wa=Ub=Mb=Kb=0;ib(wb)?(Ta=!0,bb=x.createStream(34962,wb),Ic=bb.dtype):(bb=x.getBuffer(wb))?Ic=bb.dtype:"constant"in wb?(xb=2,"number"===typeof wb.constant?
(Mb=wb.constant,Ub=wa=Kb=0):(Mb=0<wb.constant.length?wb.constant[0]:0,Ub=1<wb.constant.length?wb.constant[1]:0,wa=2<wb.constant.length?wb.constant[2]:0,Kb=3<wb.constant.length?wb.constant[3]:0)):(bb=ib(wb.buffer)?x.createStream(34962,wb.buffer):x.getBuffer(wb.buffer),Ic="type"in wb?jc[wb.type]:bb.dtype,db=!!wb.normalized,zb=wb.size|0,Ia=wb.offset|0,Qa=wb.stride|0,za=wb.divisor|0);Ud=M.location;Ja=P[Ud];if(1===xb){Ja.buffer||W.enableVertexAttribArray(Ud);Pb=zb||2;if(Ja.type!==Ic||Ja.size!==Pb||Ja.buffer!==
bb||Ja.normalized!==db||Ja.offset!==Ia||Ja.stride!==Qa)W.bindBuffer(34962,bb.buffer),W.vertexAttribPointer(Ud,Pb,Ic,db,Qa,Ia),Ja.type=Ic,Ja.size=Pb,Ja.buffer=bb,Ja.normalized=db,Ja.offset=Ia,Ja.stride=Qa;Ja.divisor!==za&&(h.vertexAttribDivisorANGLE(Ud,za),Ja.divisor=za)}else if(Ja.buffer&&(W.disableVertexAttribArray(Ud),Ja.buffer=null),Ja.x!==Mb||Ja.y!==Ub||Ja.z!==wa||Ja.w!==Kb)W.vertexAttrib4f(Ud,Mb,Ub,wa,Kb),Ja.x=Mb,Ja.y=Ub,Ja.z=wa,Ja.w=Kb;eb=fa.call(this,la,q,k);n.offset=eb;hb=!1;xa=null;dc=0;
Da=!1;qb=pb=0;Xa=1;Ya=0;mc=5126;Nb=Ua=sc=ed=0;ib(n)?(hb=!0,xa=x.createStream(34962,n),mc=xa.dtype):(xa=x.getBuffer(n))?mc=xa.dtype:"constant"in n?(Xa=2,"number"===typeof n.constant?(sc=n.constant,Ua=Nb=ed=0):(sc=0<n.constant.length?n.constant[0]:0,Ua=1<n.constant.length?n.constant[1]:0,Nb=2<n.constant.length?n.constant[2]:0,ed=3<n.constant.length?n.constant[3]:0)):(xa=ib(n.buffer)?x.createStream(34962,n.buffer):x.getBuffer(n.buffer),mc="type"in n?jc[n.type]:xa.dtype,Da=!!n.normalized,qb=n.size|0,
pb=n.offset|0,Ya=n.stride|0,dc=n.divisor|0);ad=Bb.location;Fa=P[ad];if(1===Xa){Fa.buffer||W.enableVertexAttribArray(ad);wc=qb||4;if(Fa.type!==mc||Fa.size!==wc||Fa.buffer!==xa||Fa.normalized!==Da||Fa.offset!==pb||Fa.stride!==Ya)W.bindBuffer(34962,xa.buffer),W.vertexAttribPointer(ad,wc,mc,Da,Ya,pb),Fa.type=mc,Fa.size=wc,Fa.buffer=xa,Fa.normalized=Da,Fa.offset=pb,Fa.stride=Ya;Fa.divisor!==dc&&(h.vertexAttribDivisorANGLE(ad,dc),Fa.divisor=dc)}else if(Fa.buffer&&(W.disableVertexAttribArray(ad),Fa.buffer=
null),Fa.x!==sc||Fa.y!==Ua||Fa.z!==Nb||Fa.w!==ed)W.vertexAttrib4f(ad,sc,Ua,Nb,ed),Fa.x=sc,Fa.y=Ua,Fa.z=Nb,Fa.w=ed;Oa=b.call(this,la,q,k);X.offset=Oa;Aa=!1;lb=null;tb=0;Ab=!1;tc=rb=0;ub=1;wd=0;rc=5126;fd=jd=Lc=Hd=0;ib(X)?(Aa=!0,lb=x.createStream(34962,X),rc=lb.dtype):(lb=x.getBuffer(X))?rc=lb.dtype:"constant"in X?(ub=2,"number"===typeof X.constant?(Lc=X.constant,jd=fd=Hd=0):(Lc=0<X.constant.length?X.constant[0]:0,jd=1<X.constant.length?X.constant[1]:0,fd=2<X.constant.length?X.constant[2]:0,Hd=3<X.constant.length?
X.constant[3]:0)):(lb=ib(X.buffer)?x.createStream(34962,X.buffer):x.getBuffer(X.buffer),rc="type"in X?jc[X.type]:lb.dtype,Ab=!!X.normalized,tc=X.size|0,rb=X.offset|0,wd=X.stride|0,tb=X.divisor|0);Vb=Za.location;ac=P[Vb];if(1===ub){ac.buffer||W.enableVertexAttribArray(Vb);Qb=tc||4;if(ac.type!==rc||ac.size!==Qb||ac.buffer!==lb||ac.normalized!==Ab||ac.offset!==rb||ac.stride!==wd)W.bindBuffer(34962,lb.buffer),W.vertexAttribPointer(Vb,Qb,rc,Ab,wd,rb),ac.type=rc,ac.size=Qb,ac.buffer=lb,ac.normalized=Ab,
ac.offset=rb,ac.stride=wd;ac.divisor!==tb&&(h.vertexAttribDivisorANGLE(Vb,tb),ac.divisor=tb)}else if(ac.buffer&&(W.disableVertexAttribArray(Vb),ac.buffer=null),ac.x!==Lc||ac.y!==jd||ac.z!==fd||ac.w!==Hd)W.vertexAttrib4f(Vb,Lc,jd,fd,Hd),ac.x=Lc,ac.y=jd,ac.z=fd,ac.w=Hd;Ga=e.call(this,la,q,k);Yb=Ga[0];vb=Ga[1];Rb=Ga[2];gc=Ga[3];k&&mb===Yb&&Ob===vb&&ec===Rb&&Rc===gc||(mb=Yb,Ob=vb,ec=Rb,Rc=gc,W.uniform4f($a.location,Yb,vb,Rb,gc));zc=q.lineWidth;k&&Ac===zc||(Ac=zc,W.uniform1f(Pa.location,zc));Cc=q.capSize;
k&&Mc===Cc||(Mc=Cc,W.uniform1f(na.location,Cc));bd=q.scale;Sc=bd[0];Lb=bd[1];k&&Nc===Sc&&Fb===Lb||(Nc=Sc,Fb=Lb,W.uniform2f(T.location,Sc,Lb));Oc=q.scaleFract;Gc=Oc[0];fc=Oc[1];k&&Tc===Gc&&Xc===fc||(Tc=Gc,Xc=fc,W.uniform2f(qa.location,Gc,fc));gd=q.translate;Vd=gd[0];Yc=gd[1];k&&ye===Vd&&Tf===Yc||(ye=Vd,Tf=Yc,W.uniform2f(O.location,Vd,Yc));ie=q.translateFract;ve=ie[0];be=ie[1];k&&te===ve&&Fd===be||(te=ve,Fd=be,W.uniform2f(Wb.location,ve,be));Dd=q.opacity;k&&id===Dd||(id=Dd,W.uniform1f(Y.location,Dd));
Dc=q.count;0<Dc?Db?h.drawElementsInstancedANGLE(4,36,Db.type,Va<<(Db.type-5121>>1),Dc):h.drawArraysInstancedANGLE(4,Va,36,Dc):0>Dc&&(Db?W.drawElements(4,36,Db.type,Va<<(Db.type-5121>>1)):W.drawArrays(4,Va,36));la.viewportWidth=Wa;la.viewportHeight=$c;La&&x.destroyStream(nb);Ta&&x.destroyStream(bb);hb&&x.destroyStream(xa);Aa&&x.destroyStream(lb)}ca.dirty=!0;nc.setVAO(null);g&&(V.cpuTime+=performance.now()-f)},draw:function(a){var b,e,d,g,f,h,k,m,q,p,y,L,J,H,E,Q,I,R,U,oa,G,Z,fa,N,pa,sa,pc,vc,Pc,Kc,
qc,ab,hc,Cb,uc,Sa,Hc,$b,Zc,cc,od,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb,kc,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc;b=Ha.next;b!==Ha.cur&&(b?W.bindFramebuffer(36160,b.framebuffer):W.bindFramebuffer(36160,null),Ha.cur=b);if(ca.dirty){var Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb;Da=ea.dither;Da!==ca.dither&&(Da?W.enable(3024):W.disable(3024),ca.dither=Da);
pb=ea.depth_func;pb!==ca.depth_func&&(W.depthFunc(pb),ca.depth_func=pb);qb=Jc[0];Xa=Jc[1];if(qb!==Bc[0]||Xa!==Bc[1])W.depthRange(qb,Xa),Bc[0]=qb,Bc[1]=Xa;Ya=ea.depth_mask;Ya!==ca.depth_mask&&(W.depthMask(Ya),ca.depth_mask=Ya);mc=Ba[0];ed=Ba[1];sc=Ba[2];Ua=Ba[3];if(mc!==Gb[0]||ed!==Gb[1]||sc!==Gb[2]||Ua!==Gb[3])W.colorMask(mc,ed,sc,Ua),Gb[0]=mc,Gb[1]=ed,Gb[2]=sc,Gb[3]=Ua;Nb=ea.cull_enable;Nb!==ca.cull_enable&&(Nb?W.enable(2884):W.disable(2884),ca.cull_enable=Nb);ad=ea.cull_face;ad!==ca.cull_face&&
(W.cullFace(ad),ca.cull_face=ad);Fa=ea.frontFace;Fa!==ca.frontFace&&(W.frontFace(Fa),ca.frontFace=Fa);wc=ea.lineWidth;wc!==ca.lineWidth&&(W.lineWidth(wc),ca.lineWidth=wc);Oa=ea.polygonOffset_enable;Oa!==ca.polygonOffset_enable&&(Oa?W.enable(32823):W.disable(32823),ca.polygonOffset_enable=Oa);Aa=C[0];lb=C[1];if(Aa!==v[0]||lb!==v[1])W.polygonOffset(Aa,lb),v[0]=Aa,v[1]=lb;tb=ea.sample_alpha;tb!==ca.sample_alpha&&(tb?W.enable(32926):W.disable(32926),ca.sample_alpha=tb);Ab=ea.sample_enable;Ab!==ca.sample_enable&&
(Ab?W.enable(32928):W.disable(32928),ca.sample_enable=Ab);rb=ia[0];tc=ia[1];if(rb!==ua[0]||tc!==ua[1])W.sampleCoverage(rb,tc),ua[0]=rb,ua[1]=tc;ub=ea.stencil_enable;ub!==ca.stencil_enable&&(ub?W.enable(2960):W.disable(2960),ca.stencil_enable=ub);wd=ea.stencil_mask;wd!==ca.stencil_mask&&(W.stencilMask(wd),ca.stencil_mask=wd);rc=ra[0];Hd=ra[1];Lc=ra[2];if(rc!==D[0]||Hd!==D[1]||Lc!==D[2])W.stencilFunc(rc,Hd,Lc),D[0]=rc,D[1]=Hd,D[2]=Lc;jd=S[0];fd=S[1];Vb=S[2];ac=S[3];if(jd!==ya[0]||fd!==ya[1]||Vb!==ya[2]||
ac!==ya[3])W.stencilOpSeparate(jd,fd,Vb,ac),ya[0]=jd,ya[1]=fd,ya[2]=Vb,ya[3]=ac;Qb=w[0];Ga=w[1];Yb=w[2];mb=w[3];if(Qb!==da[0]||Ga!==da[1]||Yb!==da[2]||mb!==da[3])W.stencilOpSeparate(Qb,Ga,Yb,mb),da[0]=Qb,da[1]=Ga,da[2]=Yb,da[3]=mb}e=a.viewport;d=e.x|0;g=e.y|0;f="width"in e?e.width|0:la.framebufferWidth-d;h="height"in e?e.height|0:la.framebufferHeight-g;k=la.viewportWidth;la.viewportWidth=f;m=la.viewportHeight;la.viewportHeight=h;W.viewport(d,g,f,h);l[0]=d;l[1]=g;l[2]=f;l[3]=h;W.blendColor(0,0,0,0);
td[0]=0;td[1]=0;td[2]=0;td[3]=0;W.enable(3042);ca.blend_enable=!0;W.blendEquationSeparate(32774,32774);aa[0]=32774;aa[1]=32774;W.blendFuncSeparate(770,771,773,1);ja[0]=770;ja[1]=771;ja[2]=773;ja[3]=1;W.disable(2929);ca.depth_enable=!1;q=a.viewport;p=q.x|0;y=q.y|0;L="width"in q?q.width|0:la.framebufferWidth-p;J="height"in q?q.height|0:la.framebufferHeight-y;W.scissor(p,y,L,J);ha[0]=p;ha[1]=y;ha[2]=L;ha[3]=J;W.enable(3089);ca.scissor_enable=!0;if(H=ca.profile)E=performance.now(),V.count++;W.useProgram(u.program);
Q=bc.angle_instanced_arrays;nc.setVAO(null);I=c.call(this,la,a,0);Ib.offset=I;R=!1;U=null;oa=0;G=!1;fa=Z=0;N=1;pa=0;sa=5126;Kc=Pc=vc=pc=0;ib(Ib)?(R=!0,U=x.createStream(34962,Ib),sa=U.dtype):(U=x.getBuffer(Ib))?sa=U.dtype:"constant"in Ib?(N=2,"number"===typeof Ib.constant?(vc=Ib.constant,Pc=Kc=pc=0):(vc=0<Ib.constant.length?Ib.constant[0]:0,Pc=1<Ib.constant.length?Ib.constant[1]:0,Kc=2<Ib.constant.length?Ib.constant[2]:0,pc=3<Ib.constant.length?Ib.constant[3]:0)):(U=ib(Ib.buffer)?x.createStream(34962,
Ib.buffer):x.getBuffer(Ib.buffer),sa="type"in Ib?jc[Ib.type]:U.dtype,G=!!Ib.normalized,fa=Ib.size|0,Z=Ib.offset|0,pa=Ib.stride|0,oa=Ib.divisor|0);qc=K.location;ab=P[qc];if(1===N){ab.buffer||W.enableVertexAttribArray(qc);hc=fa||2;if(ab.type!==sa||ab.size!==hc||ab.buffer!==U||ab.normalized!==G||ab.offset!==Z||ab.stride!==pa)W.bindBuffer(34962,U.buffer),W.vertexAttribPointer(qc,hc,sa,G,pa,Z),ab.type=sa,ab.size=hc,ab.buffer=U,ab.normalized=G,ab.offset=Z,ab.stride=pa;ab.divisor!==oa&&(Q.vertexAttribDivisorANGLE(qc,
oa),ab.divisor=oa)}else if(ab.buffer&&(W.disableVertexAttribArray(qc),ab.buffer=null),ab.x!==vc||ab.y!==Pc||ab.z!==Kc||ab.w!==pc)W.vertexAttrib4f(qc,vc,Pc,Kc,pc),ab.x=vc,ab.y=Pc,ab.z=Kc,ab.w=pc;Cb=r.call(this,la,a,0);wb.offset=Cb;uc=!1;Sa=null;Hc=0;$b=!1;cc=Zc=0;od=1;yc=0;Xb=5126;Db=Ka=Qc=Ec=0;ib(wb)?(uc=!0,Sa=x.createStream(34962,wb),Xb=Sa.dtype):(Sa=x.getBuffer(wb))?Xb=Sa.dtype:"constant"in wb?(od=2,"number"===typeof wb.constant?(Qc=wb.constant,Ka=Db=Ec=0):(Qc=0<wb.constant.length?wb.constant[0]:
0,Ka=1<wb.constant.length?wb.constant[1]:0,Db=2<wb.constant.length?wb.constant[2]:0,Ec=3<wb.constant.length?wb.constant[3]:0)):(Sa=ib(wb.buffer)?x.createStream(34962,wb.buffer):x.getBuffer(wb.buffer),Xb="type"in wb?jc[wb.type]:Sa.dtype,$b=!!wb.normalized,cc=wb.size|0,Zc=wb.offset|0,yc=wb.stride|0,Hc=wb.divisor|0);Va=M.location;Ca=P[Va];if(1===od){Ca.buffer||W.enableVertexAttribArray(Va);ud=cc||2;if(Ca.type!==Xb||Ca.size!==ud||Ca.buffer!==Sa||Ca.normalized!==$b||Ca.offset!==Zc||Ca.stride!==yc)W.bindBuffer(34962,
Sa.buffer),W.vertexAttribPointer(Va,ud,Xb,$b,yc,Zc),Ca.type=Xb,Ca.size=ud,Ca.buffer=Sa,Ca.normalized=$b,Ca.offset=Zc,Ca.stride=yc;Ca.divisor!==Hc&&(Q.vertexAttribDivisorANGLE(Va,Hc),Ca.divisor=Hc)}else if(Ca.buffer&&(W.disableVertexAttribArray(Va),Ca.buffer=null),Ca.x!==Qc||Ca.y!==Ka||Ca.z!==Db||Ca.w!==Ec)W.vertexAttrib4f(Va,Qc,Ka,Db,Ec),Ca.x=Qc,Ca.y=Ka,Ca.z=Db,Ca.w=Ec;fb=z.call(this,la,a,0);n.offset=fb;Ra=!1;Hb=null;Wa=0;$c=!1;kc=Sb=0;Zb=1;Tb=0;ld=5126;sb=nb=La=Eb=0;ib(n)?(Ra=!0,Hb=x.createStream(34962,
n),ld=Hb.dtype):(Hb=x.getBuffer(n))?ld=Hb.dtype:"constant"in n?(Zb=2,"number"===typeof n.constant?(La=n.constant,nb=sb=Eb=0):(La=0<n.constant.length?n.constant[0]:0,nb=1<n.constant.length?n.constant[1]:0,sb=2<n.constant.length?n.constant[2]:0,Eb=3<n.constant.length?n.constant[3]:0)):(Hb=ib(n.buffer)?x.createStream(34962,n.buffer):x.getBuffer(n.buffer),ld="type"in n?jc[n.type]:Hb.dtype,$c=!!n.normalized,kc=n.size|0,Sb=n.offset|0,Tb=n.stride|0,Wa=n.divisor|0);gb=Bb.location;Na=P[gb];if(1===Zb){Na.buffer||
W.enableVertexAttribArray(gb);oc=kc||4;if(Na.type!==ld||Na.size!==oc||Na.buffer!==Hb||Na.normalized!==$c||Na.offset!==Sb||Na.stride!==Tb)W.bindBuffer(34962,Hb.buffer),W.vertexAttribPointer(gb,oc,ld,$c,Tb,Sb),Na.type=ld,Na.size=oc,Na.buffer=Hb,Na.normalized=$c,Na.offset=Sb,Na.stride=Tb;Na.divisor!==Wa&&(Q.vertexAttribDivisorANGLE(gb,Wa),Na.divisor=Wa)}else if(Na.buffer&&(W.disableVertexAttribArray(gb),Na.buffer=null),Na.x!==La||Na.y!==nb||Na.z!==sb||Na.w!==Eb)W.vertexAttrib4f(gb,La,nb,sb,Eb),Na.x=
La,Na.y=nb,Na.z=sb,Na.w=Eb;Jb=ka.call(this,la,a,0);X.offset=Jb;Vc=!1;cb=null;lc=0;Fc=!1;jb=ic=0;kb=1;ta=0;ob=5126;za=bb=Ta=va=0;ib(X)?(Vc=!0,cb=x.createStream(34962,X),ob=cb.dtype):(cb=x.getBuffer(X))?ob=cb.dtype:"constant"in X?(kb=2,"number"===typeof X.constant?(Ta=X.constant,bb=za=va=0):(Ta=0<X.constant.length?X.constant[0]:0,bb=1<X.constant.length?X.constant[1]:0,za=2<X.constant.length?X.constant[2]:0,va=3<X.constant.length?X.constant[3]:0)):(cb=ib(X.buffer)?x.createStream(34962,X.buffer):x.getBuffer(X.buffer),
ob="type"in X?jc[X.type]:cb.dtype,Fc=!!X.normalized,jb=X.size|0,ic=X.offset|0,ta=X.stride|0,lc=X.divisor|0);db=Za.location;Ia=P[db];if(1===kb){Ia.buffer||W.enableVertexAttribArray(db);zb=jb||4;if(Ia.type!==ob||Ia.size!==zb||Ia.buffer!==cb||Ia.normalized!==Fc||Ia.offset!==ic||Ia.stride!==ta)W.bindBuffer(34962,cb.buffer),W.vertexAttribPointer(db,zb,ob,Fc,ta,ic),Ia.type=ob,Ia.size=zb,Ia.buffer=cb,Ia.normalized=Fc,Ia.offset=ic,Ia.stride=ta;Ia.divisor!==lc&&(Q.vertexAttribDivisorANGLE(db,lc),Ia.divisor=
lc)}else if(Ia.buffer&&(W.disableVertexAttribArray(db),Ia.buffer=null),Ia.x!==Ta||Ia.y!==bb||Ia.z!==za||Ia.w!==va)W.vertexAttrib4f(db,Ta,bb,za,va),Ia.x=Ta,Ia.y=bb,Ia.z=za,Ia.w=va;xb=yb.location;Qa=P[xb];Qa.buffer||W.enableVertexAttribArray(xb);if(5126!==Qa.type||2!==Qa.size||Qa.buffer!==F||!1!==Qa.normalized||0!==Qa.offset||24!==Qa.stride)W.bindBuffer(34962,F.buffer),W.vertexAttribPointer(xb,2,5126,!1,24,0),Qa.type=5126,Qa.size=2,Qa.buffer=F,Qa.normalized=!1,Qa.offset=0,Qa.stride=24;0!==Qa.divisor&&
(Q.vertexAttribDivisorANGLE(xb,0),Qa.divisor=0);Ic=ma.location;Kb=P[Ic];Kb.buffer||W.enableVertexAttribArray(Ic);if(5126!==Kb.type||2!==Kb.size||Kb.buffer!==B||!1!==Kb.normalized||8!==Kb.offset||24!==Kb.stride)W.bindBuffer(34962,B.buffer),W.vertexAttribPointer(Ic,2,5126,!1,24,8),Kb.type=5126,Kb.size=2,Kb.buffer=B,Kb.normalized=!1,Kb.offset=8,Kb.stride=24;0!==Kb.divisor&&(Q.vertexAttribDivisorANGLE(Ic,0),Kb.divisor=0);Mb=ba.location;Ub=P[Mb];Ub.buffer||W.enableVertexAttribArray(Mb);if(5126!==Ub.type||
2!==Ub.size||Ub.buffer!==t||!1!==Ub.normalized||16!==Ub.offset||24!==Ub.stride)W.bindBuffer(34962,t.buffer),W.vertexAttribPointer(Mb,2,5126,!1,24,16),Ub.type=5126,Ub.size=2,Ub.buffer=t,Ub.normalized=!1,Ub.offset=16,Ub.stride=24;0!==Ub.divisor&&(Q.vertexAttribDivisorANGLE(Mb,0),Ub.divisor=0);wa=A.call(this,la,a,0);W.uniform4f($a.location,wa[0],wa[1],wa[2],wa[3]);W.uniform1f(Pa.location,a.lineWidth);W.uniform1f(na.location,a.capSize);Ud=a.scale;W.uniform2f(T.location,Ud[0],Ud[1]);Ja=a.scaleFract;W.uniform2f(qa.location,
Ja[0],Ja[1]);Pb=a.translate;W.uniform2f(O.location,Pb[0],Pb[1]);eb=a.translateFract;W.uniform2f(Wb.location,eb[0],eb[1]);W.uniform1f(Y.location,a.opacity);(hb=Ea.elements)?W.bindBuffer(34963,hb.buffer.buffer):nc.currentVAO&&(hb=Ma.getElements(nc.currentVAO.elements))&&W.bindBuffer(34963,hb.buffer.buffer);xa=Ea.offset;dc=a.count;0<dc?hb?Q.drawElementsInstancedANGLE(4,36,hb.type,xa<<(hb.type-5121>>1),dc):Q.drawArraysInstancedANGLE(4,xa,36,dc):0>dc&&(hb?W.drawElements(4,36,hb.type,xa<<(hb.type-5121>>
1)):W.drawArrays(4,xa,36));ca.dirty=!0;nc.setVAO(null);la.viewportWidth=k;la.viewportHeight=m;H&&(V.cpuTime+=performance.now()-E);R&&x.destroyStream(U);uc&&x.destroyStream(Sa);Ra&&x.destroyStream(Hb);Vc&&x.destroyStream(cb)},scope:function(a,b,c){var e,d,f,l,m,p,w,u,v,r,D,C,da,J,aa,H,A,M,S,K,O,z,T,P,W,ha,ja,Y,ia,ba,ka,ya,ua,nc,fa,ra,pa,Ba,ga,qa,Xb,Ec,Qc,Ka,Db,Va,Ca,td,fb,Ra,ma,Wa,na,Gb,Jc,Zb,Tb,$a,Eb,La,nb,sb,gb,Na,Pa,Jb,Ma,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Wb,Ja,Pb,
eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,Ha,rc,Bc,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,yb,ye,Yc,bc,Bb,Za,te,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,Xe,ze,xe,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,Jd,Ld,Md,he,Fe,we,me,Ye,Oe,Le,qe,Ce,Ge,He,Ie,De,Gd;e=a.viewport;d=e.x|0;f=e.y|0;l="width"in e?e.width|0:la.framebufferWidth-d;m="height"in e?e.height|0:la.framebufferHeight-f;p=la.viewportWidth;la.viewportWidth=l;w=la.viewportHeight;
la.viewportHeight=m;u=oa[0];oa[0]=d;v=oa[1];oa[1]=f;r=oa[2];oa[2]=l;D=oa[3];oa[3]=m;C=kc[0];kc[0]=0;da=kc[1];kc[1]=0;J=kc[2];kc[2]=0;aa=kc[3];kc[3]=0;H=ea.blend_enable;ea.blend_enable=!0;A=vc[0];vc[0]=32774;M=vc[1];vc[1]=32774;S=L[0];L[0]=770;K=L[1];L[1]=771;O=L[2];L[2]=773;z=L[3];L[3]=1;T=ea.depth_enable;ea.depth_enable=!1;P=a.viewport;W=P.x|0;ha=P.y|0;ja="width"in P?P.width|0:la.framebufferWidth-W;Y="height"in P?P.height|0:la.framebufferHeight-ha;ia=U[0];U[0]=W;ba=U[1];U[1]=ha;ka=U[2];U[2]=ja;ya=
U[3];U[3]=Y;ua=ea.scissor_enable;ea.scissor_enable=!0;if(nc=ca.profile)fa=performance.now(),V.count++;ra=Ea.count;Ea.count=36;pa=a.count;Ba=Ea.instances;Ea.instances=pa;ga=Ea.primitive;Ea.primitive=4;qa=a.capSize;Xb=cc[5];cc[5]=qa;Ec=a.lineWidth;Qc=cc[4];cc[4]=Ec;Ka=a.opacity;Db=cc[10];cc[10]=Ka;Va=a.range;Ca=cc[18];cc[18]=Va;td=a.scale;fb=cc[6];cc[6]=td;Ra=a.scaleFract;ma=cc[7];cc[7]=Ra;Wa=a.translate;na=cc[8];cc[8]=Wa;Gb=a.translateFract;Jc=cc[9];cc[9]=Gb;Zb=I.call(this,la,a,c);Tb=cc[3];cc[3]=Zb;
$a=y.buffer;y.buffer=t;Eb=y.divisor;y.divisor=0;La=y.normalized;y.normalized=!1;nb=y.offset;y.offset=16;sb=y.size;y.size=0;gb=y.state;y.state=1;Na=y.stride;y.stride=24;Pa=y.type;y.type=5126;Jb=y.w;y.w=0;Ma=y.x;y.x=0;cb=y.y;y.y=0;lc=y.z;y.z=0;Fc=E.call(this,la,a,c);X.offset=Fc;ic=!1;jb=null;kb=0;ta=!1;va=ob=0;Ta=1;bb=0;za=5126;xb=zb=Ia=db=0;ib(X)?(ic=!0,jb=x.createStream(34962,X),za=jb.dtype):(jb=x.getBuffer(X))?za=jb.dtype:"constant"in X?(Ta=2,"number"===typeof X.constant?(Ia=X.constant,zb=xb=db=
0):(Ia=0<X.constant.length?X.constant[0]:0,zb=1<X.constant.length?X.constant[1]:0,xb=2<X.constant.length?X.constant[2]:0,db=3<X.constant.length?X.constant[3]:0)):(jb=ib(X.buffer)?x.createStream(34962,X.buffer):x.getBuffer(X.buffer),za="type"in X?jc[X.type]:jb.dtype,ta=!!X.normalized,va=X.size|0,ob=X.offset|0,bb=X.stride|0,kb=X.divisor|0);Qa=Z.buffer;Z.buffer=jb;Ic=Z.divisor;Z.divisor=kb;Kb=Z.normalized;Z.normalized=ta;Mb=Z.offset;Z.offset=ob;Ub=Z.size;Z.size=va;wa=Z.state;Z.state=Ta;Wb=Z.stride;Z.stride=
bb;Ja=Z.type;Z.type=za;Pb=Z.w;Z.w=db;eb=Z.x;Z.x=Ia;hb=Z.y;Z.y=zb;xa=Z.z;Z.z=xb;dc=G.buffer;G.buffer=F;Da=G.divisor;G.divisor=0;pb=G.normalized;G.normalized=!1;qb=G.offset;G.offset=0;Xa=G.size;G.size=0;Ya=G.state;G.state=1;mc=G.stride;G.stride=24;ed=G.type;G.type=5126;sc=G.w;G.w=0;Ua=G.x;G.x=0;Nb=G.y;G.y=0;ad=G.z;G.z=0;Fa=N.call(this,la,a,c);n.offset=Fa;wc=!1;Oa=null;Aa=0;lb=!1;Ab=tb=0;rb=1;tc=0;ub=5126;Lc=Bc=rc=Ha=0;ib(n)?(wc=!0,Oa=x.createStream(34962,n),ub=Oa.dtype):(Oa=x.getBuffer(n))?ub=Oa.dtype:
"constant"in n?(rb=2,"number"===typeof n.constant?(rc=n.constant,Bc=Lc=Ha=0):(rc=0<n.constant.length?n.constant[0]:0,Bc=1<n.constant.length?n.constant[1]:0,Lc=2<n.constant.length?n.constant[2]:0,Ha=3<n.constant.length?n.constant[3]:0)):(Oa=ib(n.buffer)?x.createStream(34962,n.buffer):x.getBuffer(n.buffer),ub="type"in n?jc[n.type]:Oa.dtype,lb=!!n.normalized,Ab=n.size|0,tb=n.offset|0,tc=n.stride|0,Aa=n.divisor|0);jd=k.buffer;k.buffer=Oa;fd=k.divisor;k.divisor=Aa;Vb=k.normalized;k.normalized=lb;ac=k.offset;
k.offset=tb;Qb=k.size;k.size=Ab;Ga=k.state;k.state=rb;Yb=k.stride;k.stride=tc;mb=k.type;k.type=ub;vb=k.w;k.w=Ha;Ob=k.x;k.x=rc;Rb=k.y;k.y=Bc;ec=k.z;k.z=Lc;gc=h.buffer;h.buffer=B;Rc=h.divisor;h.divisor=0;zc=h.normalized;h.normalized=!1;Ac=h.offset;h.offset=8;Cc=h.size;h.size=0;Mc=h.state;h.state=1;bd=h.stride;h.stride=24;Sc=h.type;h.type=5126;Nc=h.w;h.w=0;Lb=h.x;h.x=0;Fb=h.y;h.y=0;Oc=h.z;h.z=0;Gc=g.call(this,la,a,c);Ib.offset=Gc;Tc=!1;fc=null;Xc=0;gd=!1;ye=yb=0;Yc=1;bc=0;Bb=5126;Fd=be=te=Za=0;ib(Ib)?
(Tc=!0,fc=x.createStream(34962,Ib),Bb=fc.dtype):(fc=x.getBuffer(Ib))?Bb=fc.dtype:"constant"in Ib?(Yc=2,"number"===typeof Ib.constant?(te=Ib.constant,be=Fd=Za=0):(te=0<Ib.constant.length?Ib.constant[0]:0,be=1<Ib.constant.length?Ib.constant[1]:0,Fd=2<Ib.constant.length?Ib.constant[2]:0,Za=3<Ib.constant.length?Ib.constant[3]:0)):(fc=ib(Ib.buffer)?x.createStream(34962,Ib.buffer):x.getBuffer(Ib.buffer),Bb="type"in Ib?jc[Ib.type]:fc.dtype,gd=!!Ib.normalized,ye=Ib.size|0,yb=Ib.offset|0,bc=Ib.stride|0,Xc=
Ib.divisor|0);Dd=q.buffer;q.buffer=fc;id=q.divisor;q.divisor=Xc;Dc=q.normalized;q.normalized=gd;pd=q.offset;q.offset=yb;kd=q.size;q.size=ye;dd=q.state;q.state=Yc;md=q.stride;q.stride=bc;Ad=q.type;q.type=Bb;Bd=q.w;q.w=Za;Xe=q.x;q.x=te;ze=q.y;q.y=be;xe=q.z;q.z=Fd;de=Q.call(this,la,a,c);wb.offset=de;ce=!1;$d=null;oe=0;Yd=!1;xc=ge=0;Wc=1;pe=0;je=5126;Md=Ld=Jd=Ed=0;ib(wb)?(ce=!0,$d=x.createStream(34962,wb),je=$d.dtype):($d=x.getBuffer(wb))?je=$d.dtype:"constant"in wb?(Wc=2,"number"===typeof wb.constant?
(Jd=wb.constant,Ld=Md=Ed=0):(Jd=0<wb.constant.length?wb.constant[0]:0,Ld=1<wb.constant.length?wb.constant[1]:0,Md=2<wb.constant.length?wb.constant[2]:0,Ed=3<wb.constant.length?wb.constant[3]:0)):($d=ib(wb.buffer)?x.createStream(34962,wb.buffer):x.getBuffer(wb.buffer),je="type"in wb?jc[wb.type]:$d.dtype,Yd=!!wb.normalized,xc=wb.size|0,ge=wb.offset|0,pe=wb.stride|0,oe=wb.divisor|0);he=R.buffer;R.buffer=$d;Fe=R.divisor;R.divisor=oe;we=R.normalized;R.normalized=Yd;me=R.offset;R.offset=ge;Ye=R.size;R.size=
xc;Oe=R.state;R.state=Wc;Le=R.stride;R.stride=pe;qe=R.type;R.type=je;Ce=R.w;R.w=Ed;Ge=R.x;R.x=Jd;He=R.y;R.y=Ld;Ie=R.z;R.z=Md;De=sa.vert;sa.vert=2;Gd=sa.frag;sa.frag=1;ca.dirty=!0;b(la,a,c);la.viewportWidth=p;la.viewportHeight=w;oa[0]=u;oa[1]=v;oa[2]=r;oa[3]=D;kc[0]=C;kc[1]=da;kc[2]=J;kc[3]=aa;ea.blend_enable=H;vc[0]=A;vc[1]=M;L[0]=S;L[1]=K;L[2]=O;L[3]=z;ea.depth_enable=T;U[0]=ia;U[1]=ba;U[2]=ka;U[3]=ya;ea.scissor_enable=ua;nc&&(V.cpuTime+=performance.now()-fa);Ea.count=ra;Ea.instances=Ba;Ea.primitive=
ga;cc[5]=Xb;cc[4]=Qc;cc[10]=Db;cc[18]=Ca;cc[6]=fb;cc[7]=ma;cc[8]=na;cc[9]=Jc;cc[3]=Tb;y.buffer=$a;y.divisor=Eb;y.normalized=La;y.offset=nb;y.size=sb;y.state=gb;y.stride=Na;y.type=Pa;y.w=Jb;y.x=Ma;y.y=cb;y.z=lc;ic&&x.destroyStream(jb);Z.buffer=Qa;Z.divisor=Ic;Z.normalized=Kb;Z.offset=Mb;Z.size=Ub;Z.state=wa;Z.stride=Wb;Z.type=Ja;Z.w=Pb;Z.x=eb;Z.y=hb;Z.z=xa;G.buffer=dc;G.divisor=Da;G.normalized=pb;G.offset=qb;G.size=Xa;G.state=Ya;G.stride=mc;G.type=ed;G.w=sc;G.x=Ua;G.y=Nb;G.z=ad;wc&&x.destroyStream(Oa);
k.buffer=jd;k.divisor=fd;k.normalized=Vb;k.offset=ac;k.size=Qb;k.state=Ga;k.stride=Yb;k.type=mb;k.w=vb;k.x=Ob;k.y=Rb;k.z=ec;h.buffer=gc;h.divisor=Rc;h.normalized=zc;h.offset=Ac;h.size=Cc;h.state=Mc;h.stride=bd;h.type=Sc;h.w=Nc;h.x=Lb;h.y=Fb;h.z=Oc;Tc&&x.destroyStream(fc);q.buffer=Dd;q.divisor=id;q.normalized=Dc;q.offset=pd;q.size=kd;q.state=dd;q.stride=md;q.type=Ad;q.w=Bd;q.x=Xe;q.y=ze;q.z=xe;ce&&x.destroyStream($d);R.buffer=he;R.divisor=Fe;R.normalized=we;R.offset=me;R.size=Ye;R.state=Oe;R.stride=
Le;R.type=qe;R.w=Ce;R.x=Ge;R.y=He;R.z=Ie;sa.vert=De;sa.frag=Gd;ca.dirty=!0}}},"$19,aCoord,aCoordFract,bCoord,bCoordFract,color,dashLength,dashTexture,depth,lineEnd,lineTop,opacity,scale,scaleFract,thickness,translate,translateFract,viewport":function(d,V,p,H,f,a,u,c,r,z,ka,F,B,t,A,I,y,E,Z,G,N,k,h,g,q,Q,R,m,pa,J,fa,b,e,ba,na,Za,yb){var Bb,ma,Pa,Y,K,M,T,qa,O,Wb,$a,P,x,la,ca,Ea,Ma,bc,Ha,W,ib,ea,sa,cc,nc,kc,td,vc,aa,L,ja,Ba,Gb,Jc,Bc,C,v,ia,ua,U,ha,ra,D,w;Bb=d.attributes;ma=d.buffer;Pa=d.context;Y=d.current;
K=d.draw;M=d.elements;T=d.extensions;qa=d.framebuffer;O=d.gl;Wb=d.isBufferArgs;$a=d.next;P=d.shader;x=d.uniforms;la=d.vao;ca=$a.blend_color;Ea=Y.blend_color;Ma=$a.blend_equation;bc=Y.blend_equation;Ha=$a.blend_func;W=Y.blend_func;ib=$a.colorMask;ea=Y.colorMask;sa=$a.depth_range;cc=Y.depth_range;nc=$a.polygonOffset_offset;kc=Y.polygonOffset_offset;td=$a.sample_coverage;vc=Y.sample_coverage;aa=$a.scissor_box;L=Y.scissor_box;ja=$a.stencil_func;Ba=Y.stencil_func;Gb=$a.stencil_opBack;Jc=Y.stencil_opBack;
Bc=$a.stencil_opFront;C=Y.stencil_opFront;v=$a.viewport;ia=Y.viewport;ua={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};U={divisor:1,offset:8,stride:8};ha={divisor:1,offset:8,stride:8};ra={divisor:1,offset:16,stride:8};D={divisor:1,offset:16,stride:8};w={divisor:1,offset:0,stride:4};return{batch:function(c,d){var p,u,l,v,x,n;p=qa.next;p!==qa.cur&&(p?O.bindFramebuffer(36160,p.framebuffer):O.bindFramebuffer(36160,null),qa.cur=p);if(Y.dirty){var t,y,r,
aa,H,A,B,F,I,P,z,ka,ca,ga,Kd,Ze,Ma,bf,yd,Ee,Rd,Sd,le,ne,rd,nd,vd,qd,hd,Uc,xd,Pc;t=$a.dither;t!==Y.dither&&(t?O.enable(3024):O.disable(3024),Y.dither=t);y=$a.depth_func;y!==Y.depth_func&&(O.depthFunc(y),Y.depth_func=y);r=sa[0];aa=sa[1];if(r!==cc[0]||aa!==cc[1])O.depthRange(r,aa),cc[0]=r,cc[1]=aa;H=$a.depth_mask;H!==Y.depth_mask&&(O.depthMask(H),Y.depth_mask=H);A=ib[0];B=ib[1];F=ib[2];I=ib[3];if(A!==ea[0]||B!==ea[1]||F!==ea[2]||I!==ea[3])O.colorMask(A,B,F,I),ea[0]=A,ea[1]=B,ea[2]=F,ea[3]=I;P=$a.cull_enable;
P!==Y.cull_enable&&(P?O.enable(2884):O.disable(2884),Y.cull_enable=P);z=$a.cull_face;z!==Y.cull_face&&(O.cullFace(z),Y.cull_face=z);ka=$a.frontFace;ka!==Y.frontFace&&(O.frontFace(ka),Y.frontFace=ka);ca=$a.lineWidth;ca!==Y.lineWidth&&(O.lineWidth(ca),Y.lineWidth=ca);ga=$a.polygonOffset_enable;ga!==Y.polygonOffset_enable&&(ga?O.enable(32823):O.disable(32823),Y.polygonOffset_enable=ga);Kd=nc[0];Ze=nc[1];if(Kd!==kc[0]||Ze!==kc[1])O.polygonOffset(Kd,Ze),kc[0]=Kd,kc[1]=Ze;Ma=$a.sample_alpha;Ma!==Y.sample_alpha&&
(Ma?O.enable(32926):O.disable(32926),Y.sample_alpha=Ma);bf=$a.sample_enable;bf!==Y.sample_enable&&(bf?O.enable(32928):O.disable(32928),Y.sample_enable=bf);yd=td[0];Ee=td[1];if(yd!==vc[0]||Ee!==vc[1])O.sampleCoverage(yd,Ee),vc[0]=yd,vc[1]=Ee;Rd=$a.stencil_mask;Rd!==Y.stencil_mask&&(O.stencilMask(Rd),Y.stencil_mask=Rd);Sd=ja[0];le=ja[1];ne=ja[2];if(Sd!==Ba[0]||le!==Ba[1]||ne!==Ba[2])O.stencilFunc(Sd,le,ne),Ba[0]=Sd,Ba[1]=le,Ba[2]=ne;rd=Bc[0];nd=Bc[1];vd=Bc[2];qd=Bc[3];if(rd!==C[0]||nd!==C[1]||vd!==
C[2]||qd!==C[3])O.stencilOpSeparate(rd,nd,vd,qd),C[0]=rd,C[1]=nd,C[2]=vd,C[3]=qd;hd=Gb[0];Uc=Gb[1];xd=Gb[2];Pc=Gb[3];if(hd!==Jc[0]||Uc!==Jc[1]||xd!==Jc[2]||Pc!==Jc[3])O.stencilOpSeparate(hd,Uc,xd,Pc),Jc[0]=hd,Jc[1]=Uc,Jc[2]=xd,Jc[3]=Pc}O.blendColor(0,0,0,0);Ea[0]=0;Ea[1]=0;Ea[2]=0;Ea[3]=0;O.enable(3042);Y.blend_enable=!0;O.blendEquationSeparate(32774,32774);bc[0]=32774;bc[1]=32774;O.blendFuncSeparate(770,771,773,1);W[0]=770;W[1]=771;W[2]=773;W[3]=1;O.enable(3089);Y.scissor_enable=!0;O.disable(2960);
Y.stencil_enable=!1;if(u=Y.profile)l=performance.now(),V.count+=d;O.useProgram(E.program);v=T.angle_instanced_arrays;var Kc,qc,ab,hc,Cb;la.setVAO(null);Kc=pa.location;qc=Bb[Kc];qc.buffer||O.enableVertexAttribArray(Kc);if(5126!==qc.type||1!==qc.size||qc.buffer!==f||!1!==qc.normalized||0!==qc.offset||8!==qc.stride)O.bindBuffer(34962,f.buffer),O.vertexAttribPointer(Kc,1,5126,!1,8,0),qc.type=5126,qc.size=1,qc.buffer=f,qc.normalized=!1,qc.offset=0,qc.stride=8;0!==qc.divisor&&(v.vertexAttribDivisorANGLE(Kc,
0),qc.divisor=0);ab=J.location;hc=Bb[ab];hc.buffer||O.enableVertexAttribArray(ab);if(5126!==hc.type||1!==hc.size||hc.buffer!==a||!1!==hc.normalized||4!==hc.offset||8!==hc.stride)O.bindBuffer(34962,a.buffer),O.vertexAttribPointer(ab,1,5126,!1,8,4),hc.type=5126,hc.size=1,hc.buffer=a,hc.normalized=!1,hc.offset=4,hc.stride=8;0!==hc.divisor&&(v.vertexAttribDivisorANGLE(ab,0),hc.divisor=0);(Cb=K.elements)?O.bindBuffer(34963,Cb.buffer.buffer):la.currentVAO&&(Cb=M.getElements(la.currentVAO.elements))&&O.bindBuffer(34963,
Cb.buffer.buffer);for(x=0;x<d;++x){n=c[x];var uc,Sa,Hc,$b,Zc,Cd,od,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb,Ha,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,Vd,ye,Yc,Tf,ie,ve,te,be,Fd,Dd,id,Dc,pd,kd,dd;uc=n.viewport;Sa=uc.x|0;Hc=uc.y|0;$b="width"in uc?uc.width|
0:Pa.framebufferWidth-Sa;Zc="height"in uc?uc.height|0:Pa.framebufferHeight-Hc;Cd=Pa.viewportWidth;Pa.viewportWidth=$b;od=Pa.viewportHeight;Pa.viewportHeight=Zc;O.viewport(Sa,Hc,$b,Zc);ia[0]=Sa;ia[1]=Hc;ia[2]=$b;ia[3]=Zc;(yc=Z.call(this,Pa,n,x))?O.enable(2929):O.disable(2929);Y.depth_enable=yc;Xb=n.viewport;Ec=Xb.x|0;Qc=Xb.y|0;Ka="width"in Xb?Xb.width|0:Pa.framebufferWidth-Ec;Db="height"in Xb?Xb.height|0:Pa.framebufferHeight-Qc;O.scissor(Ec,Qc,Ka,Db);L[0]=Ec;L[1]=Qc;L[2]=Ka;L[3]=Db;U.buffer=n.positionBuffer;
Va=!1;Ca=null;ud=0;fb=!1;Hb=Ra=0;Wa=1;$c=0;Sb=5126;ld=Tb=Zb=Ha=0;Wb(U)?(Va=!0,Ca=ma.createStream(34962,U),Sb=Ca.dtype):(Ca=ma.getBuffer(U))?Sb=Ca.dtype:"constant"in U?(Wa=2,"number"===typeof U.constant?(Zb=U.constant,Tb=ld=Ha=0):(Zb=0<U.constant.length?U.constant[0]:0,Tb=1<U.constant.length?U.constant[1]:0,ld=2<U.constant.length?U.constant[2]:0,Ha=3<U.constant.length?U.constant[3]:0)):(Ca=Wb(U.buffer)?ma.createStream(34962,U.buffer):ma.getBuffer(U.buffer),Sb="type"in U?ua[U.type]:Ca.dtype,fb=!!U.normalized,
Hb=U.size|0,Ra=U.offset|0,$c=U.stride|0,ud=U.divisor|0);Eb=N.location;La=Bb[Eb];if(1===Wa){La.buffer||O.enableVertexAttribArray(Eb);nb=Hb||2;if(La.type!==Sb||La.size!==nb||La.buffer!==Ca||La.normalized!==fb||La.offset!==Ra||La.stride!==$c)O.bindBuffer(34962,Ca.buffer),O.vertexAttribPointer(Eb,nb,Sb,fb,$c,Ra),La.type=Sb,La.size=nb,La.buffer=Ca,La.normalized=fb,La.offset=Ra,La.stride=$c;La.divisor!==ud&&(v.vertexAttribDivisorANGLE(Eb,ud),La.divisor=ud)}else if(La.buffer&&(O.disableVertexAttribArray(Eb),
La.buffer=null),La.x!==Zb||La.y!==Tb||La.z!==ld||La.w!==Ha)O.vertexAttrib4f(Eb,Zb,Tb,ld,Ha),La.x=Zb,La.y=Tb,La.z=ld,La.w=Ha;ra.buffer=n.positionBuffer;sb=!1;gb=null;Na=0;oc=!1;Vc=Jb=0;cb=1;lc=0;Fc=5126;ta=kb=jb=ic=0;Wb(ra)?(sb=!0,gb=ma.createStream(34962,ra),Fc=gb.dtype):(gb=ma.getBuffer(ra))?Fc=gb.dtype:"constant"in ra?(cb=2,"number"===typeof ra.constant?(jb=ra.constant,kb=ta=ic=0):(jb=0<ra.constant.length?ra.constant[0]:0,kb=1<ra.constant.length?ra.constant[1]:0,ta=2<ra.constant.length?ra.constant[2]:
0,ic=3<ra.constant.length?ra.constant[3]:0)):(gb=Wb(ra.buffer)?ma.createStream(34962,ra.buffer):ma.getBuffer(ra.buffer),Fc="type"in ra?ua[ra.type]:gb.dtype,oc=!!ra.normalized,Vc=ra.size|0,Jb=ra.offset|0,lc=ra.stride|0,Na=ra.divisor|0);ob=h.location;va=Bb[ob];if(1===cb){va.buffer||O.enableVertexAttribArray(ob);Ta=Vc||2;if(va.type!==Fc||va.size!==Ta||va.buffer!==gb||va.normalized!==oc||va.offset!==Jb||va.stride!==lc)O.bindBuffer(34962,gb.buffer),O.vertexAttribPointer(ob,Ta,Fc,oc,lc,Jb),va.type=Fc,va.size=
Ta,va.buffer=gb,va.normalized=oc,va.offset=Jb,va.stride=lc;va.divisor!==Na&&(v.vertexAttribDivisorANGLE(ob,Na),va.divisor=Na)}else if(va.buffer&&(O.disableVertexAttribArray(ob),va.buffer=null),va.x!==jb||va.y!==kb||va.z!==ta||va.w!==ic)O.vertexAttrib4f(ob,jb,kb,ta,ic),va.x=jb,va.y=kb,va.z=ta,va.w=ic;ha.buffer=n.positionFractBuffer;bb=!1;za=null;db=0;Ia=!1;xb=zb=0;Qa=1;Ic=0;Kb=5126;Ud=wa=Ub=Mb=0;Wb(ha)?(bb=!0,za=ma.createStream(34962,ha),Kb=za.dtype):(za=ma.getBuffer(ha))?Kb=za.dtype:"constant"in ha?
(Qa=2,"number"===typeof ha.constant?(Ub=ha.constant,wa=Ud=Mb=0):(Ub=0<ha.constant.length?ha.constant[0]:0,wa=1<ha.constant.length?ha.constant[1]:0,Ud=2<ha.constant.length?ha.constant[2]:0,Mb=3<ha.constant.length?ha.constant[3]:0)):(za=Wb(ha.buffer)?ma.createStream(34962,ha.buffer):ma.getBuffer(ha.buffer),Kb="type"in ha?ua[ha.type]:za.dtype,Ia=!!ha.normalized,xb=ha.size|0,zb=ha.offset|0,Ic=ha.stride|0,db=ha.divisor|0);Ja=k.location;Pb=Bb[Ja];if(1===Qa){Pb.buffer||O.enableVertexAttribArray(Ja);eb=xb||
2;if(Pb.type!==Kb||Pb.size!==eb||Pb.buffer!==za||Pb.normalized!==Ia||Pb.offset!==zb||Pb.stride!==Ic)O.bindBuffer(34962,za.buffer),O.vertexAttribPointer(Ja,eb,Kb,Ia,Ic,zb),Pb.type=Kb,Pb.size=eb,Pb.buffer=za,Pb.normalized=Ia,Pb.offset=zb,Pb.stride=Ic;Pb.divisor!==db&&(v.vertexAttribDivisorANGLE(Ja,db),Pb.divisor=db)}else if(Pb.buffer&&(O.disableVertexAttribArray(Ja),Pb.buffer=null),Pb.x!==Ub||Pb.y!==wa||Pb.z!==Ud||Pb.w!==Mb)O.vertexAttrib4f(Ja,Ub,wa,Ud,Mb),Pb.x=Ub,Pb.y=wa,Pb.z=Ud,Pb.w=Mb;D.buffer=n.positionFractBuffer;
hb=!1;xa=null;dc=0;Da=!1;qb=pb=0;Xa=1;Ya=0;mc=5126;Nb=Ua=sc=ed=0;Wb(D)?(hb=!0,xa=ma.createStream(34962,D),mc=xa.dtype):(xa=ma.getBuffer(D))?mc=xa.dtype:"constant"in D?(Xa=2,"number"===typeof D.constant?(sc=D.constant,Ua=Nb=ed=0):(sc=0<D.constant.length?D.constant[0]:0,Ua=1<D.constant.length?D.constant[1]:0,Nb=2<D.constant.length?D.constant[2]:0,ed=3<D.constant.length?D.constant[3]:0)):(xa=Wb(D.buffer)?ma.createStream(34962,D.buffer):ma.getBuffer(D.buffer),mc="type"in D?ua[D.type]:xa.dtype,Da=!!D.normalized,
qb=D.size|0,pb=D.offset|0,Ya=D.stride|0,dc=D.divisor|0);ad=g.location;Fa=Bb[ad];if(1===Xa){Fa.buffer||O.enableVertexAttribArray(ad);wc=qb||2;if(Fa.type!==mc||Fa.size!==wc||Fa.buffer!==xa||Fa.normalized!==Da||Fa.offset!==pb||Fa.stride!==Ya)O.bindBuffer(34962,xa.buffer),O.vertexAttribPointer(ad,wc,mc,Da,Ya,pb),Fa.type=mc,Fa.size=wc,Fa.buffer=xa,Fa.normalized=Da,Fa.offset=pb,Fa.stride=Ya;Fa.divisor!==dc&&(v.vertexAttribDivisorANGLE(ad,dc),Fa.divisor=dc)}else if(Fa.buffer&&(O.disableVertexAttribArray(ad),
Fa.buffer=null),Fa.x!==sc||Fa.y!==Ua||Fa.z!==Nb||Fa.w!==ed)O.vertexAttrib4f(ad,sc,Ua,Nb,ed),Fa.x=sc,Fa.y=Ua,Fa.z=Nb,Fa.w=ed;w.buffer=n.colorBuffer;Oa=!1;Aa=null;lb=0;tb=!1;rb=Ab=0;tc=1;ub=0;wd=5126;jd=Lc=Hd=rc=0;Wb(w)?(Oa=!0,Aa=ma.createStream(34962,w),wd=Aa.dtype):(Aa=ma.getBuffer(w))?wd=Aa.dtype:"constant"in w?(tc=2,"number"===typeof w.constant?(Hd=w.constant,Lc=jd=rc=0):(Hd=0<w.constant.length?w.constant[0]:0,Lc=1<w.constant.length?w.constant[1]:0,jd=2<w.constant.length?w.constant[2]:0,rc=3<w.constant.length?
w.constant[3]:0)):(Aa=Wb(w.buffer)?ma.createStream(34962,w.buffer):ma.getBuffer(w.buffer),wd="type"in w?ua[w.type]:Aa.dtype,tb=!!w.normalized,rb=w.size|0,Ab=w.offset|0,ub=w.stride|0,lb=w.divisor|0);fd=q.location;Vb=Bb[fd];if(1===tc){Vb.buffer||O.enableVertexAttribArray(fd);ac=rb||4;if(Vb.type!==wd||Vb.size!==ac||Vb.buffer!==Aa||Vb.normalized!==tb||Vb.offset!==Ab||Vb.stride!==ub)O.bindBuffer(34962,Aa.buffer),O.vertexAttribPointer(fd,ac,wd,tb,ub,Ab),Vb.type=wd,Vb.size=ac,Vb.buffer=Aa,Vb.normalized=
tb,Vb.offset=Ab,Vb.stride=ub;Vb.divisor!==lb&&(v.vertexAttribDivisorANGLE(fd,lb),Vb.divisor=lb)}else if(Vb.buffer&&(O.disableVertexAttribArray(fd),Vb.buffer=null),Vb.x!==Hd||Vb.y!==Lc||Vb.z!==jd||Vb.w!==rc)O.vertexAttrib4f(fd,Hd,Lc,jd,rc),Vb.x=Hd,Vb.y=Lc,Vb.z=jd,Vb.w=rc;Qb=n.scale;Ga=Qb[0];mb=Qb[1];x&&Yb===Ga&&vb===mb||(Yb=Ga,vb=mb,O.uniform2f(b.location,Ga,mb));Ob=n.scaleFract;Rb=Ob[0];gc=Ob[1];x&&ec===Rb&&Rc===gc||(ec=Rb,Rc=gc,O.uniform2f(e.location,Rb,gc));zc=n.translate;Ac=zc[0];Mc=zc[1];x&&Cc===
Ac&&bd===Mc||(Cc=Ac,bd=Mc,O.uniform2f(na.location,Ac,Mc));Sc=n.translateFract;Nc=Sc[0];Fb=Sc[1];x&&Lb===Nc&&Oc===Fb||(Lb=Nc,Oc=Fb,O.uniform2f(Za.location,Nc,Fb));Gc=n.thickness;x&&Tc===Gc||(Tc=Gc,O.uniform1f(ba.location,Gc));fc=n.depth;x&&Xc===fc||(Xc=fc,O.uniform1f(m.location,fc));gd=G.call(this,Pa,n,x);Vd=gd[0];Yc=gd[1];ie=gd[2];te=gd[3];x&&ye===Vd&&Tf===Yc&&ve===ie&&be===te||(ye=Vd,Tf=Yc,ve=ie,be=te,O.uniform4f(yb.location,Vd,Yc,ie,te));Fd=n.dashLength;x&&Dd===Fd||(Dd=Fd,O.uniform1f(Q.location,
Fd));id=n.opacity;x&&Dc===id||(Dc=id,O.uniform1f(fa.location,id));(pd=n.dashTexture)&&"framebuffer"===pd._reglType&&(pd=pd.color[0]);kd=pd._texture;O.uniform1i(R.location,kd.bind());dd=n.count;0<dd?Cb?v.drawElementsInstancedANGLE(5,4,Cb.type,0<<(Cb.type-5121>>1),dd):v.drawArraysInstancedANGLE(5,0,4,dd):0>dd&&(Cb?O.drawElements(5,4,Cb.type,0<<(Cb.type-5121>>1)):O.drawArrays(5,0,4));Pa.viewportWidth=Cd;Pa.viewportHeight=od;Va&&ma.destroyStream(Ca);sb&&ma.destroyStream(gb);bb&&ma.destroyStream(za);hb&&
ma.destroyStream(xa);Oa&&ma.destroyStream(Aa);kd.unbind()}Y.dirty=!0;la.setVAO(null);u&&(V.cpuTime+=performance.now()-l)},draw:function(c){var d,v,x,l,t,y,n,r,aa,A,B,E,F,I,P,z,G,ka,ca,Z,ga,Kd,Ze,Ma,Ha,yd,Ee,Rd,Sd,le,ne,rd,nd,vd,qd,hd,Uc,xd,Pc,Kc,qc,ab,hc,Cb,uc,Sa,Hc,$b,Zc,Cd,od,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb,fe,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc,Da,pb;d=qa.next;d!==qa.cur&&(d?O.bindFramebuffer(36160,
d.framebuffer):O.bindFramebuffer(36160,null),qa.cur=d);if(Y.dirty){var qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb;qb=$a.dither;qb!==Y.dither&&(qb?O.enable(3024):O.disable(3024),Y.dither=qb);Xa=$a.depth_func;Xa!==Y.depth_func&&(O.depthFunc(Xa),Y.depth_func=Xa);Ya=sa[0];mc=sa[1];if(Ya!==cc[0]||mc!==cc[1])O.depthRange(Ya,mc),cc[0]=Ya,cc[1]=mc;ed=$a.depth_mask;ed!==Y.depth_mask&&(O.depthMask(ed),Y.depth_mask=ed);sc=ib[0];Ua=ib[1];Nb=ib[2];ad=ib[3];
if(sc!==ea[0]||Ua!==ea[1]||Nb!==ea[2]||ad!==ea[3])O.colorMask(sc,Ua,Nb,ad),ea[0]=sc,ea[1]=Ua,ea[2]=Nb,ea[3]=ad;Fa=$a.cull_enable;Fa!==Y.cull_enable&&(Fa?O.enable(2884):O.disable(2884),Y.cull_enable=Fa);wc=$a.cull_face;wc!==Y.cull_face&&(O.cullFace(wc),Y.cull_face=wc);Oa=$a.frontFace;Oa!==Y.frontFace&&(O.frontFace(Oa),Y.frontFace=Oa);Aa=$a.lineWidth;Aa!==Y.lineWidth&&(O.lineWidth(Aa),Y.lineWidth=Aa);lb=$a.polygonOffset_enable;lb!==Y.polygonOffset_enable&&(lb?O.enable(32823):O.disable(32823),Y.polygonOffset_enable=
lb);tb=nc[0];Ab=nc[1];if(tb!==kc[0]||Ab!==kc[1])O.polygonOffset(tb,Ab),kc[0]=tb,kc[1]=Ab;rb=$a.sample_alpha;rb!==Y.sample_alpha&&(rb?O.enable(32926):O.disable(32926),Y.sample_alpha=rb);tc=$a.sample_enable;tc!==Y.sample_enable&&(tc?O.enable(32928):O.disable(32928),Y.sample_enable=tc);ub=td[0];wd=td[1];if(ub!==vc[0]||wd!==vc[1])O.sampleCoverage(ub,wd),vc[0]=ub,vc[1]=wd;rc=$a.stencil_mask;rc!==Y.stencil_mask&&(O.stencilMask(rc),Y.stencil_mask=rc);Hd=ja[0];Lc=ja[1];jd=ja[2];if(Hd!==Ba[0]||Lc!==Ba[1]||
jd!==Ba[2])O.stencilFunc(Hd,Lc,jd),Ba[0]=Hd,Ba[1]=Lc,Ba[2]=jd;fd=Bc[0];Vb=Bc[1];ac=Bc[2];Qb=Bc[3];if(fd!==C[0]||Vb!==C[1]||ac!==C[2]||Qb!==C[3])O.stencilOpSeparate(fd,Vb,ac,Qb),C[0]=fd,C[1]=Vb,C[2]=ac,C[3]=Qb;Ga=Gb[0];Yb=Gb[1];mb=Gb[2];vb=Gb[3];if(Ga!==Jc[0]||Yb!==Jc[1]||mb!==Jc[2]||vb!==Jc[3])O.stencilOpSeparate(Ga,Yb,mb,vb),Jc[0]=Ga,Jc[1]=Yb,Jc[2]=mb,Jc[3]=vb}v=c.viewport;x=v.x|0;l=v.y|0;t="width"in v?v.width|0:Pa.framebufferWidth-x;y="height"in v?v.height|0:Pa.framebufferHeight-l;n=Pa.viewportWidth;
Pa.viewportWidth=t;r=Pa.viewportHeight;Pa.viewportHeight=y;O.viewport(x,l,t,y);ia[0]=x;ia[1]=l;ia[2]=t;ia[3]=y;O.blendColor(0,0,0,0);Ea[0]=0;Ea[1]=0;Ea[2]=0;Ea[3]=0;O.enable(3042);Y.blend_enable=!0;O.blendEquationSeparate(32774,32774);bc[0]=32774;bc[1]=32774;O.blendFuncSeparate(770,771,773,1);W[0]=770;W[1]=771;W[2]=773;W[3]=1;(aa=p.call(this,Pa,c,0))?O.enable(2929):O.disable(2929);Y.depth_enable=aa;A=c.viewport;B=A.x|0;E=A.y|0;F="width"in A?A.width|0:Pa.framebufferWidth-B;I="height"in A?A.height|
0:Pa.framebufferHeight-E;O.scissor(B,E,F,I);L[0]=B;L[1]=E;L[2]=F;L[3]=I;O.enable(3089);Y.scissor_enable=!0;O.disable(2960);Y.stencil_enable=!1;if(P=Y.profile)z=performance.now(),V.count++;O.useProgram(H.program);G=T.angle_instanced_arrays;la.setVAO(null);U.buffer=c.positionBuffer;ka=!1;ca=null;Z=0;ga=!1;Ze=Kd=0;Ma=1;Ha=0;yd=5126;le=Sd=Rd=Ee=0;Wb(U)?(ka=!0,ca=ma.createStream(34962,U),yd=ca.dtype):(ca=ma.getBuffer(U))?yd=ca.dtype:"constant"in U?(Ma=2,"number"===typeof U.constant?(Rd=U.constant,Sd=le=
Ee=0):(Rd=0<U.constant.length?U.constant[0]:0,Sd=1<U.constant.length?U.constant[1]:0,le=2<U.constant.length?U.constant[2]:0,Ee=3<U.constant.length?U.constant[3]:0)):(ca=Wb(U.buffer)?ma.createStream(34962,U.buffer):ma.getBuffer(U.buffer),yd="type"in U?ua[U.type]:ca.dtype,ga=!!U.normalized,Ze=U.size|0,Kd=U.offset|0,Ha=U.stride|0,Z=U.divisor|0);ne=N.location;rd=Bb[ne];if(1===Ma){rd.buffer||O.enableVertexAttribArray(ne);nd=Ze||2;if(rd.type!==yd||rd.size!==nd||rd.buffer!==ca||rd.normalized!==ga||rd.offset!==
Kd||rd.stride!==Ha)O.bindBuffer(34962,ca.buffer),O.vertexAttribPointer(ne,nd,yd,ga,Ha,Kd),rd.type=yd,rd.size=nd,rd.buffer=ca,rd.normalized=ga,rd.offset=Kd,rd.stride=Ha;rd.divisor!==Z&&(G.vertexAttribDivisorANGLE(ne,Z),rd.divisor=Z)}else if(rd.buffer&&(O.disableVertexAttribArray(ne),rd.buffer=null),rd.x!==Rd||rd.y!==Sd||rd.z!==le||rd.w!==Ee)O.vertexAttrib4f(ne,Rd,Sd,le,Ee),rd.x=Rd,rd.y=Sd,rd.z=le,rd.w=Ee;ra.buffer=c.positionBuffer;vd=!1;qd=null;hd=0;Uc=!1;Pc=xd=0;Kc=1;qc=0;ab=5126;Sa=uc=Cb=hc=0;Wb(ra)?
(vd=!0,qd=ma.createStream(34962,ra),ab=qd.dtype):(qd=ma.getBuffer(ra))?ab=qd.dtype:"constant"in ra?(Kc=2,"number"===typeof ra.constant?(Cb=ra.constant,uc=Sa=hc=0):(Cb=0<ra.constant.length?ra.constant[0]:0,uc=1<ra.constant.length?ra.constant[1]:0,Sa=2<ra.constant.length?ra.constant[2]:0,hc=3<ra.constant.length?ra.constant[3]:0)):(qd=Wb(ra.buffer)?ma.createStream(34962,ra.buffer):ma.getBuffer(ra.buffer),ab="type"in ra?ua[ra.type]:qd.dtype,Uc=!!ra.normalized,Pc=ra.size|0,xd=ra.offset|0,qc=ra.stride|
0,hd=ra.divisor|0);Hc=h.location;$b=Bb[Hc];if(1===Kc){$b.buffer||O.enableVertexAttribArray(Hc);Zc=Pc||2;if($b.type!==ab||$b.size!==Zc||$b.buffer!==qd||$b.normalized!==Uc||$b.offset!==xd||$b.stride!==qc)O.bindBuffer(34962,qd.buffer),O.vertexAttribPointer(Hc,Zc,ab,Uc,qc,xd),$b.type=ab,$b.size=Zc,$b.buffer=qd,$b.normalized=Uc,$b.offset=xd,$b.stride=qc;$b.divisor!==hd&&(G.vertexAttribDivisorANGLE(Hc,hd),$b.divisor=hd)}else if($b.buffer&&(O.disableVertexAttribArray(Hc),$b.buffer=null),$b.x!==Cb||$b.y!==
uc||$b.z!==Sa||$b.w!==hc)O.vertexAttrib4f(Hc,Cb,uc,Sa,hc),$b.x=Cb,$b.y=uc,$b.z=Sa,$b.w=hc;ha.buffer=c.positionFractBuffer;Cd=!1;od=null;yc=0;Xb=!1;Qc=Ec=0;Ka=1;Db=0;Va=5126;Ra=fb=ud=Ca=0;Wb(ha)?(Cd=!0,od=ma.createStream(34962,ha),Va=od.dtype):(od=ma.getBuffer(ha))?Va=od.dtype:"constant"in ha?(Ka=2,"number"===typeof ha.constant?(ud=ha.constant,fb=Ra=Ca=0):(ud=0<ha.constant.length?ha.constant[0]:0,fb=1<ha.constant.length?ha.constant[1]:0,Ra=2<ha.constant.length?ha.constant[2]:0,Ca=3<ha.constant.length?
ha.constant[3]:0)):(od=Wb(ha.buffer)?ma.createStream(34962,ha.buffer):ma.getBuffer(ha.buffer),Va="type"in ha?ua[ha.type]:od.dtype,Xb=!!ha.normalized,Qc=ha.size|0,Ec=ha.offset|0,Db=ha.stride|0,yc=ha.divisor|0);Hb=k.location;Wa=Bb[Hb];if(1===Ka){Wa.buffer||O.enableVertexAttribArray(Hb);$c=Qc||2;if(Wa.type!==Va||Wa.size!==$c||Wa.buffer!==od||Wa.normalized!==Xb||Wa.offset!==Ec||Wa.stride!==Db)O.bindBuffer(34962,od.buffer),O.vertexAttribPointer(Hb,$c,Va,Xb,Db,Ec),Wa.type=Va,Wa.size=$c,Wa.buffer=od,Wa.normalized=
Xb,Wa.offset=Ec,Wa.stride=Db;Wa.divisor!==yc&&(G.vertexAttribDivisorANGLE(Hb,yc),Wa.divisor=yc)}else if(Wa.buffer&&(O.disableVertexAttribArray(Hb),Wa.buffer=null),Wa.x!==ud||Wa.y!==fb||Wa.z!==Ra||Wa.w!==Ca)O.vertexAttrib4f(Hb,ud,fb,Ra,Ca),Wa.x=ud,Wa.y=fb,Wa.z=Ra,Wa.w=Ca;D.buffer=c.positionFractBuffer;Sb=!1;fe=null;Zb=0;Tb=!1;Eb=ld=0;La=1;nb=0;sb=5126;Jb=oc=Na=gb=0;Wb(D)?(Sb=!0,fe=ma.createStream(34962,D),sb=fe.dtype):(fe=ma.getBuffer(D))?sb=fe.dtype:"constant"in D?(La=2,"number"===typeof D.constant?
(Na=D.constant,oc=Jb=gb=0):(Na=0<D.constant.length?D.constant[0]:0,oc=1<D.constant.length?D.constant[1]:0,Jb=2<D.constant.length?D.constant[2]:0,gb=3<D.constant.length?D.constant[3]:0)):(fe=Wb(D.buffer)?ma.createStream(34962,D.buffer):ma.getBuffer(D.buffer),sb="type"in D?ua[D.type]:fe.dtype,Tb=!!D.normalized,Eb=D.size|0,ld=D.offset|0,nb=D.stride|0,Zb=D.divisor|0);Vc=g.location;cb=Bb[Vc];if(1===La){cb.buffer||O.enableVertexAttribArray(Vc);lc=Eb||2;if(cb.type!==sb||cb.size!==lc||cb.buffer!==fe||cb.normalized!==
Tb||cb.offset!==ld||cb.stride!==nb)O.bindBuffer(34962,fe.buffer),O.vertexAttribPointer(Vc,lc,sb,Tb,nb,ld),cb.type=sb,cb.size=lc,cb.buffer=fe,cb.normalized=Tb,cb.offset=ld,cb.stride=nb;cb.divisor!==Zb&&(G.vertexAttribDivisorANGLE(Vc,Zb),cb.divisor=Zb)}else if(cb.buffer&&(O.disableVertexAttribArray(Vc),cb.buffer=null),cb.x!==Na||cb.y!==oc||cb.z!==Jb||cb.w!==gb)O.vertexAttrib4f(Vc,Na,oc,Jb,gb),cb.x=Na,cb.y=oc,cb.z=Jb,cb.w=gb;w.buffer=c.colorBuffer;Fc=!1;ic=null;jb=0;kb=!1;ob=ta=0;va=1;Ta=0;bb=5126;zb=
Ia=db=za=0;Wb(w)?(Fc=!0,ic=ma.createStream(34962,w),bb=ic.dtype):(ic=ma.getBuffer(w))?bb=ic.dtype:"constant"in w?(va=2,"number"===typeof w.constant?(db=w.constant,Ia=zb=za=0):(db=0<w.constant.length?w.constant[0]:0,Ia=1<w.constant.length?w.constant[1]:0,zb=2<w.constant.length?w.constant[2]:0,za=3<w.constant.length?w.constant[3]:0)):(ic=Wb(w.buffer)?ma.createStream(34962,w.buffer):ma.getBuffer(w.buffer),bb="type"in w?ua[w.type]:ic.dtype,kb=!!w.normalized,ob=w.size|0,ta=w.offset|0,Ta=w.stride|0,jb=
w.divisor|0);xb=q.location;Qa=Bb[xb];if(1===va){Qa.buffer||O.enableVertexAttribArray(xb);Ic=ob||4;if(Qa.type!==bb||Qa.size!==Ic||Qa.buffer!==ic||Qa.normalized!==kb||Qa.offset!==ta||Qa.stride!==Ta)O.bindBuffer(34962,ic.buffer),O.vertexAttribPointer(xb,Ic,bb,kb,Ta,ta),Qa.type=bb,Qa.size=Ic,Qa.buffer=ic,Qa.normalized=kb,Qa.offset=ta,Qa.stride=Ta;Qa.divisor!==jb&&(G.vertexAttribDivisorANGLE(xb,jb),Qa.divisor=jb)}else if(Qa.buffer&&(O.disableVertexAttribArray(xb),Qa.buffer=null),Qa.x!==db||Qa.y!==Ia||
Qa.z!==zb||Qa.w!==za)O.vertexAttrib4f(xb,db,Ia,zb,za),Qa.x=db,Qa.y=Ia,Qa.z=zb,Qa.w=za;Kb=pa.location;Mb=Bb[Kb];Mb.buffer||O.enableVertexAttribArray(Kb);if(5126!==Mb.type||1!==Mb.size||Mb.buffer!==f||!1!==Mb.normalized||0!==Mb.offset||8!==Mb.stride)O.bindBuffer(34962,f.buffer),O.vertexAttribPointer(Kb,1,5126,!1,8,0),Mb.type=5126,Mb.size=1,Mb.buffer=f,Mb.normalized=!1,Mb.offset=0,Mb.stride=8;0!==Mb.divisor&&(G.vertexAttribDivisorANGLE(Kb,0),Mb.divisor=0);Ub=J.location;wa=Bb[Ub];wa.buffer||O.enableVertexAttribArray(Ub);
if(5126!==wa.type||1!==wa.size||wa.buffer!==a||!1!==wa.normalized||4!==wa.offset||8!==wa.stride)O.bindBuffer(34962,a.buffer),O.vertexAttribPointer(Ub,1,5126,!1,8,4),wa.type=5126,wa.size=1,wa.buffer=a,wa.normalized=!1,wa.offset=4,wa.stride=8;0!==wa.divisor&&(G.vertexAttribDivisorANGLE(Ub,0),wa.divisor=0);Ud=c.scale;O.uniform2f(b.location,Ud[0],Ud[1]);Ja=c.scaleFract;O.uniform2f(e.location,Ja[0],Ja[1]);Pb=c.translate;O.uniform2f(na.location,Pb[0],Pb[1]);eb=c.translateFract;O.uniform2f(Za.location,eb[0],
eb[1]);O.uniform1f(ba.location,c.thickness);O.uniform1f(m.location,c.depth);hb=u.call(this,Pa,c,0);O.uniform4f(yb.location,hb[0],hb[1],hb[2],hb[3]);O.uniform1f(Q.location,c.dashLength);O.uniform1f(fa.location,c.opacity);(xa=c.dashTexture)&&"framebuffer"===xa._reglType&&(xa=xa.color[0]);dc=xa._texture;O.uniform1i(R.location,dc.bind());(Da=K.elements)?O.bindBuffer(34963,Da.buffer.buffer):la.currentVAO&&(Da=M.getElements(la.currentVAO.elements))&&O.bindBuffer(34963,Da.buffer.buffer);pb=c.count;0<pb?
Da?G.drawElementsInstancedANGLE(5,4,Da.type,0<<(Da.type-5121>>1),pb):G.drawArraysInstancedANGLE(5,0,4,pb):0>pb&&(Da?O.drawElements(5,4,Da.type,0<<(Da.type-5121>>1)):O.drawArrays(5,0,4));Y.dirty=!0;la.setVAO(null);Pa.viewportWidth=n;Pa.viewportHeight=r;P&&(V.cpuTime+=performance.now()-z);ka&&ma.destroyStream(ca);vd&&ma.destroyStream(qd);Cd&&ma.destroyStream(od);Sb&&ma.destroyStream(fe);Fc&&ma.destroyStream(ic);dc.unbind()},scope:function(b,e,d){var g,h,k,q,n,m,p,u,L,C,H,J,M,E,Q,O,R,G,T,W,ja,ia,Z,ba,
ea,la,nc,fa,pa,N,Ba,sa,qa,td,pc,na,Pc,Kc,qc,ab,hc,Cb,vc,Sa,Hc,$b,Gb,Jc,cc,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,Ea,fb,Ra,Hb,Wa,$c,Sb,kc,Zb,Tb,ib,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Bc,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,yb,rc,Bb,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,bc,ye,Yc,Za,ie,ve,te,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,Xe,ze,xe,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,
Jd,Ld,Md,he,Fe,we,me,Ye,Oe,Le,qe,Ce,Ge,He,Ie,De,Gd,Pd,Wd,Zd,Je,zd,Nd,Ae,Ke,ff,Ve,Pe,Me;g=b.viewport;h=g.x|0;k=g.y|0;q="width"in g?g.width|0:Pa.framebufferWidth-h;n="height"in g?g.height|0:Pa.framebufferHeight-k;m=Pa.viewportWidth;Pa.viewportWidth=q;p=Pa.viewportHeight;Pa.viewportHeight=n;u=v[0];v[0]=h;L=v[1];v[1]=k;C=v[2];v[2]=q;H=v[3];v[3]=n;J=ca[0];ca[0]=0;M=ca[1];ca[1]=0;E=ca[2];ca[2]=0;Q=ca[3];ca[3]=0;O=$a.blend_enable;$a.blend_enable=!0;R=Ma[0];Ma[0]=32774;G=Ma[1];Ma[1]=32774;T=Ha[0];Ha[0]=770;
W=Ha[1];Ha[1]=771;ja=Ha[2];Ha[2]=773;ia=Ha[3];Ha[3]=1;Z=c.call(this,Pa,b,d);ba=$a.depth_enable;$a.depth_enable=Z;ea=b.viewport;la=ea.x|0;nc=ea.y|0;fa="width"in ea?ea.width|0:Pa.framebufferWidth-la;pa="height"in ea?ea.height|0:Pa.framebufferHeight-nc;N=aa[0];aa[0]=la;Ba=aa[1];aa[1]=nc;sa=aa[2];aa[2]=fa;qa=aa[3];aa[3]=pa;td=$a.scissor_enable;$a.scissor_enable=!0;pc=$a.stencil_enable;$a.stencil_enable=!1;if(na=Y.profile)Pc=performance.now(),V.count++;Kc=K.offset;K.offset=0;qc=K.count;K.count=4;ab=b.count;
hc=K.instances;K.instances=ab;Cb=K.primitive;K.primitive=5;vc=b.dashLength;Sa=x[23];x[23]=vc;Hc=b.dashTexture;$b=x[24];x[24]=Hc;Gb=b.depth;Jc=x[22];x[22]=Gb;cc=b.id;yc=x[31];x[31]=cc;Xb=b.miterLimit;Ec=x[32];x[32]=Xb;Qc=r.call(this,Pa,b,d);Ka=x[33];x[33]=Qc;Db=b.opacity;Va=x[10];x[10]=Db;Ca=Pa.pixelRatio;Ea=x[34];x[34]=Ca;fb=b.scale;Ra=x[6];x[6]=fb;Hb=b.scaleFract;Wa=x[7];x[7]=Hb;$c=b.thickness;Sb=x[21];x[21]=$c;kc=b.translate;Zb=x[8];x[8]=kc;Tb=b.translateFract;ib=x[9];x[9]=Tb;Eb=z.call(this,Pa,
b,d);La=x[3];x[3]=Eb;U.buffer=b.positionBuffer;nb=!1;sb=null;gb=0;Na=!1;Jb=oc=0;Vc=1;cb=0;lc=5126;kb=jb=ic=Fc=0;Wb(U)?(nb=!0,sb=ma.createStream(34962,U),lc=sb.dtype):(sb=ma.getBuffer(U))?lc=sb.dtype:"constant"in U?(Vc=2,"number"===typeof U.constant?(ic=U.constant,jb=kb=Fc=0):(ic=0<U.constant.length?U.constant[0]:0,jb=1<U.constant.length?U.constant[1]:0,kb=2<U.constant.length?U.constant[2]:0,Fc=3<U.constant.length?U.constant[3]:0)):(sb=Wb(U.buffer)?ma.createStream(34962,U.buffer):ma.getBuffer(U.buffer),
lc="type"in U?ua[U.type]:sb.dtype,Na=!!U.normalized,Jb=U.size|0,oc=U.offset|0,cb=U.stride|0,gb=U.divisor|0);ta=ka.buffer;ka.buffer=sb;ob=ka.divisor;ka.divisor=gb;va=ka.normalized;ka.normalized=Na;Ta=ka.offset;ka.offset=oc;bb=ka.size;ka.size=Jb;za=ka.state;ka.state=Vc;db=ka.stride;ka.stride=cb;Ia=ka.type;ka.type=lc;zb=ka.w;ka.w=Fc;xb=ka.x;ka.x=ic;Qa=ka.y;ka.y=jb;Ic=ka.z;ka.z=kb;ha.buffer=b.positionFractBuffer;Kb=!1;Mb=null;Ub=0;wa=!1;Ja=Bc=0;Pb=1;eb=0;hb=5126;pb=Da=dc=xa=0;Wb(ha)?(Kb=!0,Mb=ma.createStream(34962,
ha),hb=Mb.dtype):(Mb=ma.getBuffer(ha))?hb=Mb.dtype:"constant"in ha?(Pb=2,"number"===typeof ha.constant?(dc=ha.constant,Da=pb=xa=0):(dc=0<ha.constant.length?ha.constant[0]:0,Da=1<ha.constant.length?ha.constant[1]:0,pb=2<ha.constant.length?ha.constant[2]:0,xa=3<ha.constant.length?ha.constant[3]:0)):(Mb=Wb(ha.buffer)?ma.createStream(34962,ha.buffer):ma.getBuffer(ha.buffer),hb="type"in ha?ua[ha.type]:Mb.dtype,wa=!!ha.normalized,Ja=ha.size|0,Bc=ha.offset|0,eb=ha.stride|0,Ub=ha.divisor|0);qb=F.buffer;F.buffer=
Mb;Xa=F.divisor;F.divisor=Ub;Ya=F.normalized;F.normalized=wa;mc=F.offset;F.offset=Bc;ed=F.size;F.size=Ja;sc=F.state;F.state=Pb;Ua=F.stride;F.stride=eb;Nb=F.type;F.type=hb;ad=F.w;F.w=xa;Fa=F.x;F.x=dc;wc=F.y;F.y=Da;Oa=F.z;F.z=pb;ra.buffer=b.positionBuffer;Aa=!1;lb=null;tb=0;Ab=!1;tc=rb=0;ub=1;yb=0;rc=5126;fd=jd=Lc=Bb=0;Wb(ra)?(Aa=!0,lb=ma.createStream(34962,ra),rc=lb.dtype):(lb=ma.getBuffer(ra))?rc=lb.dtype:"constant"in ra?(ub=2,"number"===typeof ra.constant?(Lc=ra.constant,jd=fd=Bb=0):(Lc=0<ra.constant.length?
ra.constant[0]:0,jd=1<ra.constant.length?ra.constant[1]:0,fd=2<ra.constant.length?ra.constant[2]:0,Bb=3<ra.constant.length?ra.constant[3]:0)):(lb=Wb(ra.buffer)?ma.createStream(34962,ra.buffer):ma.getBuffer(ra.buffer),rc="type"in ra?ua[ra.type]:lb.dtype,Ab=!!ra.normalized,tc=ra.size|0,rb=ra.offset|0,yb=ra.stride|0,tb=ra.divisor|0);Vb=B.buffer;B.buffer=lb;ac=B.divisor;B.divisor=tb;Qb=B.normalized;B.normalized=Ab;Ga=B.offset;B.offset=rb;Yb=B.size;B.size=tc;mb=B.state;B.state=ub;vb=B.stride;B.stride=
yb;Ob=B.type;B.type=rc;Rb=B.w;B.w=Bb;ec=B.x;B.x=Lc;gc=B.y;B.y=jd;Rc=B.z;B.z=fd;D.buffer=b.positionFractBuffer;zc=!1;Ac=null;Cc=0;Mc=!1;Sc=bd=0;Nc=1;Lb=0;Fb=5126;fc=Tc=Gc=Oc=0;Wb(D)?(zc=!0,Ac=ma.createStream(34962,D),Fb=Ac.dtype):(Ac=ma.getBuffer(D))?Fb=Ac.dtype:"constant"in D?(Nc=2,"number"===typeof D.constant?(Gc=D.constant,Tc=fc=Oc=0):(Gc=0<D.constant.length?D.constant[0]:0,Tc=1<D.constant.length?D.constant[1]:0,fc=2<D.constant.length?D.constant[2]:0,Oc=3<D.constant.length?D.constant[3]:0)):(Ac=
Wb(D.buffer)?ma.createStream(34962,D.buffer):ma.getBuffer(D.buffer),Fb="type"in D?ua[D.type]:Ac.dtype,Mc=!!D.normalized,Sc=D.size|0,bd=D.offset|0,Lb=D.stride|0,Cc=D.divisor|0);Xc=t.buffer;t.buffer=Ac;gd=t.divisor;t.divisor=Cc;bc=t.normalized;t.normalized=Mc;ye=t.offset;t.offset=bd;Yc=t.size;t.size=Sc;Za=t.state;t.state=Nc;ie=t.stride;t.stride=Lb;ve=t.type;t.type=Fb;te=t.w;t.w=Oc;be=t.x;t.x=Gc;Fd=t.y;t.y=Tc;Dd=t.z;t.z=fc;w.buffer=b.colorBuffer;id=!1;Dc=null;pd=0;kd=!1;md=dd=0;Ad=1;Bd=0;Xe=5126;ce=
de=xe=ze=0;Wb(w)?(id=!0,Dc=ma.createStream(34962,w),Xe=Dc.dtype):(Dc=ma.getBuffer(w))?Xe=Dc.dtype:"constant"in w?(Ad=2,"number"===typeof w.constant?(xe=w.constant,de=ce=ze=0):(xe=0<w.constant.length?w.constant[0]:0,de=1<w.constant.length?w.constant[1]:0,ce=2<w.constant.length?w.constant[2]:0,ze=3<w.constant.length?w.constant[3]:0)):(Dc=Wb(w.buffer)?ma.createStream(34962,w.buffer):ma.getBuffer(w.buffer),Xe="type"in w?ua[w.type]:Dc.dtype,kd=!!w.normalized,md=w.size|0,dd=w.offset|0,Bd=w.stride|0,pd=
w.divisor|0);$d=A.buffer;A.buffer=Dc;oe=A.divisor;A.divisor=pd;Yd=A.normalized;A.normalized=kd;ge=A.offset;A.offset=dd;xc=A.size;A.size=md;Wc=A.state;A.state=Ad;pe=A.stride;A.stride=Bd;je=A.type;A.type=Xe;Ed=A.w;A.w=ze;Jd=A.x;A.x=xe;Ld=A.y;A.y=de;Md=A.z;A.z=ce;he=I.buffer;I.buffer=f;Fe=I.divisor;I.divisor=0;we=I.normalized;I.normalized=!1;me=I.offset;I.offset=0;Ye=I.size;I.size=0;Oe=I.state;I.state=1;Le=I.stride;I.stride=8;qe=I.type;I.type=5126;Ce=I.w;I.w=0;Ge=I.x;I.x=0;He=I.y;I.y=0;Ie=I.z;I.z=0;
De=y.buffer;y.buffer=a;Gd=y.divisor;y.divisor=0;Pd=y.normalized;y.normalized=!1;Wd=y.offset;y.offset=4;Zd=y.size;y.size=0;Je=y.state;y.state=1;zd=y.stride;y.stride=8;Nd=y.type;y.type=5126;Ae=y.w;y.w=0;Ke=y.x;y.x=0;ff=y.y;y.y=0;Ve=y.z;y.z=0;Pe=P.vert;P.vert=20;Me=P.frag;P.frag=19;Y.dirty=!0;e(Pa,b,d);Pa.viewportWidth=m;Pa.viewportHeight=p;v[0]=u;v[1]=L;v[2]=C;v[3]=H;ca[0]=J;ca[1]=M;ca[2]=E;ca[3]=Q;$a.blend_enable=O;Ma[0]=R;Ma[1]=G;Ha[0]=T;Ha[1]=W;Ha[2]=ja;Ha[3]=ia;$a.depth_enable=ba;aa[0]=N;aa[1]=
Ba;aa[2]=sa;aa[3]=qa;$a.scissor_enable=td;$a.stencil_enable=pc;na&&(V.cpuTime+=performance.now()-Pc);K.offset=Kc;K.count=qc;K.instances=hc;K.primitive=Cb;x[23]=Sa;x[24]=$b;x[22]=Jc;x[31]=yc;x[32]=Ec;x[33]=Ka;x[10]=Va;x[34]=Ea;x[6]=Ra;x[7]=Wa;x[21]=Sb;x[8]=Zb;x[9]=ib;x[3]=La;nb&&ma.destroyStream(sb);ka.buffer=ta;ka.divisor=ob;ka.normalized=va;ka.offset=Ta;ka.size=bb;ka.state=za;ka.stride=db;ka.type=Ia;ka.w=zb;ka.x=xb;ka.y=Qa;ka.z=Ic;Kb&&ma.destroyStream(Mb);F.buffer=qb;F.divisor=Xa;F.normalized=Ya;
F.offset=mc;F.size=ed;F.state=sc;F.stride=Ua;F.type=Nb;F.w=ad;F.x=Fa;F.y=wc;F.z=Oa;Aa&&ma.destroyStream(lb);B.buffer=Vb;B.divisor=ac;B.normalized=Qb;B.offset=Ga;B.size=Yb;B.state=mb;B.stride=vb;B.type=Ob;B.w=Rb;B.x=ec;B.y=gc;B.z=Rc;zc&&ma.destroyStream(Ac);t.buffer=Xc;t.divisor=gd;t.normalized=bc;t.offset=ye;t.size=Yc;t.state=Za;t.stride=ie;t.type=ve;t.w=te;t.x=be;t.y=Fd;t.z=Dd;id&&ma.destroyStream(Dc);A.buffer=$d;A.divisor=oe;A.normalized=Yd;A.offset=ge;A.size=xc;A.state=Wc;A.stride=pe;A.type=je;
A.w=Ed;A.x=Jd;A.y=Ld;A.z=Md;I.buffer=he;I.divisor=Fe;I.normalized=we;I.offset=me;I.size=Ye;I.state=Oe;I.stride=Le;I.type=qe;I.w=Ce;I.x=Ge;I.y=He;I.z=Ie;y.buffer=De;y.divisor=Gd;y.normalized=Pd;y.offset=Wd;y.size=Zd;y.state=Je;y.stride=zd;y.type=Nd;y.w=Ae;y.x=Ke;y.y=ff;y.z=Ve;P.vert=Pe;P.frag=Me;Y.dirty=!0}}},"$22,aColor,aCoord,bColor,bCoord,dashLength,dashTexture,depth,lineEnd,lineTop,miterLimit,miterMode,nextCoord,opacity,prevCoord,scale,thickness,translate,viewport":function(d,V,p,H,f,a,u,c,r,z,
ka,F,B,t,A,I,y,E,Z,G,N,k,h,g,q,Q,R,m,pa,J,fa,b,e,ba,na,Za,yb,Bb,ma,Pa,Y){var K,M,T,qa,O,Wb,$a,P,x,la,ca,Ea,Ma,bc,Ha,W,ib,ea,sa,cc,nc,kc,td,vc,aa,L,ja,Ba,Gb,Jc,Bc,C,v,ia,ua,U,ha,ra,D,w,da,S,ya,oa,l;K=d.attributes;M=d.buffer;T=d.context;qa=d.current;O=d.draw;Wb=d.elements;$a=d.extensions;P=d.framebuffer;x=d.gl;la=d.isBufferArgs;ca=d.next;Ea=d.shader;Ma=d.uniforms;bc=d.vao;Ha=ca.blend_color;W=qa.blend_color;ib=ca.blend_equation;ea=qa.blend_equation;sa=ca.blend_func;cc=qa.blend_func;nc=ca.colorMask;kc=
qa.colorMask;td=ca.depth_range;vc=qa.depth_range;aa=ca.polygonOffset_offset;L=qa.polygonOffset_offset;ja=ca.sample_coverage;Ba=qa.sample_coverage;Gb=ca.scissor_box;Jc=qa.scissor_box;Bc=ca.stencil_func;C=qa.stencil_func;v=ca.stencil_opBack;ia=qa.stencil_opBack;ua=ca.stencil_opFront;U=qa.stencil_opFront;ha=ca.viewport;ra=qa.viewport;D={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};w={divisor:1,offset:0,stride:4};da={divisor:1,offset:8,stride:8};S={divisor:1,
offset:4,stride:4};ya={divisor:1,offset:16,stride:8};oa={divisor:1,offset:24,stride:8};l={divisor:1,offset:0,stride:8};return{batch:function(c,d){var n,p,u,t,y,r;n=P.next;n!==P.cur&&(n?x.bindFramebuffer(36160,n.framebuffer):x.bindFramebuffer(36160,null),P.cur=n);if(qa.dirty){var A,H,B,E,F,I,z,ha,ka,Z,ga,sa,Gb,Ea,Ma,Rd,Sd,Ha,ib,rd,nd,vd,qd,hd,Uc,xd,Pc,Kc,qc,ab;A=ca.dither;A!==qa.dither&&(A?x.enable(3024):x.disable(3024),qa.dither=A);H=ca.depth_func;H!==qa.depth_func&&(x.depthFunc(H),qa.depth_func=
H);B=td[0];E=td[1];if(B!==vc[0]||E!==vc[1])x.depthRange(B,E),vc[0]=B,vc[1]=E;F=ca.depth_mask;F!==qa.depth_mask&&(x.depthMask(F),qa.depth_mask=F);I=nc[0];z=nc[1];ha=nc[2];ka=nc[3];if(I!==kc[0]||z!==kc[1]||ha!==kc[2]||ka!==kc[3])x.colorMask(I,z,ha,ka),kc[0]=I,kc[1]=z,kc[2]=ha,kc[3]=ka;Z=ca.frontFace;Z!==qa.frontFace&&(x.frontFace(Z),qa.frontFace=Z);ga=ca.lineWidth;ga!==qa.lineWidth&&(x.lineWidth(ga),qa.lineWidth=ga);sa=ca.polygonOffset_enable;sa!==qa.polygonOffset_enable&&(sa?x.enable(32823):x.disable(32823),
qa.polygonOffset_enable=sa);Gb=aa[0];Ea=aa[1];if(Gb!==L[0]||Ea!==L[1])x.polygonOffset(Gb,Ea),L[0]=Gb,L[1]=Ea;Ma=ca.sample_alpha;Ma!==qa.sample_alpha&&(Ma?x.enable(32926):x.disable(32926),qa.sample_alpha=Ma);Rd=ca.sample_enable;Rd!==qa.sample_enable&&(Rd?x.enable(32928):x.disable(32928),qa.sample_enable=Rd);Sd=ja[0];Ha=ja[1];if(Sd!==Ba[0]||Ha!==Ba[1])x.sampleCoverage(Sd,Ha),Ba[0]=Sd,Ba[1]=Ha;ib=ca.stencil_mask;ib!==qa.stencil_mask&&(x.stencilMask(ib),qa.stencil_mask=ib);rd=Bc[0];nd=Bc[1];vd=Bc[2];
if(rd!==C[0]||nd!==C[1]||vd!==C[2])x.stencilFunc(rd,nd,vd),C[0]=rd,C[1]=nd,C[2]=vd;qd=ua[0];hd=ua[1];Uc=ua[2];xd=ua[3];if(qd!==U[0]||hd!==U[1]||Uc!==U[2]||xd!==U[3])x.stencilOpSeparate(qd,hd,Uc,xd),U[0]=qd,U[1]=hd,U[2]=Uc,U[3]=xd;Pc=v[0];Kc=v[1];qc=v[2];ab=v[3];if(Pc!==ia[0]||Kc!==ia[1]||qc!==ia[2]||ab!==ia[3])x.stencilOpSeparate(Pc,Kc,qc,ab),ia[0]=Pc,ia[1]=Kc,ia[2]=qc,ia[3]=ab}x.blendColor(0,0,0,0);W[0]=0;W[1]=0;W[2]=0;W[3]=0;x.enable(3042);qa.blend_enable=!0;x.blendEquationSeparate(32774,32774);
ea[0]=32774;ea[1]=32774;x.blendFuncSeparate(770,771,773,1);cc[0]=770;cc[1]=771;cc[2]=773;cc[3]=1;x.enable(2884);qa.cull_enable=!0;x.cullFace(1029);qa.cull_face=1029;x.enable(3089);qa.scissor_enable=!0;x.disable(2960);qa.stencil_enable=!1;if(p=qa.profile)u=performance.now(),V.count+=d;x.useProgram(G.program);t=$a.angle_instanced_arrays;var hc,Cb,uc,Sa,Hc;bc.setVAO(null);hc=fa.location;Cb=K[hc];Cb.buffer||x.enableVertexAttribArray(hc);if(5126!==Cb.type||1!==Cb.size||Cb.buffer!==f||!1!==Cb.normalized||
0!==Cb.offset||8!==Cb.stride)x.bindBuffer(34962,f.buffer),x.vertexAttribPointer(hc,1,5126,!1,8,0),Cb.type=5126,Cb.size=1,Cb.buffer=f,Cb.normalized=!1,Cb.offset=0,Cb.stride=8;0!==Cb.divisor&&(t.vertexAttribDivisorANGLE(hc,0),Cb.divisor=0);uc=b.location;Sa=K[uc];Sa.buffer||x.enableVertexAttribArray(uc);if(5126!==Sa.type||1!==Sa.size||Sa.buffer!==a||!1!==Sa.normalized||4!==Sa.offset||8!==Sa.stride)x.bindBuffer(34962,a.buffer),x.vertexAttribPointer(uc,1,5126,!1,8,4),Sa.type=5126,Sa.size=1,Sa.buffer=a,
Sa.normalized=!1,Sa.offset=4,Sa.stride=8;0!==Sa.divisor&&(t.vertexAttribDivisorANGLE(uc,0),Sa.divisor=0);(Hc=O.elements)?x.bindBuffer(34963,Hc.buffer.buffer):bc.currentVAO&&(Hc=Wb.getElements(bc.currentVAO.elements))&&x.bindBuffer(34963,Hc.buffer.buffer);for(y=0;y<d;++y){r=c[y];var $b,Zc,Cd,od,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb,fe,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,
wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,Vd,ye,Yc,Tf,ie,ve,te,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,Xe,ze,If,de,ce,$d,oe,Yd,ge,xc;$b=r.viewport;Zc=$b.x|0;Cd=$b.y|0;od="width"in $b?$b.width|0:T.framebufferWidth-Zc;yc="height"in $b?$b.height|0:T.framebufferHeight-Cd;Xb=T.viewportWidth;T.viewportWidth=od;Ec=T.viewportHeight;T.viewportHeight=yc;x.viewport(Zc,Cd,od,yc);ra[0]=Zc;ra[1]=Cd;ra[2]=od;ra[3]=yc;(Qc=N.call(this,T,
r,y))?x.enable(2929):x.disable(2929);qa.depth_enable=Qc;Ka=r.viewport;Db=Ka.x|0;Va=Ka.y|0;Ca="width"in Ka?Ka.width|0:T.framebufferWidth-Db;ud="height"in Ka?Ka.height|0:T.framebufferHeight-Va;x.scissor(Db,Va,Ca,ud);Jc[0]=Db;Jc[1]=Va;Jc[2]=Ca;Jc[3]=ud;da.buffer=r.positionBuffer;fb=!1;Ra=null;Hb=0;Wa=!1;Sb=$c=0;fe=1;Zb=0;Tb=5126;nb=La=Eb=ld=0;la(da)?(fb=!0,Ra=M.createStream(34962,da),Tb=Ra.dtype):(Ra=M.getBuffer(da))?Tb=Ra.dtype:"constant"in da?(fe=2,"number"===typeof da.constant?(Eb=da.constant,La=
nb=ld=0):(Eb=0<da.constant.length?da.constant[0]:0,La=1<da.constant.length?da.constant[1]:0,nb=2<da.constant.length?da.constant[2]:0,ld=3<da.constant.length?da.constant[3]:0)):(Ra=la(da.buffer)?M.createStream(34962,da.buffer):M.getBuffer(da.buffer),Tb="type"in da?D[da.type]:Ra.dtype,Wa=!!da.normalized,Sb=da.size|0,$c=da.offset|0,Zb=da.stride|0,Hb=da.divisor|0);sb=q.location;gb=K[sb];if(1===fe){gb.buffer||x.enableVertexAttribArray(sb);Na=Sb||2;if(gb.type!==Tb||gb.size!==Na||gb.buffer!==Ra||gb.normalized!==
Wa||gb.offset!==$c||gb.stride!==Zb)x.bindBuffer(34962,Ra.buffer),x.vertexAttribPointer(sb,Na,Tb,Wa,Zb,$c),gb.type=Tb,gb.size=Na,gb.buffer=Ra,gb.normalized=Wa,gb.offset=$c,gb.stride=Zb;gb.divisor!==Hb&&(t.vertexAttribDivisorANGLE(sb,Hb),gb.divisor=Hb)}else if(gb.buffer&&(x.disableVertexAttribArray(sb),gb.buffer=null),gb.x!==Eb||gb.y!==La||gb.z!==nb||gb.w!==ld)x.vertexAttrib4f(sb,Eb,La,nb,ld),gb.x=Eb,gb.y=La,gb.z=nb,gb.w=ld;ya.buffer=r.positionBuffer;oc=!1;Jb=null;Vc=0;cb=!1;Fc=lc=0;ic=1;jb=0;kb=5126;
Ta=va=ob=ta=0;la(ya)?(oc=!0,Jb=M.createStream(34962,ya),kb=Jb.dtype):(Jb=M.getBuffer(ya))?kb=Jb.dtype:"constant"in ya?(ic=2,"number"===typeof ya.constant?(ob=ya.constant,va=Ta=ta=0):(ob=0<ya.constant.length?ya.constant[0]:0,va=1<ya.constant.length?ya.constant[1]:0,Ta=2<ya.constant.length?ya.constant[2]:0,ta=3<ya.constant.length?ya.constant[3]:0)):(Jb=la(ya.buffer)?M.createStream(34962,ya.buffer):M.getBuffer(ya.buffer),kb="type"in ya?D[ya.type]:Jb.dtype,cb=!!ya.normalized,Fc=ya.size|0,lc=ya.offset|
0,jb=ya.stride|0,Vc=ya.divisor|0);bb=R.location;za=K[bb];if(1===ic){za.buffer||x.enableVertexAttribArray(bb);db=Fc||2;if(za.type!==kb||za.size!==db||za.buffer!==Jb||za.normalized!==cb||za.offset!==lc||za.stride!==jb)x.bindBuffer(34962,Jb.buffer),x.vertexAttribPointer(bb,db,kb,cb,jb,lc),za.type=kb,za.size=db,za.buffer=Jb,za.normalized=cb,za.offset=lc,za.stride=jb;za.divisor!==Vc&&(t.vertexAttribDivisorANGLE(bb,Vc),za.divisor=Vc)}else if(za.buffer&&(x.disableVertexAttribArray(bb),za.buffer=null),za.x!==
ob||za.y!==va||za.z!==Ta||za.w!==ta)x.vertexAttrib4f(bb,ob,va,Ta,ta),za.x=ob,za.y=va,za.z=Ta,za.w=ta;oa.buffer=r.positionBuffer;Ia=!1;zb=null;xb=0;Qa=!1;Kb=Ic=0;Mb=1;Ub=0;wa=5126;eb=Pb=Ja=Ud=0;la(oa)?(Ia=!0,zb=M.createStream(34962,oa),wa=zb.dtype):(zb=M.getBuffer(oa))?wa=zb.dtype:"constant"in oa?(Mb=2,"number"===typeof oa.constant?(Ja=oa.constant,Pb=eb=Ud=0):(Ja=0<oa.constant.length?oa.constant[0]:0,Pb=1<oa.constant.length?oa.constant[1]:0,eb=2<oa.constant.length?oa.constant[2]:0,Ud=3<oa.constant.length?
oa.constant[3]:0)):(zb=la(oa.buffer)?M.createStream(34962,oa.buffer):M.getBuffer(oa.buffer),wa="type"in oa?D[oa.type]:zb.dtype,Qa=!!oa.normalized,Kb=oa.size|0,Ic=oa.offset|0,Ub=oa.stride|0,xb=oa.divisor|0);hb=na.location;xa=K[hb];if(1===Mb){xa.buffer||x.enableVertexAttribArray(hb);dc=Kb||2;if(xa.type!==wa||xa.size!==dc||xa.buffer!==zb||xa.normalized!==Qa||xa.offset!==Ic||xa.stride!==Ub)x.bindBuffer(34962,zb.buffer),x.vertexAttribPointer(hb,dc,wa,Qa,Ub,Ic),xa.type=wa,xa.size=dc,xa.buffer=zb,xa.normalized=
Qa,xa.offset=Ic,xa.stride=Ub;xa.divisor!==xb&&(t.vertexAttribDivisorANGLE(hb,xb),xa.divisor=xb)}else if(xa.buffer&&(x.disableVertexAttribArray(hb),xa.buffer=null),xa.x!==Ja||xa.y!==Pb||xa.z!==eb||xa.w!==Ud)x.vertexAttrib4f(hb,Ja,Pb,eb,Ud),xa.x=Ja,xa.y=Pb,xa.z=eb,xa.w=Ud;l.buffer=r.positionBuffer;Da=!1;pb=null;qb=0;Xa=!1;mc=Ya=0;ed=1;sc=0;Ua=5126;wc=Fa=ad=Nb=0;la(l)?(Da=!0,pb=M.createStream(34962,l),Ua=pb.dtype):(pb=M.getBuffer(l))?Ua=pb.dtype:"constant"in l?(ed=2,"number"===typeof l.constant?(ad=
l.constant,Fa=wc=Nb=0):(ad=0<l.constant.length?l.constant[0]:0,Fa=1<l.constant.length?l.constant[1]:0,wc=2<l.constant.length?l.constant[2]:0,Nb=3<l.constant.length?l.constant[3]:0)):(pb=la(l.buffer)?M.createStream(34962,l.buffer):M.getBuffer(l.buffer),Ua="type"in l?D[l.type]:pb.dtype,Xa=!!l.normalized,mc=l.size|0,Ya=l.offset|0,sc=l.stride|0,qb=l.divisor|0);Oa=yb.location;Aa=K[Oa];if(1===ed){Aa.buffer||x.enableVertexAttribArray(Oa);lb=mc||2;if(Aa.type!==Ua||Aa.size!==lb||Aa.buffer!==pb||Aa.normalized!==
Xa||Aa.offset!==Ya||Aa.stride!==sc)x.bindBuffer(34962,pb.buffer),x.vertexAttribPointer(Oa,lb,Ua,Xa,sc,Ya),Aa.type=Ua,Aa.size=lb,Aa.buffer=pb,Aa.normalized=Xa,Aa.offset=Ya,Aa.stride=sc;Aa.divisor!==qb&&(t.vertexAttribDivisorANGLE(Oa,qb),Aa.divisor=qb)}else if(Aa.buffer&&(x.disableVertexAttribArray(Oa),Aa.buffer=null),Aa.x!==ad||Aa.y!==Fa||Aa.z!==wc||Aa.w!==Nb)x.vertexAttrib4f(Oa,ad,Fa,wc,Nb),Aa.x=ad,Aa.y=Fa,Aa.z=wc,Aa.w=Nb;w.buffer=r.colorBuffer;tb=!1;Ab=null;rb=0;tc=!1;wd=ub=0;rc=1;Hd=0;Lc=5126;ac=
Vb=fd=jd=0;la(w)?(tb=!0,Ab=M.createStream(34962,w),Lc=Ab.dtype):(Ab=M.getBuffer(w))?Lc=Ab.dtype:"constant"in w?(rc=2,"number"===typeof w.constant?(fd=w.constant,Vb=ac=jd=0):(fd=0<w.constant.length?w.constant[0]:0,Vb=1<w.constant.length?w.constant[1]:0,ac=2<w.constant.length?w.constant[2]:0,jd=3<w.constant.length?w.constant[3]:0)):(Ab=la(w.buffer)?M.createStream(34962,w.buffer):M.getBuffer(w.buffer),Lc="type"in w?D[w.type]:Ab.dtype,tc=!!w.normalized,wd=w.size|0,ub=w.offset|0,Hd=w.stride|0,rb=w.divisor|
0);Qb=g.location;Ga=K[Qb];if(1===rc){Ga.buffer||x.enableVertexAttribArray(Qb);Yb=wd||4;if(Ga.type!==Lc||Ga.size!==Yb||Ga.buffer!==Ab||Ga.normalized!==tc||Ga.offset!==ub||Ga.stride!==Hd)x.bindBuffer(34962,Ab.buffer),x.vertexAttribPointer(Qb,Yb,Lc,tc,Hd,ub),Ga.type=Lc,Ga.size=Yb,Ga.buffer=Ab,Ga.normalized=tc,Ga.offset=ub,Ga.stride=Hd;Ga.divisor!==rb&&(t.vertexAttribDivisorANGLE(Qb,rb),Ga.divisor=rb)}else if(Ga.buffer&&(x.disableVertexAttribArray(Qb),Ga.buffer=null),Ga.x!==fd||Ga.y!==Vb||Ga.z!==ac||
Ga.w!==jd)x.vertexAttrib4f(Qb,fd,Vb,ac,jd),Ga.x=fd,Ga.y=Vb,Ga.z=ac,Ga.w=jd;S.buffer=r.colorBuffer;mb=!1;vb=null;Ob=0;Rb=!1;gc=ec=0;Rc=1;zc=0;Ac=5126;Sc=bd=Mc=Cc=0;la(S)?(mb=!0,vb=M.createStream(34962,S),Ac=vb.dtype):(vb=M.getBuffer(S))?Ac=vb.dtype:"constant"in S?(Rc=2,"number"===typeof S.constant?(Mc=S.constant,bd=Sc=Cc=0):(Mc=0<S.constant.length?S.constant[0]:0,bd=1<S.constant.length?S.constant[1]:0,Sc=2<S.constant.length?S.constant[2]:0,Cc=3<S.constant.length?S.constant[3]:0)):(vb=la(S.buffer)?
M.createStream(34962,S.buffer):M.getBuffer(S.buffer),Ac="type"in S?D[S.type]:vb.dtype,Rb=!!S.normalized,gc=S.size|0,ec=S.offset|0,zc=S.stride|0,Ob=S.divisor|0);Nc=Q.location;Lb=K[Nc];if(1===Rc){Lb.buffer||x.enableVertexAttribArray(Nc);Fb=gc||4;if(Lb.type!==Ac||Lb.size!==Fb||Lb.buffer!==vb||Lb.normalized!==Rb||Lb.offset!==ec||Lb.stride!==zc)x.bindBuffer(34962,vb.buffer),x.vertexAttribPointer(Nc,Fb,Ac,Rb,zc,ec),Lb.type=Ac,Lb.size=Fb,Lb.buffer=vb,Lb.normalized=Rb,Lb.offset=ec,Lb.stride=zc;Lb.divisor!==
Ob&&(t.vertexAttribDivisorANGLE(Nc,Ob),Lb.divisor=Ob)}else if(Lb.buffer&&(x.disableVertexAttribArray(Nc),Lb.buffer=null),Lb.x!==Mc||Lb.y!==bd||Lb.z!==Sc||Lb.w!==Cc)x.vertexAttrib4f(Nc,Mc,bd,Sc,Cc),Lb.x=Mc,Lb.y=bd,Lb.z=Sc,Lb.w=Cc;Oc=r.scale;Gc=Oc[0];fc=Oc[1];y&&Tc===Gc&&Xc===fc||(Tc=Gc,Xc=fc,x.uniform2f(Bb.location,Gc,fc));gd=r.translate;Vd=gd[0];Yc=gd[1];y&&ye===Vd&&Tf===Yc||(ye=Vd,Tf=Yc,x.uniform2f(Pa.location,Vd,Yc));ie=r.thickness;y&&ve===ie||(ve=ie,x.uniform1f(ma.location,ie));te=r.depth;y&&be===
te||(be=te,x.uniform1f(J.location,te));Fd=k.call(this,T,r,y);Dd=Fd[0];Dc=Fd[1];kd=Fd[2];md=Fd[3];y&&id===Dd&&pd===Dc&&dd===kd&&Ad===md||(id=Dd,pd=Dc,dd=kd,Ad=md,x.uniform4f(Y.location,Dd,Dc,kd,md));Bd=r.miterLimit;y&&Xe===Bd||(Xe=Bd,x.uniform1f(e.location,Bd));ze=h.call(this,T,r,y);y&&If===ze||(If=ze,x.uniform1f(ba.location,ze));de=r.dashLength;y&&ce===de||(ce=de,x.uniform1f(m.location,de));$d=r.opacity;y&&oe===$d||(oe=$d,x.uniform1f(Za.location,$d));(Yd=r.dashTexture)&&"framebuffer"===Yd._reglType&&
(Yd=Yd.color[0]);ge=Yd._texture;x.uniform1i(pa.location,ge.bind());xc=r.count;0<xc?Hc?t.drawElementsInstancedANGLE(5,4,Hc.type,0<<(Hc.type-5121>>1),xc):t.drawArraysInstancedANGLE(5,0,4,xc):0>xc&&(Hc?x.drawElements(5,4,Hc.type,0<<(Hc.type-5121>>1)):x.drawArrays(5,0,4));T.viewportWidth=Xb;T.viewportHeight=Ec;fb&&M.destroyStream(Ra);oc&&M.destroyStream(Jb);Ia&&M.destroyStream(zb);Da&&M.destroyStream(pb);tb&&M.destroyStream(Ab);mb&&M.destroyStream(vb);ge.unbind()}qa.dirty=!0;bc.setVAO(null);p&&(V.cpuTime+=
performance.now()-u)},draw:function(d){var h,k,t,y,r,A,B,E,F,I,z,G,ha,ka,Z,N,ga,sa,pc,Gb,Ea,Ma,Rd,Sd,Ha,ib,rd,nd,vd,qd,hd,Uc,xd,Pc,Kc,qc,ab,hc,Cb,uc,Sa,Hc,$b,Zc,Cd,od,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb,fe,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd;h=P.next;h!==P.cur&&(h?x.bindFramebuffer(36160,h.framebuffer):x.bindFramebuffer(36160,null),P.cur=
h);if(qa.dirty){var rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc;rc=ca.dither;rc!==qa.dither&&(rc?x.enable(3024):x.disable(3024),qa.dither=rc);Hd=ca.depth_func;Hd!==qa.depth_func&&(x.depthFunc(Hd),qa.depth_func=Hd);Lc=td[0];jd=td[1];if(Lc!==vc[0]||jd!==vc[1])x.depthRange(Lc,jd),vc[0]=Lc,vc[1]=jd;fd=ca.depth_mask;fd!==qa.depth_mask&&(x.depthMask(fd),qa.depth_mask=fd);Vb=nc[0];ac=nc[1];Qb=nc[2];Ga=nc[3];if(Vb!==kc[0]||ac!==kc[1]||Qb!==kc[2]||Ga!==kc[3])x.colorMask(Vb,
ac,Qb,Ga),kc[0]=Vb,kc[1]=ac,kc[2]=Qb,kc[3]=Ga;Yb=ca.frontFace;Yb!==qa.frontFace&&(x.frontFace(Yb),qa.frontFace=Yb);mb=ca.lineWidth;mb!==qa.lineWidth&&(x.lineWidth(mb),qa.lineWidth=mb);vb=ca.polygonOffset_enable;vb!==qa.polygonOffset_enable&&(vb?x.enable(32823):x.disable(32823),qa.polygonOffset_enable=vb);Ob=aa[0];Rb=aa[1];if(Ob!==L[0]||Rb!==L[1])x.polygonOffset(Ob,Rb),L[0]=Ob,L[1]=Rb;ec=ca.sample_alpha;ec!==qa.sample_alpha&&(ec?x.enable(32926):x.disable(32926),qa.sample_alpha=ec);gc=ca.sample_enable;
gc!==qa.sample_enable&&(gc?x.enable(32928):x.disable(32928),qa.sample_enable=gc);Rc=ja[0];zc=ja[1];if(Rc!==Ba[0]||zc!==Ba[1])x.sampleCoverage(Rc,zc),Ba[0]=Rc,Ba[1]=zc;Ac=ca.stencil_mask;Ac!==qa.stencil_mask&&(x.stencilMask(Ac),qa.stencil_mask=Ac);Cc=Bc[0];Mc=Bc[1];bd=Bc[2];if(Cc!==C[0]||Mc!==C[1]||bd!==C[2])x.stencilFunc(Cc,Mc,bd),C[0]=Cc,C[1]=Mc,C[2]=bd;Sc=ua[0];Nc=ua[1];Lb=ua[2];Fb=ua[3];if(Sc!==U[0]||Nc!==U[1]||Lb!==U[2]||Fb!==U[3])x.stencilOpSeparate(Sc,Nc,Lb,Fb),U[0]=Sc,U[1]=Nc,U[2]=Lb,U[3]=
Fb;Oc=v[0];Gc=v[1];Tc=v[2];fc=v[3];if(Oc!==ia[0]||Gc!==ia[1]||Tc!==ia[2]||fc!==ia[3])x.stencilOpSeparate(Oc,Gc,Tc,fc),ia[0]=Oc,ia[1]=Gc,ia[2]=Tc,ia[3]=fc}k=d.viewport;t=k.x|0;y=k.y|0;r="width"in k?k.width|0:T.framebufferWidth-t;A="height"in k?k.height|0:T.framebufferHeight-y;B=T.viewportWidth;T.viewportWidth=r;E=T.viewportHeight;T.viewportHeight=A;x.viewport(t,y,r,A);ra[0]=t;ra[1]=y;ra[2]=r;ra[3]=A;x.blendColor(0,0,0,0);W[0]=0;W[1]=0;W[2]=0;W[3]=0;x.enable(3042);qa.blend_enable=!0;x.blendEquationSeparate(32774,
32774);ea[0]=32774;ea[1]=32774;x.blendFuncSeparate(770,771,773,1);cc[0]=770;cc[1]=771;cc[2]=773;cc[3]=1;x.enable(2884);qa.cull_enable=!0;x.cullFace(1029);qa.cull_face=1029;(F=p.call(this,T,d,0))?x.enable(2929):x.disable(2929);qa.depth_enable=F;I=d.viewport;z=I.x|0;G=I.y|0;ha="width"in I?I.width|0:T.framebufferWidth-z;ka="height"in I?I.height|0:T.framebufferHeight-G;x.scissor(z,G,ha,ka);Jc[0]=z;Jc[1]=G;Jc[2]=ha;Jc[3]=ka;x.enable(3089);qa.scissor_enable=!0;x.disable(2960);qa.stencil_enable=!1;if(Z=
qa.profile)N=performance.now(),V.count++;x.useProgram(H.program);ga=$a.angle_instanced_arrays;bc.setVAO(null);da.buffer=d.positionBuffer;sa=!1;pc=null;Gb=0;Ea=!1;Rd=Ma=0;Sd=1;Ha=0;ib=5126;qd=vd=nd=rd=0;la(da)?(sa=!0,pc=M.createStream(34962,da),ib=pc.dtype):(pc=M.getBuffer(da))?ib=pc.dtype:"constant"in da?(Sd=2,"number"===typeof da.constant?(nd=da.constant,vd=qd=rd=0):(nd=0<da.constant.length?da.constant[0]:0,vd=1<da.constant.length?da.constant[1]:0,qd=2<da.constant.length?da.constant[2]:0,rd=3<da.constant.length?
da.constant[3]:0)):(pc=la(da.buffer)?M.createStream(34962,da.buffer):M.getBuffer(da.buffer),ib="type"in da?D[da.type]:pc.dtype,Ea=!!da.normalized,Rd=da.size|0,Ma=da.offset|0,Ha=da.stride|0,Gb=da.divisor|0);hd=q.location;Uc=K[hd];if(1===Sd){Uc.buffer||x.enableVertexAttribArray(hd);xd=Rd||2;if(Uc.type!==ib||Uc.size!==xd||Uc.buffer!==pc||Uc.normalized!==Ea||Uc.offset!==Ma||Uc.stride!==Ha)x.bindBuffer(34962,pc.buffer),x.vertexAttribPointer(hd,xd,ib,Ea,Ha,Ma),Uc.type=ib,Uc.size=xd,Uc.buffer=pc,Uc.normalized=
Ea,Uc.offset=Ma,Uc.stride=Ha;Uc.divisor!==Gb&&(ga.vertexAttribDivisorANGLE(hd,Gb),Uc.divisor=Gb)}else if(Uc.buffer&&(x.disableVertexAttribArray(hd),Uc.buffer=null),Uc.x!==nd||Uc.y!==vd||Uc.z!==qd||Uc.w!==rd)x.vertexAttrib4f(hd,nd,vd,qd,rd),Uc.x=nd,Uc.y=vd,Uc.z=qd,Uc.w=rd;ya.buffer=d.positionBuffer;Pc=!1;Kc=null;qc=0;ab=!1;Cb=hc=0;uc=1;Sa=0;Hc=5126;od=Cd=Zc=$b=0;la(ya)?(Pc=!0,Kc=M.createStream(34962,ya),Hc=Kc.dtype):(Kc=M.getBuffer(ya))?Hc=Kc.dtype:"constant"in ya?(uc=2,"number"===typeof ya.constant?
(Zc=ya.constant,Cd=od=$b=0):(Zc=0<ya.constant.length?ya.constant[0]:0,Cd=1<ya.constant.length?ya.constant[1]:0,od=2<ya.constant.length?ya.constant[2]:0,$b=3<ya.constant.length?ya.constant[3]:0)):(Kc=la(ya.buffer)?M.createStream(34962,ya.buffer):M.getBuffer(ya.buffer),Hc="type"in ya?D[ya.type]:Kc.dtype,ab=!!ya.normalized,Cb=ya.size|0,hc=ya.offset|0,Sa=ya.stride|0,qc=ya.divisor|0);yc=R.location;Xb=K[yc];if(1===uc){Xb.buffer||x.enableVertexAttribArray(yc);Ec=Cb||2;if(Xb.type!==Hc||Xb.size!==Ec||Xb.buffer!==
Kc||Xb.normalized!==ab||Xb.offset!==hc||Xb.stride!==Sa)x.bindBuffer(34962,Kc.buffer),x.vertexAttribPointer(yc,Ec,Hc,ab,Sa,hc),Xb.type=Hc,Xb.size=Ec,Xb.buffer=Kc,Xb.normalized=ab,Xb.offset=hc,Xb.stride=Sa;Xb.divisor!==qc&&(ga.vertexAttribDivisorANGLE(yc,qc),Xb.divisor=qc)}else if(Xb.buffer&&(x.disableVertexAttribArray(yc),Xb.buffer=null),Xb.x!==Zc||Xb.y!==Cd||Xb.z!==od||Xb.w!==$b)x.vertexAttrib4f(yc,Zc,Cd,od,$b),Xb.x=Zc,Xb.y=Cd,Xb.z=od,Xb.w=$b;oa.buffer=d.positionBuffer;Qc=!1;Ka=null;Db=0;Va=!1;ud=
Ca=0;fb=1;Ra=0;Hb=5126;fe=Sb=$c=Wa=0;la(oa)?(Qc=!0,Ka=M.createStream(34962,oa),Hb=Ka.dtype):(Ka=M.getBuffer(oa))?Hb=Ka.dtype:"constant"in oa?(fb=2,"number"===typeof oa.constant?($c=oa.constant,Sb=fe=Wa=0):($c=0<oa.constant.length?oa.constant[0]:0,Sb=1<oa.constant.length?oa.constant[1]:0,fe=2<oa.constant.length?oa.constant[2]:0,Wa=3<oa.constant.length?oa.constant[3]:0)):(Ka=la(oa.buffer)?M.createStream(34962,oa.buffer):M.getBuffer(oa.buffer),Hb="type"in oa?D[oa.type]:Ka.dtype,Va=!!oa.normalized,ud=
oa.size|0,Ca=oa.offset|0,Ra=oa.stride|0,Db=oa.divisor|0);Zb=na.location;Tb=K[Zb];if(1===fb){Tb.buffer||x.enableVertexAttribArray(Zb);ld=ud||2;if(Tb.type!==Hb||Tb.size!==ld||Tb.buffer!==Ka||Tb.normalized!==Va||Tb.offset!==Ca||Tb.stride!==Ra)x.bindBuffer(34962,Ka.buffer),x.vertexAttribPointer(Zb,ld,Hb,Va,Ra,Ca),Tb.type=Hb,Tb.size=ld,Tb.buffer=Ka,Tb.normalized=Va,Tb.offset=Ca,Tb.stride=Ra;Tb.divisor!==Db&&(ga.vertexAttribDivisorANGLE(Zb,Db),Tb.divisor=Db)}else if(Tb.buffer&&(x.disableVertexAttribArray(Zb),
Tb.buffer=null),Tb.x!==$c||Tb.y!==Sb||Tb.z!==fe||Tb.w!==Wa)x.vertexAttrib4f(Zb,$c,Sb,fe,Wa),Tb.x=$c,Tb.y=Sb,Tb.z=fe,Tb.w=Wa;l.buffer=d.positionBuffer;Eb=!1;La=null;nb=0;sb=!1;Na=gb=0;oc=1;Jb=0;Vc=5126;ic=Fc=lc=cb=0;la(l)?(Eb=!0,La=M.createStream(34962,l),Vc=La.dtype):(La=M.getBuffer(l))?Vc=La.dtype:"constant"in l?(oc=2,"number"===typeof l.constant?(lc=l.constant,Fc=ic=cb=0):(lc=0<l.constant.length?l.constant[0]:0,Fc=1<l.constant.length?l.constant[1]:0,ic=2<l.constant.length?l.constant[2]:0,cb=3<l.constant.length?
l.constant[3]:0)):(La=la(l.buffer)?M.createStream(34962,l.buffer):M.getBuffer(l.buffer),Vc="type"in l?D[l.type]:La.dtype,sb=!!l.normalized,Na=l.size|0,gb=l.offset|0,Jb=l.stride|0,nb=l.divisor|0);jb=yb.location;kb=K[jb];if(1===oc){kb.buffer||x.enableVertexAttribArray(jb);ta=Na||2;if(kb.type!==Vc||kb.size!==ta||kb.buffer!==La||kb.normalized!==sb||kb.offset!==gb||kb.stride!==Jb)x.bindBuffer(34962,La.buffer),x.vertexAttribPointer(jb,ta,Vc,sb,Jb,gb),kb.type=Vc,kb.size=ta,kb.buffer=La,kb.normalized=sb,
kb.offset=gb,kb.stride=Jb;kb.divisor!==nb&&(ga.vertexAttribDivisorANGLE(jb,nb),kb.divisor=nb)}else if(kb.buffer&&(x.disableVertexAttribArray(jb),kb.buffer=null),kb.x!==lc||kb.y!==Fc||kb.z!==ic||kb.w!==cb)x.vertexAttrib4f(jb,lc,Fc,ic,cb),kb.x=lc,kb.y=Fc,kb.z=ic,kb.w=cb;w.buffer=d.colorBuffer;ob=!1;va=null;Ta=0;bb=!1;db=za=0;Ia=1;zb=0;xb=5126;Mb=Kb=Ic=Qa=0;la(w)?(ob=!0,va=M.createStream(34962,w),xb=va.dtype):(va=M.getBuffer(w))?xb=va.dtype:"constant"in w?(Ia=2,"number"===typeof w.constant?(Ic=w.constant,
Kb=Mb=Qa=0):(Ic=0<w.constant.length?w.constant[0]:0,Kb=1<w.constant.length?w.constant[1]:0,Mb=2<w.constant.length?w.constant[2]:0,Qa=3<w.constant.length?w.constant[3]:0)):(va=la(w.buffer)?M.createStream(34962,w.buffer):M.getBuffer(w.buffer),xb="type"in w?D[w.type]:va.dtype,bb=!!w.normalized,db=w.size|0,za=w.offset|0,zb=w.stride|0,Ta=w.divisor|0);Ub=g.location;wa=K[Ub];if(1===Ia){wa.buffer||x.enableVertexAttribArray(Ub);Ud=db||4;if(wa.type!==xb||wa.size!==Ud||wa.buffer!==va||wa.normalized!==bb||wa.offset!==
za||wa.stride!==zb)x.bindBuffer(34962,va.buffer),x.vertexAttribPointer(Ub,Ud,xb,bb,zb,za),wa.type=xb,wa.size=Ud,wa.buffer=va,wa.normalized=bb,wa.offset=za,wa.stride=zb;wa.divisor!==Ta&&(ga.vertexAttribDivisorANGLE(Ub,Ta),wa.divisor=Ta)}else if(wa.buffer&&(x.disableVertexAttribArray(Ub),wa.buffer=null),wa.x!==Ic||wa.y!==Kb||wa.z!==Mb||wa.w!==Qa)x.vertexAttrib4f(Ub,Ic,Kb,Mb,Qa),wa.x=Ic,wa.y=Kb,wa.z=Mb,wa.w=Qa;S.buffer=d.colorBuffer;Ja=!1;Pb=null;eb=0;hb=!1;dc=xa=0;Da=1;pb=0;qb=5126;ed=mc=Ya=Xa=0;la(S)?
(Ja=!0,Pb=M.createStream(34962,S),qb=Pb.dtype):(Pb=M.getBuffer(S))?qb=Pb.dtype:"constant"in S?(Da=2,"number"===typeof S.constant?(Ya=S.constant,mc=ed=Xa=0):(Ya=0<S.constant.length?S.constant[0]:0,mc=1<S.constant.length?S.constant[1]:0,ed=2<S.constant.length?S.constant[2]:0,Xa=3<S.constant.length?S.constant[3]:0)):(Pb=la(S.buffer)?M.createStream(34962,S.buffer):M.getBuffer(S.buffer),qb="type"in S?D[S.type]:Pb.dtype,hb=!!S.normalized,dc=S.size|0,xa=S.offset|0,pb=S.stride|0,eb=S.divisor|0);sc=Q.location;
Ua=K[sc];if(1===Da){Ua.buffer||x.enableVertexAttribArray(sc);Nb=dc||4;if(Ua.type!==qb||Ua.size!==Nb||Ua.buffer!==Pb||Ua.normalized!==hb||Ua.offset!==xa||Ua.stride!==pb)x.bindBuffer(34962,Pb.buffer),x.vertexAttribPointer(sc,Nb,qb,hb,pb,xa),Ua.type=qb,Ua.size=Nb,Ua.buffer=Pb,Ua.normalized=hb,Ua.offset=xa,Ua.stride=pb;Ua.divisor!==eb&&(ga.vertexAttribDivisorANGLE(sc,eb),Ua.divisor=eb)}else if(Ua.buffer&&(x.disableVertexAttribArray(sc),Ua.buffer=null),Ua.x!==Ya||Ua.y!==mc||Ua.z!==ed||Ua.w!==Xa)x.vertexAttrib4f(sc,
Ya,mc,ed,Xa),Ua.x=Ya,Ua.y=mc,Ua.z=ed,Ua.w=Xa;ad=fa.location;Fa=K[ad];Fa.buffer||x.enableVertexAttribArray(ad);if(5126!==Fa.type||1!==Fa.size||Fa.buffer!==f||!1!==Fa.normalized||0!==Fa.offset||8!==Fa.stride)x.bindBuffer(34962,f.buffer),x.vertexAttribPointer(ad,1,5126,!1,8,0),Fa.type=5126,Fa.size=1,Fa.buffer=f,Fa.normalized=!1,Fa.offset=0,Fa.stride=8;0!==Fa.divisor&&(ga.vertexAttribDivisorANGLE(ad,0),Fa.divisor=0);wc=b.location;Oa=K[wc];Oa.buffer||x.enableVertexAttribArray(wc);if(5126!==Oa.type||1!==
Oa.size||Oa.buffer!==a||!1!==Oa.normalized||4!==Oa.offset||8!==Oa.stride)x.bindBuffer(34962,a.buffer),x.vertexAttribPointer(wc,1,5126,!1,8,4),Oa.type=5126,Oa.size=1,Oa.buffer=a,Oa.normalized=!1,Oa.offset=4,Oa.stride=8;0!==Oa.divisor&&(ga.vertexAttribDivisorANGLE(wc,0),Oa.divisor=0);Aa=d.scale;x.uniform2f(Bb.location,Aa[0],Aa[1]);lb=d.translate;x.uniform2f(Pa.location,lb[0],lb[1]);x.uniform1f(ma.location,d.thickness);x.uniform1f(J.location,d.depth);tb=u.call(this,T,d,0);x.uniform4f(Y.location,tb[0],
tb[1],tb[2],tb[3]);x.uniform1f(e.location,d.miterLimit);Ab=c.call(this,T,d,0);x.uniform1f(ba.location,Ab);x.uniform1f(m.location,d.dashLength);x.uniform1f(Za.location,d.opacity);(rb=d.dashTexture)&&"framebuffer"===rb._reglType&&(rb=rb.color[0]);tc=rb._texture;x.uniform1i(pa.location,tc.bind());(ub=O.elements)?x.bindBuffer(34963,ub.buffer.buffer):bc.currentVAO&&(ub=Wb.getElements(bc.currentVAO.elements))&&x.bindBuffer(34963,ub.buffer.buffer);wd=d.count;0<wd?ub?ga.drawElementsInstancedANGLE(5,4,ub.type,
0<<(ub.type-5121>>1),wd):ga.drawArraysInstancedANGLE(5,0,4,wd):0>wd&&(ub?x.drawElements(5,4,ub.type,0<<(ub.type-5121>>1)):x.drawArrays(5,0,4));qa.dirty=!0;bc.setVAO(null);T.viewportWidth=B;T.viewportHeight=E;Z&&(V.cpuTime+=performance.now()-N);sa&&M.destroyStream(pc);Pc&&M.destroyStream(Kc);Qc&&M.destroyStream(Ka);Eb&&M.destroyStream(La);ob&&M.destroyStream(va);Ja&&M.destroyStream(Pb);tc.unbind()},scope:function(b,c,e){var d,g,h,k,q,m,p,u,v,x,L,C,H,aa,J,Q,K,P,R,G,U,W,ja,Y,ia,ba,ea,ua,nc,N,fa,pa,ra,
Ba,ab,pc,Cb,td,Sa,na,$b,ma,vc,Jc,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,cc,fb,Ra,Hb,Wa,kc,Sb,$a,Zb,Tb,Pa,Eb,La,nb,sb,gb,Na,oc,Jb,Bc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Wb,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,yb,rc,Bb,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,bc,Za,Yc,Tf,ie,ve,te,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,Xe,ze,xe,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,Jd,Ld,Md,he,Fe,we,me,Ye,Oe,Le,qe,Ce,Ge,
He,Ie,De,Gd,Pd,Wd,Zd,Je,zd,Nd,Ae,Ke,ff,Ve,Pe,Me,Ue,Te,Qe,Re,Od,Td,Se,gf,mf,cf,hf,jf,kf,qf,nf,rf,Af,Bf,Ne,Be,of,pf,Cf,Ff,zf,Df,Ef,vf,wf,uf,xf,yf;d=b.viewport;g=d.x|0;h=d.y|0;k="width"in d?d.width|0:T.framebufferWidth-g;q="height"in d?d.height|0:T.framebufferHeight-h;m=T.viewportWidth;T.viewportWidth=k;p=T.viewportHeight;T.viewportHeight=q;u=ha[0];ha[0]=g;v=ha[1];ha[1]=h;x=ha[2];ha[2]=k;L=ha[3];ha[3]=q;C=Ha[0];Ha[0]=0;H=Ha[1];Ha[1]=0;aa=Ha[2];Ha[2]=0;J=Ha[3];Ha[3]=0;Q=ca.blend_enable;ca.blend_enable=
!0;K=ib[0];ib[0]=32774;P=ib[1];ib[1]=32774;R=sa[0];sa[0]=770;G=sa[1];sa[1]=771;U=sa[2];sa[2]=773;W=sa[3];sa[3]=1;ja=ca.cull_enable;ca.cull_enable=!0;Y=ca.cull_face;ca.cull_face=1029;ia=r.call(this,T,b,e);ba=ca.depth_enable;ca.depth_enable=ia;ea=b.viewport;ua=ea.x|0;nc=ea.y|0;N="width"in ea?ea.width|0:T.framebufferWidth-ua;fa="height"in ea?ea.height|0:T.framebufferHeight-nc;pa=Gb[0];Gb[0]=ua;ra=Gb[1];Gb[1]=nc;Ba=Gb[2];Gb[2]=N;ab=Gb[3];Gb[3]=fa;pc=ca.scissor_enable;ca.scissor_enable=!0;Cb=ca.stencil_enable;
ca.stencil_enable=!1;if(td=qa.profile)Sa=performance.now(),V.count++;na=O.offset;O.offset=0;$b=O.count;O.count=4;ma=b.count;vc=O.instances;O.instances=ma;Jc=O.primitive;O.primitive=5;yc=b.dashLength;Xb=Ma[23];Ma[23]=yc;Ec=b.dashTexture;Qc=Ma[24];Ma[24]=Ec;Ka=b.depth;Db=Ma[22];Ma[22]=Ka;Va=b.id;Ca=Ma[31];Ma[31]=Va;cc=b.miterLimit;fb=Ma[32];Ma[32]=cc;Ra=z.call(this,T,b,e);Hb=Ma[33];Ma[33]=Ra;Wa=b.opacity;kc=Ma[10];Ma[10]=Wa;Sb=T.pixelRatio;$a=Ma[34];Ma[34]=Sb;Zb=b.scale;Tb=Ma[6];Ma[6]=Zb;Pa=b.scaleFract;
Eb=Ma[7];Ma[7]=Pa;La=b.thickness;nb=Ma[21];Ma[21]=La;sb=b.translate;gb=Ma[8];Ma[8]=sb;Na=b.translateFract;oc=Ma[9];Ma[9]=Na;Jb=ka.call(this,T,b,e);Bc=Ma[3];Ma[3]=Jb;w.buffer=b.colorBuffer;cb=!1;lc=null;Fc=0;ic=!1;kb=jb=0;ta=1;ob=0;va=5126;db=za=bb=Ta=0;la(w)?(cb=!0,lc=M.createStream(34962,w),va=lc.dtype):(lc=M.getBuffer(w))?va=lc.dtype:"constant"in w?(ta=2,"number"===typeof w.constant?(bb=w.constant,za=db=Ta=0):(bb=0<w.constant.length?w.constant[0]:0,za=1<w.constant.length?w.constant[1]:0,db=2<w.constant.length?
w.constant[2]:0,Ta=3<w.constant.length?w.constant[3]:0)):(lc=la(w.buffer)?M.createStream(34962,w.buffer):M.getBuffer(w.buffer),va="type"in w?D[w.type]:lc.dtype,ic=!!w.normalized,kb=w.size|0,jb=w.offset|0,ob=w.stride|0,Fc=w.divisor|0);Ia=F.buffer;F.buffer=lc;zb=F.divisor;F.divisor=Fc;xb=F.normalized;F.normalized=ic;Qa=F.offset;F.offset=jb;Ic=F.size;F.size=kb;Kb=F.state;F.state=ta;Mb=F.stride;F.stride=ob;Ub=F.type;F.type=va;wa=F.w;F.w=Ta;Wb=F.x;F.x=bb;Ja=F.y;F.y=za;Pb=F.z;F.z=db;da.buffer=b.positionBuffer;
eb=!1;hb=null;xa=0;dc=!1;pb=Da=0;qb=1;Xa=0;Ya=5126;Ua=sc=ed=mc=0;la(da)?(eb=!0,hb=M.createStream(34962,da),Ya=hb.dtype):(hb=M.getBuffer(da))?Ya=hb.dtype:"constant"in da?(qb=2,"number"===typeof da.constant?(ed=da.constant,sc=Ua=mc=0):(ed=0<da.constant.length?da.constant[0]:0,sc=1<da.constant.length?da.constant[1]:0,Ua=2<da.constant.length?da.constant[2]:0,mc=3<da.constant.length?da.constant[3]:0)):(hb=la(da.buffer)?M.createStream(34962,da.buffer):M.getBuffer(da.buffer),Ya="type"in da?D[da.type]:hb.dtype,
dc=!!da.normalized,pb=da.size|0,Da=da.offset|0,Xa=da.stride|0,xa=da.divisor|0);Nb=B.buffer;B.buffer=hb;ad=B.divisor;B.divisor=xa;Fa=B.normalized;B.normalized=dc;wc=B.offset;B.offset=Da;Oa=B.size;B.size=pb;Aa=B.state;B.state=qb;lb=B.stride;B.stride=Xa;tb=B.type;B.type=Ya;Ab=B.w;B.w=mc;rb=B.x;B.x=ed;tc=B.y;B.y=sc;ub=B.z;B.z=Ua;S.buffer=b.colorBuffer;yb=!1;rc=null;Bb=0;Lc=!1;fd=jd=0;Vb=1;ac=0;Qb=5126;vb=mb=Yb=Ga=0;la(S)?(yb=!0,rc=M.createStream(34962,S),Qb=rc.dtype):(rc=M.getBuffer(S))?Qb=rc.dtype:"constant"in
S?(Vb=2,"number"===typeof S.constant?(Yb=S.constant,mb=vb=Ga=0):(Yb=0<S.constant.length?S.constant[0]:0,mb=1<S.constant.length?S.constant[1]:0,vb=2<S.constant.length?S.constant[2]:0,Ga=3<S.constant.length?S.constant[3]:0)):(rc=la(S.buffer)?M.createStream(34962,S.buffer):M.getBuffer(S.buffer),Qb="type"in S?D[S.type]:rc.dtype,Lc=!!S.normalized,fd=S.size|0,jd=S.offset|0,ac=S.stride|0,Bb=S.divisor|0);Ob=t.buffer;t.buffer=rc;Rb=t.divisor;t.divisor=Bb;ec=t.normalized;t.normalized=Lc;gc=t.offset;t.offset=
jd;Rc=t.size;t.size=fd;zc=t.state;t.state=Vb;Ac=t.stride;t.stride=ac;Cc=t.type;t.type=Qb;Mc=t.w;t.w=Ga;bd=t.x;t.x=Yb;Sc=t.y;t.y=mb;Nc=t.z;t.z=vb;ya.buffer=b.positionBuffer;Lb=!1;Fb=null;Oc=0;Gc=!1;fc=Tc=0;Xc=1;gd=0;bc=5126;ie=Tf=Yc=Za=0;la(ya)?(Lb=!0,Fb=M.createStream(34962,ya),bc=Fb.dtype):(Fb=M.getBuffer(ya))?bc=Fb.dtype:"constant"in ya?(Xc=2,"number"===typeof ya.constant?(Yc=ya.constant,Tf=ie=Za=0):(Yc=0<ya.constant.length?ya.constant[0]:0,Tf=1<ya.constant.length?ya.constant[1]:0,ie=2<ya.constant.length?
ya.constant[2]:0,Za=3<ya.constant.length?ya.constant[3]:0)):(Fb=la(ya.buffer)?M.createStream(34962,ya.buffer):M.getBuffer(ya.buffer),bc="type"in ya?D[ya.type]:Fb.dtype,Gc=!!ya.normalized,fc=ya.size|0,Tc=ya.offset|0,gd=ya.stride|0,Oc=ya.divisor|0);ve=A.buffer;A.buffer=Fb;te=A.divisor;A.divisor=Oc;be=A.normalized;A.normalized=Gc;Fd=A.offset;A.offset=Tc;Dd=A.size;A.size=fc;id=A.state;A.state=Xc;Dc=A.stride;A.stride=gd;pd=A.type;A.type=bc;kd=A.w;A.w=Za;dd=A.x;A.x=Yc;md=A.y;A.y=Tf;Ad=A.z;A.z=ie;Bd=I.buffer;
I.buffer=f;Xe=I.divisor;I.divisor=0;ze=I.normalized;I.normalized=!1;xe=I.offset;I.offset=0;de=I.size;I.size=0;ce=I.state;I.state=1;$d=I.stride;I.stride=8;oe=I.type;I.type=5126;Yd=I.w;I.w=0;ge=I.x;I.x=0;xc=I.y;I.y=0;Wc=I.z;I.z=0;pe=y.buffer;y.buffer=a;je=y.divisor;y.divisor=0;Ed=y.normalized;y.normalized=!1;Jd=y.offset;y.offset=4;Ld=y.size;y.size=0;Md=y.state;y.state=1;he=y.stride;y.stride=8;Fe=y.type;y.type=5126;we=y.w;y.w=0;me=y.x;y.x=0;Ye=y.y;y.y=0;Oe=y.z;y.z=0;oa.buffer=b.positionBuffer;Le=!1;
qe=null;Ce=0;Ge=!1;Ie=He=0;De=1;Gd=0;Pd=5126;zd=Je=Zd=Wd=0;la(oa)?(Le=!0,qe=M.createStream(34962,oa),Pd=qe.dtype):(qe=M.getBuffer(oa))?Pd=qe.dtype:"constant"in oa?(De=2,"number"===typeof oa.constant?(Zd=oa.constant,Je=zd=Wd=0):(Zd=0<oa.constant.length?oa.constant[0]:0,Je=1<oa.constant.length?oa.constant[1]:0,zd=2<oa.constant.length?oa.constant[2]:0,Wd=3<oa.constant.length?oa.constant[3]:0)):(qe=la(oa.buffer)?M.createStream(34962,oa.buffer):M.getBuffer(oa.buffer),Pd="type"in oa?D[oa.type]:qe.dtype,
Ge=!!oa.normalized,Ie=oa.size|0,He=oa.offset|0,Gd=oa.stride|0,Ce=oa.divisor|0);Nd=E.buffer;E.buffer=qe;Ae=E.divisor;E.divisor=Ce;Ke=E.normalized;E.normalized=Ge;ff=E.offset;E.offset=He;Ve=E.size;E.size=Ie;Pe=E.state;E.state=De;Me=E.stride;E.stride=Gd;Ue=E.type;E.type=Pd;Te=E.w;E.w=Wd;Qe=E.x;E.x=Zd;Re=E.y;E.y=Je;Od=E.z;E.z=zd;l.buffer=b.positionBuffer;Td=!1;Se=null;gf=0;mf=!1;hf=cf=0;jf=1;kf=0;qf=5126;Bf=Af=rf=nf=0;la(l)?(Td=!0,Se=M.createStream(34962,l),qf=Se.dtype):(Se=M.getBuffer(l))?qf=Se.dtype:
"constant"in l?(jf=2,"number"===typeof l.constant?(rf=l.constant,Af=Bf=nf=0):(rf=0<l.constant.length?l.constant[0]:0,Af=1<l.constant.length?l.constant[1]:0,Bf=2<l.constant.length?l.constant[2]:0,nf=3<l.constant.length?l.constant[3]:0)):(Se=la(l.buffer)?M.createStream(34962,l.buffer):M.getBuffer(l.buffer),qf="type"in l?D[l.type]:Se.dtype,mf=!!l.normalized,hf=l.size|0,cf=l.offset|0,kf=l.stride|0,gf=l.divisor|0);Ne=Z.buffer;Z.buffer=Se;Be=Z.divisor;Z.divisor=gf;of=Z.normalized;Z.normalized=mf;pf=Z.offset;
Z.offset=cf;Cf=Z.size;Z.size=hf;Ff=Z.state;Z.state=jf;zf=Z.stride;Z.stride=kf;Df=Z.type;Z.type=qf;Ef=Z.w;Z.w=nf;vf=Z.x;Z.x=rf;wf=Z.y;Z.y=Af;uf=Z.z;Z.z=Bf;xf=Ea.vert;Ea.vert=36;yf=Ea.frag;Ea.frag=35;qa.dirty=!0;c(T,b,e);T.viewportWidth=m;T.viewportHeight=p;ha[0]=u;ha[1]=v;ha[2]=x;ha[3]=L;Ha[0]=C;Ha[1]=H;Ha[2]=aa;Ha[3]=J;ca.blend_enable=Q;ib[0]=K;ib[1]=P;sa[0]=R;sa[1]=G;sa[2]=U;sa[3]=W;ca.cull_enable=ja;ca.cull_face=Y;ca.depth_enable=ba;Gb[0]=pa;Gb[1]=ra;Gb[2]=Ba;Gb[3]=ab;ca.scissor_enable=pc;ca.stencil_enable=
Cb;td&&(V.cpuTime+=performance.now()-Sa);O.offset=na;O.count=$b;O.instances=vc;O.primitive=Jc;Ma[23]=Xb;Ma[24]=Qc;Ma[22]=Db;Ma[31]=Ca;Ma[32]=fb;Ma[33]=Hb;Ma[10]=kc;Ma[34]=$a;Ma[6]=Tb;Ma[7]=Eb;Ma[21]=nb;Ma[8]=gb;Ma[9]=oc;Ma[3]=Bc;cb&&M.destroyStream(lc);F.buffer=Ia;F.divisor=zb;F.normalized=xb;F.offset=Qa;F.size=Ic;F.state=Kb;F.stride=Mb;F.type=Ub;F.w=wa;F.x=Wb;F.y=Ja;F.z=Pb;eb&&M.destroyStream(hb);B.buffer=Nb;B.divisor=ad;B.normalized=Fa;B.offset=wc;B.size=Oa;B.state=Aa;B.stride=lb;B.type=tb;B.w=
Ab;B.x=rb;B.y=tc;B.z=ub;yb&&M.destroyStream(rc);t.buffer=Ob;t.divisor=Rb;t.normalized=ec;t.offset=gc;t.size=Rc;t.state=zc;t.stride=Ac;t.type=Cc;t.w=Mc;t.x=bd;t.y=Sc;t.z=Nc;Lb&&M.destroyStream(Fb);A.buffer=ve;A.divisor=te;A.normalized=be;A.offset=Fd;A.size=Dd;A.state=id;A.stride=Dc;A.type=pd;A.w=kd;A.x=dd;A.y=md;A.z=Ad;I.buffer=Bd;I.divisor=Xe;I.normalized=ze;I.offset=xe;I.size=de;I.state=ce;I.stride=$d;I.type=oe;I.w=Yd;I.x=ge;I.y=xc;I.z=Wc;y.buffer=pe;y.divisor=je;y.normalized=Ed;y.offset=Jd;y.size=
Ld;y.state=Md;y.stride=he;y.type=Fe;y.w=we;y.x=me;y.y=Ye;y.z=Oe;Le&&M.destroyStream(qe);E.buffer=Nd;E.divisor=Ae;E.normalized=Ke;E.offset=ff;E.size=Ve;E.state=Pe;E.stride=Me;E.type=Ue;E.w=Te;E.x=Qe;E.y=Re;E.z=Od;Td&&M.destroyStream(Se);Z.buffer=Ne;Z.divisor=Be;Z.normalized=of;Z.offset=pf;Z.size=Cf;Z.state=Ff;Z.stride=zf;Z.type=Df;Z.w=Ef;Z.x=vf;Z.y=wf;Z.z=uf;Ea.vert=xf;Ea.frag=yf;qa.dirty=!0}}},"$9,color,id,opacity,position,positionFract,scale,scaleFract,translate,translateFract":function(d,V,p,H,
f,a,u,c,r,z,ka,F,B,t,A,I,y,E,Z){var G,N,k,h,g,q,Q,R,m,pa,J,fa,b,e,ba,na,Za,yb,Bb,ma,Pa,Y,K,M,T,qa,O,Wb,$a,P,x,la,ca,Ea,Ma,bc,Ha,W,ib,ea,sa;G=d.attributes;N=d.buffer;k=d.context;h=d.current;g=d.draw;q=d.elements;Q=d.extensions;R=d.framebuffer;m=d.gl;pa=d.isBufferArgs;J=d.next;fa=d.shader;b=d.uniforms;e=d.vao;ba=J.blend_color;na=h.blend_color;Za=J.blend_equation;yb=h.blend_equation;Bb=J.blend_func;ma=h.blend_func;Pa=J.colorMask;Y=h.colorMask;K=J.depth_range;M=h.depth_range;T=J.polygonOffset_offset;
qa=h.polygonOffset_offset;O=J.sample_coverage;Wb=h.sample_coverage;$a=J.scissor_box;P=h.scissor_box;x=J.stencil_func;la=h.stencil_func;ca=J.stencil_opBack;Ea=h.stencil_opBack;Ma=J.stencil_opFront;bc=h.stencil_opFront;Ha=J.viewport;W=h.viewport;ib={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};ea={offset:8,stride:8};sa={offset:8,stride:8};return{batch:function(a,b){var c,d,f,p,u,H;c=R.next;c!==R.cur&&(c?m.bindFramebuffer(36160,c.framebuffer):m.bindFramebuffer(36160,
null),R.cur=c);if(h.dirty){var ba,fa,Jc,Ha,C,v,ia,ua,U,ha,ra,D,w,da,S,ya,oa,l,jc,X,n,Ib,wb,$a,Za,Bb,ae,cd,re,sd,ee,ue;ba=J.dither;ba!==h.dither&&(ba?m.enable(3024):m.disable(3024),h.dither=ba);fa=J.depth_func;fa!==h.depth_func&&(m.depthFunc(fa),h.depth_func=fa);Jc=K[0];Ha=K[1];if(Jc!==M[0]||Ha!==M[1])m.depthRange(Jc,Ha),M[0]=Jc,M[1]=Ha;C=J.depth_mask;C!==h.depth_mask&&(m.depthMask(C),h.depth_mask=C);v=Pa[0];ia=Pa[1];ua=Pa[2];U=Pa[3];if(v!==Y[0]||ia!==Y[1]||ua!==Y[2]||U!==Y[3])m.colorMask(v,ia,ua,
U),Y[0]=v,Y[1]=ia,Y[2]=ua,Y[3]=U;ha=J.cull_enable;ha!==h.cull_enable&&(ha?m.enable(2884):m.disable(2884),h.cull_enable=ha);ra=J.cull_face;ra!==h.cull_face&&(m.cullFace(ra),h.cull_face=ra);D=J.frontFace;D!==h.frontFace&&(m.frontFace(D),h.frontFace=D);w=J.lineWidth;w!==h.lineWidth&&(m.lineWidth(w),h.lineWidth=w);da=J.polygonOffset_enable;da!==h.polygonOffset_enable&&(da?m.enable(32823):m.disable(32823),h.polygonOffset_enable=da);S=T[0];ya=T[1];if(S!==qa[0]||ya!==qa[1])m.polygonOffset(S,ya),qa[0]=S,
qa[1]=ya;oa=J.sample_alpha;oa!==h.sample_alpha&&(oa?m.enable(32926):m.disable(32926),h.sample_alpha=oa);l=J.sample_enable;l!==h.sample_enable&&(l?m.enable(32928):m.disable(32928),h.sample_enable=l);jc=O[0];X=O[1];if(jc!==Wb[0]||X!==Wb[1])m.sampleCoverage(jc,X),Wb[0]=jc,Wb[1]=X;n=J.stencil_mask;n!==h.stencil_mask&&(m.stencilMask(n),h.stencil_mask=n);Ib=x[0];wb=x[1];$a=x[2];if(Ib!==la[0]||wb!==la[1]||$a!==la[2])m.stencilFunc(Ib,wb,$a),la[0]=Ib,la[1]=wb,la[2]=$a;Za=Ma[0];Bb=Ma[1];ae=Ma[2];cd=Ma[3];if(Za!==
bc[0]||Bb!==bc[1]||ae!==bc[2]||cd!==bc[3])m.stencilOpSeparate(Za,Bb,ae,cd),bc[0]=Za,bc[1]=Bb,bc[2]=ae,bc[3]=cd;re=ca[0];sd=ca[1];ee=ca[2];ue=ca[3];if(re!==Ea[0]||sd!==Ea[1]||ee!==Ea[2]||ue!==Ea[3])m.stencilOpSeparate(re,sd,ee,ue),Ea[0]=re,Ea[1]=sd,Ea[2]=ee,Ea[3]=ue}m.blendColor(0,0,0,0);na[0]=0;na[1]=0;na[2]=0;na[3]=0;m.enable(3042);h.blend_enable=!0;m.blendEquationSeparate(32774,32774);yb[0]=32774;yb[1]=32774;m.blendFuncSeparate(770,771,773,1);ma[0]=770;ma[1]=771;ma[2]=773;ma[3]=1;m.disable(2929);
h.depth_enable=!1;m.enable(3089);h.scissor_enable=!0;m.disable(2960);h.stencil_enable=!1;if(d=h.profile)f=performance.now(),V.count+=b;m.useProgram(r.program);p=Q.angle_instanced_arrays;var Id;e.setVAO(null);Id=g.instances;for(u=0;u<b;++u){H=a[u];var Qd,Xd,Kd,Ze,lf,bf,yd,Ee,Rd,Sd,le,ne,rd,nd,vd,qd,hd,Uc,xd,Pc,Kc,qc,ab,hc,Cb,uc,Sa,Hc,$b,Zc,Cd,od,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb,fe,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub;Qd=H.viewport;
Xd=Qd.x|0;Kd=Qd.y|0;Ze="width"in Qd?Qd.width|0:k.framebufferWidth-Xd;lf="height"in Qd?Qd.height|0:k.framebufferHeight-Kd;bf=k.viewportWidth;k.viewportWidth=Ze;yd=k.viewportHeight;k.viewportHeight=lf;m.viewport(Xd,Kd,Ze,lf);W[0]=Xd;W[1]=Kd;W[2]=Ze;W[3]=lf;Ee=H.viewport;Rd=Ee.x|0;Sd=Ee.y|0;le="width"in Ee?Ee.width|0:k.framebufferWidth-Rd;ne="height"in Ee?Ee.height|0:k.framebufferHeight-Sd;m.scissor(Rd,Sd,le,ne);P[0]=Rd;P[1]=Sd;P[2]=le;P[3]=ne;ea.buffer=H.positionBuffer;rd=!1;nd=null;vd=0;qd=!1;Uc=hd=
0;xd=1;Pc=0;Kc=5126;Cb=hc=ab=qc=0;pa(ea)?(rd=!0,nd=N.createStream(34962,ea),Kc=nd.dtype):(nd=N.getBuffer(ea))?Kc=nd.dtype:"constant"in ea?(xd=2,"number"===typeof ea.constant?(ab=ea.constant,hc=Cb=qc=0):(ab=0<ea.constant.length?ea.constant[0]:0,hc=1<ea.constant.length?ea.constant[1]:0,Cb=2<ea.constant.length?ea.constant[2]:0,qc=3<ea.constant.length?ea.constant[3]:0)):(nd=pa(ea.buffer)?N.createStream(34962,ea.buffer):N.getBuffer(ea.buffer),Kc="type"in ea?ib[ea.type]:nd.dtype,qd=!!ea.normalized,Uc=ea.size|
0,hd=ea.offset|0,Pc=ea.stride|0,vd=ea.divisor|0);uc=t.location;Sa=G[uc];if(1===xd){Sa.buffer||m.enableVertexAttribArray(uc);Hc=Uc||2;if(Sa.type!==Kc||Sa.size!==Hc||Sa.buffer!==nd||Sa.normalized!==qd||Sa.offset!==hd||Sa.stride!==Pc)m.bindBuffer(34962,nd.buffer),m.vertexAttribPointer(uc,Hc,Kc,qd,Pc,hd),Sa.type=Kc,Sa.size=Hc,Sa.buffer=nd,Sa.normalized=qd,Sa.offset=hd,Sa.stride=Pc;Sa.divisor!==vd&&(p.vertexAttribDivisorANGLE(uc,vd),Sa.divisor=vd)}else if(Sa.buffer&&(m.disableVertexAttribArray(uc),Sa.buffer=
null),Sa.x!==ab||Sa.y!==hc||Sa.z!==Cb||Sa.w!==qc)m.vertexAttrib4f(uc,ab,hc,Cb,qc),Sa.x=ab,Sa.y=hc,Sa.z=Cb,Sa.w=qc;sa.buffer=H.positionFractBuffer;$b=!1;Zc=null;Cd=0;od=!1;Xb=yc=0;Ec=1;Qc=0;Ka=5126;ud=Ca=Va=Db=0;pa(sa)?($b=!0,Zc=N.createStream(34962,sa),Ka=Zc.dtype):(Zc=N.getBuffer(sa))?Ka=Zc.dtype:"constant"in sa?(Ec=2,"number"===typeof sa.constant?(Va=sa.constant,Ca=ud=Db=0):(Va=0<sa.constant.length?sa.constant[0]:0,Ca=1<sa.constant.length?sa.constant[1]:0,ud=2<sa.constant.length?sa.constant[2]:
0,Db=3<sa.constant.length?sa.constant[3]:0)):(Zc=pa(sa.buffer)?N.createStream(34962,sa.buffer):N.getBuffer(sa.buffer),Ka="type"in sa?ib[sa.type]:Zc.dtype,od=!!sa.normalized,Xb=sa.size|0,yc=sa.offset|0,Qc=sa.stride|0,Cd=sa.divisor|0);fb=A.location;Ra=G[fb];if(1===Ec){Ra.buffer||m.enableVertexAttribArray(fb);Hb=Xb||2;if(Ra.type!==Ka||Ra.size!==Hb||Ra.buffer!==Zc||Ra.normalized!==od||Ra.offset!==yc||Ra.stride!==Qc)m.bindBuffer(34962,Zc.buffer),m.vertexAttribPointer(fb,Hb,Ka,od,Qc,yc),Ra.type=Ka,Ra.size=
Hb,Ra.buffer=Zc,Ra.normalized=od,Ra.offset=yc,Ra.stride=Qc;Ra.divisor!==Cd&&(p.vertexAttribDivisorANGLE(fb,Cd),Ra.divisor=Cd)}else if(Ra.buffer&&(m.disableVertexAttribArray(fb),Ra.buffer=null),Ra.x!==Va||Ra.y!==Ca||Ra.z!==ud||Ra.w!==Db)m.vertexAttrib4f(fb,Va,Ca,ud,Db),Ra.x=Va,Ra.y=Ca,Ra.z=ud,Ra.w=Db;Wa=H.fill;$c=Wa[0];fe=Wa[1];Tb=Wa[2];Eb=Wa[3];u&&Sb===$c&&Zb===fe&&ld===Tb&&La===Eb||(Sb=$c,Zb=fe,ld=Tb,La=Eb,m.uniform4f(ka.location,$c,fe,Tb,Eb));nb=H.scale;sb=nb[0];Na=nb[1];u&&gb===sb&&oc===Na||(gb=
sb,oc=Na,m.uniform2f(I.location,sb,Na));Jb=H.scaleFract;Vc=Jb[0];lc=Jb[1];u&&cb===Vc&&Fc===lc||(cb=Vc,Fc=lc,m.uniform2f(y.location,Vc,lc));ic=H.translate;jb=ic[0];ta=ic[1];u&&kb===jb&&ob===ta||(kb=jb,ob=ta,m.uniform2f(E.location,jb,ta));va=H.translateFract;Ta=va[0];za=va[1];u&&bb===Ta&&db===za||(bb=Ta,db=za,m.uniform2f(Z.location,Ta,za));Ia=H.id;u&&zb===Ia||(zb=Ia,m.uniform1f(F.location,Ia));xb=H.opacity;u&&Qa===xb||(Qa=xb,m.uniform1f(B.location,xb));Ic=z.call(this,k,H,u);Kb=null;(Kb=(Mb=pa(Ic))?
q.createStream(Ic):q.getElements(Ic))&&m.bindBuffer(34963,Kb.buffer.buffer);if(Ub=Kb?Kb.vertCount:-1)0<Id?Kb?p.drawElementsInstancedANGLE(4,Ub,Kb.type,0<<(Kb.type-5121>>1),Id):p.drawArraysInstancedANGLE(4,0,Ub,Id):0>Id&&(Kb?m.drawElements(4,Ub,Kb.type,0<<(Kb.type-5121>>1)):m.drawArrays(4,0,Ub)),k.viewportWidth=bf,k.viewportHeight=yd,rd&&N.destroyStream(nd),$b&&N.destroyStream(Zc),Mb&&q.destroyStream(Kb)}h.dirty=!0;e.setVAO(null);d&&(V.cpuTime+=performance.now()-f)},draw:function(a){var b,c,d,f,u,
r,z,ba,fa,ga,Ha,C,v,ia,ua,U,ha,ra,D,w,da,S;b=R.next;b!==R.cur&&(b?m.bindFramebuffer(36160,b.framebuffer):m.bindFramebuffer(36160,null),R.cur=b);if(h.dirty){b=J.dither;b!==h.dither&&(b?m.enable(3024):m.disable(3024),h.dither=b);b=J.depth_func;b!==h.depth_func&&(m.depthFunc(b),h.depth_func=b);b=K[0];r=K[1];if(b!==M[0]||r!==M[1])m.depthRange(b,r),M[0]=b,M[1]=r;b=J.depth_mask;b!==h.depth_mask&&(m.depthMask(b),h.depth_mask=b);b=Pa[0];r=Pa[1];c=Pa[2];d=Pa[3];if(b!==Y[0]||r!==Y[1]||c!==Y[2]||d!==Y[3])m.colorMask(b,
r,c,d),Y[0]=b,Y[1]=r,Y[2]=c,Y[3]=d;b=J.cull_enable;b!==h.cull_enable&&(b?m.enable(2884):m.disable(2884),h.cull_enable=b);b=J.cull_face;b!==h.cull_face&&(m.cullFace(b),h.cull_face=b);b=J.frontFace;b!==h.frontFace&&(m.frontFace(b),h.frontFace=b);b=J.lineWidth;b!==h.lineWidth&&(m.lineWidth(b),h.lineWidth=b);b=J.polygonOffset_enable;b!==h.polygonOffset_enable&&(b?m.enable(32823):m.disable(32823),h.polygonOffset_enable=b);b=T[0];r=T[1];if(b!==qa[0]||r!==qa[1])m.polygonOffset(b,r),qa[0]=b,qa[1]=r;b=J.sample_alpha;
b!==h.sample_alpha&&(b?m.enable(32926):m.disable(32926),h.sample_alpha=b);b=J.sample_enable;b!==h.sample_enable&&(b?m.enable(32928):m.disable(32928),h.sample_enable=b);b=O[0];r=O[1];if(b!==Wb[0]||r!==Wb[1])m.sampleCoverage(b,r),Wb[0]=b,Wb[1]=r;b=J.stencil_mask;b!==h.stencil_mask&&(m.stencilMask(b),h.stencil_mask=b);b=x[0];r=x[1];c=x[2];if(b!==la[0]||r!==la[1]||c!==la[2])m.stencilFunc(b,r,c),la[0]=b,la[1]=r,la[2]=c;b=Ma[0];r=Ma[1];c=Ma[2];d=Ma[3];if(b!==bc[0]||r!==bc[1]||c!==bc[2]||d!==bc[3])m.stencilOpSeparate(b,
r,c,d),bc[0]=b,bc[1]=r,bc[2]=c,bc[3]=d;b=ca[0];r=ca[1];c=ca[2];d=ca[3];if(b!==Ea[0]||r!==Ea[1]||c!==Ea[2]||d!==Ea[3])m.stencilOpSeparate(b,r,c,d),Ea[0]=b,Ea[1]=r,Ea[2]=c,Ea[3]=d}b=a.viewport;c=b.x|0;d=b.y|0;f="width"in b?b.width|0:k.framebufferWidth-c;u="height"in b?b.height|0:k.framebufferHeight-d;b=k.viewportWidth;k.viewportWidth=f;r=k.viewportHeight;k.viewportHeight=u;m.viewport(c,d,f,u);W[0]=c;W[1]=d;W[2]=f;W[3]=u;m.blendColor(0,0,0,0);na[0]=0;na[1]=0;na[2]=0;na[3]=0;m.enable(3042);h.blend_enable=
!0;m.blendEquationSeparate(32774,32774);yb[0]=32774;yb[1]=32774;m.blendFuncSeparate(770,771,773,1);ma[0]=770;ma[1]=771;ma[2]=773;ma[3]=1;m.disable(2929);h.depth_enable=!1;u=a.viewport;c=u.x|0;d=u.y|0;f="width"in u?u.width|0:k.framebufferWidth-c;u="height"in u?u.height|0:k.framebufferHeight-d;m.scissor(c,d,f,u);P[0]=c;P[1]=d;P[2]=f;P[3]=u;m.enable(3089);h.scissor_enable=!0;m.disable(2960);h.stencil_enable=!1;if(c=h.profile)z=performance.now(),V.count++;m.useProgram(p.program);d=Q.angle_instanced_arrays;
e.setVAO(null);ea.buffer=a.positionBuffer;f=!1;ba=0;fa=!1;Ha=ga=0;C=1;v=0;ia=5126;ra=ha=U=ua=0;pa(ea)?(f=!0,u=N.createStream(34962,ea),ia=u.dtype):(u=N.getBuffer(ea))?ia=u.dtype:"constant"in ea?(C=2,"number"===typeof ea.constant?(U=ea.constant,ha=ra=ua=0):(U=0<ea.constant.length?ea.constant[0]:0,ha=1<ea.constant.length?ea.constant[1]:0,ra=2<ea.constant.length?ea.constant[2]:0,ua=3<ea.constant.length?ea.constant[3]:0)):(u=pa(ea.buffer)?N.createStream(34962,ea.buffer):N.getBuffer(ea.buffer),ia="type"in
ea?ib[ea.type]:u.dtype,fa=!!ea.normalized,Ha=ea.size|0,ga=ea.offset|0,v=ea.stride|0,ba=ea.divisor|0);D=t.location;w=G[D];if(1===C){w.buffer||m.enableVertexAttribArray(D);Ha=Ha||2;if(w.type!==ia||w.size!==Ha||w.buffer!==u||w.normalized!==fa||w.offset!==ga||w.stride!==v)m.bindBuffer(34962,u.buffer),m.vertexAttribPointer(D,Ha,ia,fa,v,ga),w.type=ia,w.size=Ha,w.buffer=u,w.normalized=fa,w.offset=ga,w.stride=v;w.divisor!==ba&&(d.vertexAttribDivisorANGLE(D,ba),w.divisor=ba)}else if(w.buffer&&(m.disableVertexAttribArray(D),
w.buffer=null),w.x!==U||w.y!==ha||w.z!==ra||w.w!==ua)m.vertexAttrib4f(D,U,ha,ra,ua),w.x=U,w.y=ha,w.z=ra,w.w=ua;sa.buffer=a.positionFractBuffer;ba=!1;ga=0;v=!1;ua=ia=0;U=1;D=0;w=5126;S=da=ra=ha=0;pa(sa)?(ba=!0,fa=N.createStream(34962,sa),w=fa.dtype):(fa=N.getBuffer(sa))?w=fa.dtype:"constant"in sa?(U=2,"number"===typeof sa.constant?(ra=sa.constant,da=S=ha=0):(ra=0<sa.constant.length?sa.constant[0]:0,da=1<sa.constant.length?sa.constant[1]:0,S=2<sa.constant.length?sa.constant[2]:0,ha=3<sa.constant.length?
sa.constant[3]:0)):(fa=pa(sa.buffer)?N.createStream(34962,sa.buffer):N.getBuffer(sa.buffer),w="type"in sa?ib[sa.type]:fa.dtype,v=!!sa.normalized,ua=sa.size|0,ia=sa.offset|0,D=sa.stride|0,ga=sa.divisor|0);Ha=A.location;C=G[Ha];if(1===U){C.buffer||m.enableVertexAttribArray(Ha);ua=ua||2;if(C.type!==w||C.size!==ua||C.buffer!==fa||C.normalized!==v||C.offset!==ia||C.stride!==D)m.bindBuffer(34962,fa.buffer),m.vertexAttribPointer(Ha,ua,w,v,D,ia),C.type=w,C.size=ua,C.buffer=fa,C.normalized=v,C.offset=ia,C.stride=
D;C.divisor!==ga&&(d.vertexAttribDivisorANGLE(Ha,ga),C.divisor=ga)}else if(C.buffer&&(m.disableVertexAttribArray(Ha),C.buffer=null),C.x!==ra||C.y!==da||C.z!==S||C.w!==ha)m.vertexAttrib4f(Ha,ra,da,S,ha),C.x=ra,C.y=da,C.z=S,C.w=ha;ga=a.fill;m.uniform4f(ka.location,ga[0],ga[1],ga[2],ga[3]);ga=a.scale;m.uniform2f(I.location,ga[0],ga[1]);ga=a.scaleFract;m.uniform2f(y.location,ga[0],ga[1]);ga=a.translate;m.uniform2f(E.location,ga[0],ga[1]);ga=a.translateFract;m.uniform2f(Z.location,ga[0],ga[1]);m.uniform1f(F.location,
a.id);m.uniform1f(B.location,a.opacity);ga=H.call(this,k,a,0);(ga=(a=pa(ga))?q.createStream(ga):q.getElements(ga))&&m.bindBuffer(34963,ga.buffer.buffer);if(v=ga?ga.vertCount:-1)ia=g.instances,0<ia?ga?d.drawElementsInstancedANGLE(4,v,ga.type,0<<(ga.type-5121>>1),ia):d.drawArraysInstancedANGLE(4,0,v,ia):0>ia&&(ga?m.drawElements(4,v,ga.type,0<<(ga.type-5121>>1)):m.drawArrays(4,0,v)),h.dirty=!0,e.setVAO(null),k.viewportWidth=b,k.viewportHeight=r,c&&(V.cpuTime+=performance.now()-z),f&&N.destroyStream(u),
ba&&N.destroyStream(fa),a&&q.destroyStream(ga)},scope:function(e,d,m){var p,r,x,t,y,H,A,B,E,C,v,M,F,I,z,Q,D,w,da,K,O,P,l,R,X,n,G,W,T,ga,Y,ka,Z,ca,la,qa,na,ma,Ea,Ma,Kd,Pa,Wb,yb,yd,bc,Rd,Sd,le,ne,rd,nd,vd,qd,hd,Uc,xd,Pc,Kc,qc,ab,hc,Cb,uc,Sa,Hc,$b,Zc,Cd,od,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb,fe,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb;p=e.viewport;r=p.x|0;x=p.y|0;t="width"in p?p.width|0:k.framebufferWidth-r;y="height"in p?p.height|0:k.framebufferHeight-
x;H=k.viewportWidth;k.viewportWidth=t;A=k.viewportHeight;k.viewportHeight=y;B=Ha[0];Ha[0]=r;E=Ha[1];Ha[1]=x;C=Ha[2];Ha[2]=t;v=Ha[3];Ha[3]=y;M=ba[0];ba[0]=0;F=ba[1];ba[1]=0;I=ba[2];ba[2]=0;z=ba[3];ba[3]=0;Q=J.blend_enable;J.blend_enable=!0;D=Za[0];Za[0]=32774;w=Za[1];Za[1]=32774;da=Bb[0];Bb[0]=770;K=Bb[1];Bb[1]=771;O=Bb[2];Bb[2]=773;P=Bb[3];Bb[3]=1;l=J.depth_enable;J.depth_enable=!1;R=e.viewport;X=R.x|0;n=R.y|0;G="width"in R?R.width|0:k.framebufferWidth-X;W="height"in R?R.height|0:k.framebufferHeight-
n;T=$a[0];$a[0]=X;ga=$a[1];$a[1]=n;Y=$a[2];$a[2]=G;ka=$a[3];$a[3]=W;Z=J.scissor_enable;J.scissor_enable=!0;ca=J.stencil_enable;J.stencil_enable=!1;if(la=h.profile)qa=performance.now(),V.count++;na=f.call(this,k,e,m);ma=null;ma=(Ea=pa(na))?q.createStream(na):q.getElements(na);Ma=g.elements;g.elements=ma;Kd=g.offset;g.offset=0;Pa=ma?ma.vertCount:-1;Wb=g.count;g.count=Pa;yb=g.primitive;g.primitive=4;yd=e.fill;bc=b[14];b[14]=yd;Rd=e.id;Sd=b[31];b[31]=Rd;le=e.opacity;ne=b[10];b[10]=le;rd=k.pixelRatio;
nd=b[34];b[34]=rd;vd=e.scale;qd=b[6];b[6]=vd;hd=e.scaleFract;Uc=b[7];b[7]=hd;xd=e.translate;Pc=b[8];b[8]=xd;Kc=e.translateFract;qc=b[9];b[9]=Kc;ab=a.call(this,k,e,m);hc=b[3];b[3]=ab;ea.buffer=e.positionBuffer;Cb=!1;uc=null;Sa=0;Hc=!1;Zc=$b=0;Cd=1;od=0;yc=5126;Ka=Qc=Ec=Xb=0;pa(ea)?(Cb=!0,uc=N.createStream(34962,ea),yc=uc.dtype):(uc=N.getBuffer(ea))?yc=uc.dtype:"constant"in ea?(Cd=2,"number"===typeof ea.constant?(Ec=ea.constant,Qc=Ka=Xb=0):(Ec=0<ea.constant.length?ea.constant[0]:0,Qc=1<ea.constant.length?
ea.constant[1]:0,Ka=2<ea.constant.length?ea.constant[2]:0,Xb=3<ea.constant.length?ea.constant[3]:0)):(uc=pa(ea.buffer)?N.createStream(34962,ea.buffer):N.getBuffer(ea.buffer),yc="type"in ea?ib[ea.type]:uc.dtype,Hc=!!ea.normalized,Zc=ea.size|0,$b=ea.offset|0,od=ea.stride|0,Sa=ea.divisor|0);Db=u.buffer;u.buffer=uc;Va=u.divisor;u.divisor=Sa;Ca=u.normalized;u.normalized=Hc;ud=u.offset;u.offset=$b;fb=u.size;u.size=Zc;Ra=u.state;u.state=Cd;Hb=u.stride;u.stride=od;Wa=u.type;u.type=yc;$c=u.w;u.w=Xb;Sb=u.x;
u.x=Ec;fe=u.y;u.y=Qc;Zb=u.z;u.z=Ka;sa.buffer=e.positionFractBuffer;Tb=!1;ld=null;Eb=0;La=!1;sb=nb=0;gb=1;Na=0;oc=5126;lc=cb=Vc=Jb=0;pa(sa)?(Tb=!0,ld=N.createStream(34962,sa),oc=ld.dtype):(ld=N.getBuffer(sa))?oc=ld.dtype:"constant"in sa?(gb=2,"number"===typeof sa.constant?(Vc=sa.constant,cb=lc=Jb=0):(Vc=0<sa.constant.length?sa.constant[0]:0,cb=1<sa.constant.length?sa.constant[1]:0,lc=2<sa.constant.length?sa.constant[2]:0,Jb=3<sa.constant.length?sa.constant[3]:0)):(ld=pa(sa.buffer)?N.createStream(34962,
sa.buffer):N.getBuffer(sa.buffer),oc="type"in sa?ib[sa.type]:ld.dtype,La=!!sa.normalized,sb=sa.size|0,nb=sa.offset|0,Na=sa.stride|0,Eb=sa.divisor|0);Fc=c.buffer;c.buffer=ld;ic=c.divisor;c.divisor=Eb;jb=c.normalized;c.normalized=La;kb=c.offset;c.offset=nb;ta=c.size;c.size=sb;ob=c.state;c.state=gb;va=c.stride;c.stride=Na;Ta=c.type;c.type=oc;bb=c.w;c.w=Jb;za=c.x;c.x=Vc;db=c.y;c.y=cb;Ia=c.z;c.z=lc;zb=fa.vert;fa.vert=42;xb=fa.frag;fa.frag=41;h.dirty=!0;d(k,e,m);k.viewportWidth=H;k.viewportHeight=A;Ha[0]=
B;Ha[1]=E;Ha[2]=C;Ha[3]=v;ba[0]=M;ba[1]=F;ba[2]=I;ba[3]=z;J.blend_enable=Q;Za[0]=D;Za[1]=w;Bb[0]=da;Bb[1]=K;Bb[2]=O;Bb[3]=P;J.depth_enable=l;$a[0]=T;$a[1]=ga;$a[2]=Y;$a[3]=ka;J.scissor_enable=Z;J.stencil_enable=ca;la&&(V.cpuTime+=performance.now()-qa);Ea&&q.destroyStream(ma);g.elements=Ma;g.offset=Kd;g.count=Wb;g.primitive=yb;b[14]=bc;b[31]=Sd;b[10]=ne;b[34]=nd;b[6]=qd;b[7]=Uc;b[8]=Pc;b[9]=qc;b[3]=hc;Cb&&N.destroyStream(uc);u.buffer=Db;u.divisor=Va;u.normalized=Ca;u.offset=ud;u.size=fb;u.state=Ra;
u.stride=Hb;u.type=Wa;u.w=$c;u.x=Sb;u.y=fe;u.z=Zb;Tb&&N.destroyStream(ld);c.buffer=Fc;c.divisor=ic;c.normalized=jb;c.offset=kb;c.size=ta;c.state=ob;c.stride=va;c.type=Ta;c.w=bb;c.x=za;c.y=db;c.z=Ia;fa.vert=zb;fa.frag=xb;h.dirty=!0}}},"$45,borderColorId,borderSize,colorId,constPointSize,isActive,markerTexture,opacity,paletteSize,paletteTexture,pixelRatio,scale,scaleFract,size,translate,translateFract,x,xFract,y,yFract":function(d,V,p,H,f,a,u,c,r,z,ka,F,B,t,A,I,y,E,N,G,pc,k,h,g,q,Q,R,m,pa,J,fa,b,e,
ba,na,Za,yb,Bb,ma,Pa,Y,K,M,T,qa,O,Wb,$a,P,x,la,ca,Ea,Ma,bc,Ha,W,ib,ea,sa,cc,nc,kc,td,vc){var aa,L,ja,Ba,Gb,Jc,Bc,C,v,ia,ua,U,ha,ra,D,w,da,S,ya,oa,l,jc,X,n,Ib,wb,We,ke,se,ae,cd,re,sd,ee,ue,Id,Qd,Xd,Kd;aa=d.attributes;L=d.buffer;ja=d.context;Ba=d.current;Gb=d.draw;Jc=d.elements;Bc=d.extensions;C=d.framebuffer;v=d.gl;ia=d.isBufferArgs;ua=d.next;U=d.shader;ha=d.uniforms;ra=d.vao;D=ua.blend_color;w=Ba.blend_color;da=ua.blend_equation;S=Ba.blend_equation;ya=ua.blend_func;oa=Ba.blend_func;l=ua.colorMask;
jc=Ba.colorMask;X=ua.depth_range;n=Ba.depth_range;Ib=ua.polygonOffset_offset;wb=Ba.polygonOffset_offset;We=ua.sample_coverage;ke=Ba.sample_coverage;se=ua.scissor_box;ae=Ba.scissor_box;cd=ua.stencil_func;re=Ba.stencil_func;sd=ua.stencil_opBack;ee=Ba.stencil_opBack;ue=ua.stencil_opFront;Id=Ba.stencil_opFront;Qd=ua.viewport;Xd=Ba.viewport;Kd={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};return{batch:function(a,b){var c,e,d,g,f,h;c=C.next;c!==C.cur&&(c?
v.bindFramebuffer(36160,c.framebuffer):v.bindFramebuffer(36160,null),C.cur=c);if(Ba.dirty){var k,m,q,p,u,r,t,y,H,D,A,B,J,E,F,z,I,Q,R,G,U,ga,ha,ka,ba,N,Z,fa,pa,ya,fb,Ra,Hb,Wa;k=ua.dither;k!==Ba.dither&&(k?v.enable(3024):v.disable(3024),Ba.dither=k);m=da[0];q=da[1];if(m!==S[0]||q!==S[1])v.blendEquationSeparate(m,q),S[0]=m,S[1]=q;p=ua.depth_func;p!==Ba.depth_func&&(v.depthFunc(p),Ba.depth_func=p);u=X[0];r=X[1];if(u!==n[0]||r!==n[1])v.depthRange(u,r),n[0]=u,n[1]=r;t=ua.depth_mask;t!==Ba.depth_mask&&(v.depthMask(t),
Ba.depth_mask=t);y=l[0];H=l[1];D=l[2];A=l[3];if(y!==jc[0]||H!==jc[1]||D!==jc[2]||A!==jc[3])v.colorMask(y,H,D,A),jc[0]=y,jc[1]=H,jc[2]=D,jc[3]=A;B=ua.cull_enable;B!==Ba.cull_enable&&(B?v.enable(2884):v.disable(2884),Ba.cull_enable=B);J=ua.cull_face;J!==Ba.cull_face&&(v.cullFace(J),Ba.cull_face=J);E=ua.frontFace;E!==Ba.frontFace&&(v.frontFace(E),Ba.frontFace=E);F=ua.lineWidth;F!==Ba.lineWidth&&(v.lineWidth(F),Ba.lineWidth=F);z=ua.polygonOffset_enable;z!==Ba.polygonOffset_enable&&(z?v.enable(32823):
v.disable(32823),Ba.polygonOffset_enable=z);I=Ib[0];Q=Ib[1];if(I!==wb[0]||Q!==wb[1])v.polygonOffset(I,Q),wb[0]=I,wb[1]=Q;R=ua.sample_alpha;R!==Ba.sample_alpha&&(R?v.enable(32926):v.disable(32926),Ba.sample_alpha=R);G=ua.sample_enable;G!==Ba.sample_enable&&(G?v.enable(32928):v.disable(32928),Ba.sample_enable=G);U=We[0];ga=We[1];if(U!==ke[0]||ga!==ke[1])v.sampleCoverage(U,ga),ke[0]=U,ke[1]=ga;ha=ua.stencil_mask;ha!==Ba.stencil_mask&&(v.stencilMask(ha),Ba.stencil_mask=ha);ka=cd[0];ba=cd[1];N=cd[2];if(ka!==
re[0]||ba!==re[1]||N!==re[2])v.stencilFunc(ka,ba,N),re[0]=ka,re[1]=ba,re[2]=N;Z=ue[0];fa=ue[1];pa=ue[2];ya=ue[3];if(Z!==Id[0]||fa!==Id[1]||pa!==Id[2]||ya!==Id[3])v.stencilOpSeparate(Z,fa,pa,ya),Id[0]=Z,Id[1]=fa,Id[2]=pa,Id[3]=ya;fb=sd[0];Ra=sd[1];Hb=sd[2];Wa=sd[3];if(fb!==ee[0]||Ra!==ee[1]||Hb!==ee[2]||Wa!==ee[3])v.stencilOpSeparate(fb,Ra,Hb,Wa),ee[0]=fb,ee[1]=Ra,ee[2]=Hb,ee[3]=Wa}v.blendColor(0,0,0,1);w[0]=0;w[1]=0;w[2]=0;w[3]=1;v.enable(3042);Ba.blend_enable=!0;v.blendFuncSeparate(770,771,773,1);
oa[0]=770;oa[1]=771;oa[2]=773;oa[3]=1;v.disable(2929);Ba.depth_enable=!1;v.enable(3089);Ba.scissor_enable=!0;v.disable(2960);Ba.stencil_enable=!1;if(e=Ba.profile)d=performance.now(),V.count+=b;v.useProgram(na.program);g=Bc.angle_instanced_arrays;var pc;ra.setVAO(null);v.uniform1i(x.location,!1);v.uniform1i(bc.location,qa.bind());pc=Gb.instances;for(f=0;f<b;++f){h=a[f];var Sb,fe,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,
dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,Vd,ye,Yc,Qd,ie,ve,te,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,Xe,ze,se,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,Jd,Ld,Md,he,Fe,we,me,Ye,Oe,Le,qe,Ce,Ge,He,Ie,De,Gd,Pd,Wd,Zd,Je,zd,Nd,Ae,Ke,ff,Ve,Pe,Me,Ue,Te,Qe,Re,Od,Td,Se,gf,mf,cf,hf,jf,kf,qf,nf,rf,Af,Bf,Ne,Be,of,pf,Cf,Ff,zf,Df,Ef,vf,wf,uf,xf,yf,Hf,Jf,Kf,Lf,sf,Qf,Gf,tf,dg,Rf,Sf;Sb=h.viewport;fe=Sb.x|0;
Zb=Sb.y|0;Tb="width"in Sb?Sb.width|0:ja.framebufferWidth-fe;ld="height"in Sb?Sb.height|0:ja.framebufferHeight-Zb;Eb=ja.viewportWidth;ja.viewportWidth=Tb;La=ja.viewportHeight;ja.viewportHeight=ld;v.viewport(fe,Zb,Tb,ld);Xd[0]=fe;Xd[1]=Zb;Xd[2]=Tb;Xd[3]=ld;nb=h.viewport;sb=nb.x|0;gb=nb.y|0;Na="width"in nb?nb.width|0:ja.framebufferWidth-sb;oc="height"in nb?nb.height|0:ja.framebufferHeight-gb;v.scissor(sb,gb,Na,oc);ae[0]=sb;ae[1]=gb;ae[2]=Na;ae[3]=oc;Jb=Za.call(this,ja,h,f);Vc=!1;cb=null;lc=0;Fc=!1;jb=
ic=0;kb=1;ta=0;ob=5126;za=bb=Ta=va=0;ia(Jb)?(Vc=!0,cb=L.createStream(34962,Jb),ob=cb.dtype):(cb=L.getBuffer(Jb))?ob=cb.dtype:"constant"in Jb?(kb=2,"number"===typeof Jb.constant?(Ta=Jb.constant,bb=za=va=0):(Ta=0<Jb.constant.length?Jb.constant[0]:0,bb=1<Jb.constant.length?Jb.constant[1]:0,za=2<Jb.constant.length?Jb.constant[2]:0,va=3<Jb.constant.length?Jb.constant[3]:0)):(cb=ia(Jb.buffer)?L.createStream(34962,Jb.buffer):L.getBuffer(Jb.buffer),ob="type"in Jb?Kd[Jb.type]:cb.dtype,Fc=!!Jb.normalized,jb=
Jb.size|0,ic=Jb.offset|0,ta=Jb.stride|0,lc=Jb.divisor|0);db=nc.location;Ia=aa[db];if(1===kb){Ia.buffer||v.enableVertexAttribArray(db);zb=jb||1;if(Ia.type!==ob||Ia.size!==zb||Ia.buffer!==cb||Ia.normalized!==Fc||Ia.offset!==ic||Ia.stride!==ta)v.bindBuffer(34962,cb.buffer),v.vertexAttribPointer(db,zb,ob,Fc,ta,ic),Ia.type=ob,Ia.size=zb,Ia.buffer=cb,Ia.normalized=Fc,Ia.offset=ic,Ia.stride=ta;Ia.divisor!==lc&&(g.vertexAttribDivisorANGLE(db,lc),Ia.divisor=lc)}else if(Ia.buffer&&(v.disableVertexAttribArray(db),
Ia.buffer=null),Ia.x!==Ta||Ia.y!==bb||Ia.z!==za||Ia.w!==va)v.vertexAttrib4f(db,Ta,bb,za,va),Ia.x=Ta,Ia.y=bb,Ia.z=za,Ia.w=va;xb=yb.call(this,ja,h,f);Qa=!1;Ic=null;Kb=0;Mb=!1;wa=Ub=0;Ud=1;Ja=0;Pb=5126;dc=xa=hb=eb=0;ia(xb)?(Qa=!0,Ic=L.createStream(34962,xb),Pb=Ic.dtype):(Ic=L.getBuffer(xb))?Pb=Ic.dtype:"constant"in xb?(Ud=2,"number"===typeof xb.constant?(hb=xb.constant,xa=dc=eb=0):(hb=0<xb.constant.length?xb.constant[0]:0,xa=1<xb.constant.length?xb.constant[1]:0,dc=2<xb.constant.length?xb.constant[2]:
0,eb=3<xb.constant.length?xb.constant[3]:0)):(Ic=ia(xb.buffer)?L.createStream(34962,xb.buffer):L.getBuffer(xb.buffer),Pb="type"in xb?Kd[xb.type]:Ic.dtype,Mb=!!xb.normalized,wa=xb.size|0,Ub=xb.offset|0,Ja=xb.stride|0,Kb=xb.divisor|0);Da=td.location;pb=aa[Da];if(1===Ud){pb.buffer||v.enableVertexAttribArray(Da);qb=wa||1;if(pb.type!==Pb||pb.size!==qb||pb.buffer!==Ic||pb.normalized!==Mb||pb.offset!==Ub||pb.stride!==Ja)v.bindBuffer(34962,Ic.buffer),v.vertexAttribPointer(Da,qb,Pb,Mb,Ja,Ub),pb.type=Pb,pb.size=
qb,pb.buffer=Ic,pb.normalized=Mb,pb.offset=Ub,pb.stride=Ja;pb.divisor!==Kb&&(g.vertexAttribDivisorANGLE(Da,Kb),pb.divisor=Kb)}else if(pb.buffer&&(v.disableVertexAttribArray(Da),pb.buffer=null),pb.x!==hb||pb.y!==xa||pb.z!==dc||pb.w!==eb)v.vertexAttrib4f(Da,hb,xa,dc,eb),pb.x=hb,pb.y=xa,pb.z=dc,pb.w=eb;Xa=Bb.call(this,ja,h,f);Ya=!1;mc=null;ed=0;sc=!1;Nb=Ua=0;ad=1;Fa=0;wc=5126;tb=lb=Aa=Oa=0;ia(Xa)?(Ya=!0,mc=L.createStream(34962,Xa),wc=mc.dtype):(mc=L.getBuffer(Xa))?wc=mc.dtype:"constant"in Xa?(ad=2,"number"===
typeof Xa.constant?(Aa=Xa.constant,lb=tb=Oa=0):(Aa=0<Xa.constant.length?Xa.constant[0]:0,lb=1<Xa.constant.length?Xa.constant[1]:0,tb=2<Xa.constant.length?Xa.constant[2]:0,Oa=3<Xa.constant.length?Xa.constant[3]:0)):(mc=ia(Xa.buffer)?L.createStream(34962,Xa.buffer):L.getBuffer(Xa.buffer),wc="type"in Xa?Kd[Xa.type]:mc.dtype,sc=!!Xa.normalized,Nb=Xa.size|0,Ua=Xa.offset|0,Fa=Xa.stride|0,ed=Xa.divisor|0);Ab=kc.location;rb=aa[Ab];if(1===ad){rb.buffer||v.enableVertexAttribArray(Ab);tc=Nb||1;if(rb.type!==
wc||rb.size!==tc||rb.buffer!==mc||rb.normalized!==sc||rb.offset!==Ua||rb.stride!==Fa)v.bindBuffer(34962,mc.buffer),v.vertexAttribPointer(Ab,tc,wc,sc,Fa,Ua),rb.type=wc,rb.size=tc,rb.buffer=mc,rb.normalized=sc,rb.offset=Ua,rb.stride=Fa;rb.divisor!==ed&&(g.vertexAttribDivisorANGLE(Ab,ed),rb.divisor=ed)}else if(rb.buffer&&(v.disableVertexAttribArray(Ab),rb.buffer=null),rb.x!==Aa||rb.y!==lb||rb.z!==tb||rb.w!==Oa)v.vertexAttrib4f(Ab,Aa,lb,tb,Oa),rb.x=Aa,rb.y=lb,rb.z=tb,rb.w=Oa;ub=ma.call(this,ja,h,f);wd=
!1;rc=null;Hd=0;Lc=!1;fd=jd=0;Vb=1;ac=0;Qb=5126;vb=mb=Yb=Ga=0;ia(ub)?(wd=!0,rc=L.createStream(34962,ub),Qb=rc.dtype):(rc=L.getBuffer(ub))?Qb=rc.dtype:"constant"in ub?(Vb=2,"number"===typeof ub.constant?(Yb=ub.constant,mb=vb=Ga=0):(Yb=0<ub.constant.length?ub.constant[0]:0,mb=1<ub.constant.length?ub.constant[1]:0,vb=2<ub.constant.length?ub.constant[2]:0,Ga=3<ub.constant.length?ub.constant[3]:0)):(rc=ia(ub.buffer)?L.createStream(34962,ub.buffer):L.getBuffer(ub.buffer),Qb="type"in ub?Kd[ub.type]:rc.dtype,
Lc=!!ub.normalized,fd=ub.size|0,jd=ub.offset|0,ac=ub.stride|0,Hd=ub.divisor|0);Ob=vc.location;Rb=aa[Ob];if(1===Vb){Rb.buffer||v.enableVertexAttribArray(Ob);ec=fd||1;if(Rb.type!==Qb||Rb.size!==ec||Rb.buffer!==rc||Rb.normalized!==Lc||Rb.offset!==jd||Rb.stride!==ac)v.bindBuffer(34962,rc.buffer),v.vertexAttribPointer(Ob,ec,Qb,Lc,ac,jd),Rb.type=Qb,Rb.size=ec,Rb.buffer=rc,Rb.normalized=Lc,Rb.offset=jd,Rb.stride=ac;Rb.divisor!==Hd&&(g.vertexAttribDivisorANGLE(Ob,Hd),Rb.divisor=Hd)}else if(Rb.buffer&&(v.disableVertexAttribArray(Ob),
Rb.buffer=null),Rb.x!==Yb||Rb.y!==mb||Rb.z!==vb||Rb.w!==Ga)v.vertexAttrib4f(Ob,Yb,mb,vb,Ga),Rb.x=Yb,Rb.y=mb,Rb.z=vb,Rb.w=Ga;gc=Pa.call(this,ja,h,f);Rc=!1;zc=null;Ac=0;Cc=!1;bd=Mc=0;Sc=1;Nc=0;Lb=5126;Tc=Gc=Oc=Fb=0;ia(gc)?(Rc=!0,zc=L.createStream(34962,gc),Lb=zc.dtype):(zc=L.getBuffer(gc))?Lb=zc.dtype:"constant"in gc?(Sc=2,"number"===typeof gc.constant?(Oc=gc.constant,Gc=Tc=Fb=0):(Oc=0<gc.constant.length?gc.constant[0]:0,Gc=1<gc.constant.length?gc.constant[1]:0,Tc=2<gc.constant.length?gc.constant[2]:
0,Fb=3<gc.constant.length?gc.constant[3]:0)):(zc=ia(gc.buffer)?L.createStream(34962,gc.buffer):L.getBuffer(gc.buffer),Lb="type"in gc?Kd[gc.type]:zc.dtype,Cc=!!gc.normalized,bd=gc.size|0,Mc=gc.offset|0,Nc=gc.stride|0,Ac=gc.divisor|0);fc=ea.location;Xc=aa[fc];if(1===Sc){Xc.buffer||v.enableVertexAttribArray(fc);gd=bd||1;if(Xc.type!==Lb||Xc.size!==gd||Xc.buffer!==zc||Xc.normalized!==Cc||Xc.offset!==Mc||Xc.stride!==Nc)v.bindBuffer(34962,zc.buffer),v.vertexAttribPointer(fc,gd,Lb,Cc,Nc,Mc),Xc.type=Lb,Xc.size=
gd,Xc.buffer=zc,Xc.normalized=Cc,Xc.offset=Mc,Xc.stride=Nc;Xc.divisor!==Ac&&(g.vertexAttribDivisorANGLE(fc,Ac),Xc.divisor=Ac)}else if(Xc.buffer&&(v.disableVertexAttribArray(fc),Xc.buffer=null),Xc.x!==Oc||Xc.y!==Gc||Xc.z!==Tc||Xc.w!==Fb)v.vertexAttrib4f(fc,Oc,Gc,Tc,Fb),Xc.x=Oc,Xc.y=Gc,Xc.z=Tc,Xc.w=Fb;Vd=Y.call(this,ja,h,f);ye=!1;Yc=null;Qd=0;ie=!1;te=ve=0;be=1;Fd=0;Dd=5126;kd=pd=Dc=id=0;ia(Vd)?(ye=!0,Yc=L.createStream(34962,Vd),Dd=Yc.dtype):(Yc=L.getBuffer(Vd))?Dd=Yc.dtype:"constant"in Vd?(be=2,"number"===
typeof Vd.constant?(Dc=Vd.constant,pd=kd=id=0):(Dc=0<Vd.constant.length?Vd.constant[0]:0,pd=1<Vd.constant.length?Vd.constant[1]:0,kd=2<Vd.constant.length?Vd.constant[2]:0,id=3<Vd.constant.length?Vd.constant[3]:0)):(Yc=ia(Vd.buffer)?L.createStream(34962,Vd.buffer):L.getBuffer(Vd.buffer),Dd="type"in Vd?Kd[Vd.type]:Yc.dtype,ie=!!Vd.normalized,te=Vd.size|0,ve=Vd.offset|0,Fd=Vd.stride|0,Qd=Vd.divisor|0);dd=$a.location;md=aa[dd];if(1===be){md.buffer||v.enableVertexAttribArray(dd);Ad=te||1;if(md.type!==
Dd||md.size!==Ad||md.buffer!==Yc||md.normalized!==ie||md.offset!==ve||md.stride!==Fd)v.bindBuffer(34962,Yc.buffer),v.vertexAttribPointer(dd,Ad,Dd,ie,Fd,ve),md.type=Dd,md.size=Ad,md.buffer=Yc,md.normalized=ie,md.offset=ve,md.stride=Fd;md.divisor!==Qd&&(g.vertexAttribDivisorANGLE(dd,Qd),md.divisor=Qd)}else if(md.buffer&&(v.disableVertexAttribArray(dd),md.buffer=null),md.x!==Dc||md.y!==pd||md.z!==kd||md.w!==id)v.vertexAttrib4f(dd,Dc,pd,kd,id),md.x=Dc,md.y=pd,md.z=kd,md.w=id;Bd=K.call(this,ja,h,f);Xe=
!1;ze=null;se=0;de=!1;$d=ce=0;oe=1;Yd=0;ge=5126;je=pe=Wc=xc=0;ia(Bd)?(Xe=!0,ze=L.createStream(34962,Bd),ge=ze.dtype):(ze=L.getBuffer(Bd))?ge=ze.dtype:"constant"in Bd?(oe=2,"number"===typeof Bd.constant?(Wc=Bd.constant,pe=je=xc=0):(Wc=0<Bd.constant.length?Bd.constant[0]:0,pe=1<Bd.constant.length?Bd.constant[1]:0,je=2<Bd.constant.length?Bd.constant[2]:0,xc=3<Bd.constant.length?Bd.constant[3]:0)):(ze=ia(Bd.buffer)?L.createStream(34962,Bd.buffer):L.getBuffer(Bd.buffer),ge="type"in Bd?Kd[Bd.type]:ze.dtype,
de=!!Bd.normalized,$d=Bd.size|0,ce=Bd.offset|0,Yd=Bd.stride|0,se=Bd.divisor|0);Ed=P.location;Jd=aa[Ed];if(1===oe){Jd.buffer||v.enableVertexAttribArray(Ed);Ld=$d||4;if(Jd.type!==ge||Jd.size!==Ld||Jd.buffer!==ze||Jd.normalized!==de||Jd.offset!==ce||Jd.stride!==Yd)v.bindBuffer(34962,ze.buffer),v.vertexAttribPointer(Ed,Ld,ge,de,Yd,ce),Jd.type=ge,Jd.size=Ld,Jd.buffer=ze,Jd.normalized=de,Jd.offset=ce,Jd.stride=Yd;Jd.divisor!==se&&(g.vertexAttribDivisorANGLE(Ed,se),Jd.divisor=se)}else if(Jd.buffer&&(v.disableVertexAttribArray(Ed),
Jd.buffer=null),Jd.x!==Wc||Jd.y!==pe||Jd.z!==je||Jd.w!==xc)v.vertexAttrib4f(Ed,Wc,pe,je,xc),Jd.x=Wc,Jd.y=pe,Jd.z=je,Jd.w=xc;Md=M.call(this,ja,h,f);he=!1;Fe=null;we=0;me=!1;Oe=Ye=0;Le=1;qe=0;Ce=5126;De=Ie=He=Ge=0;ia(Md)?(he=!0,Fe=L.createStream(34962,Md),Ce=Fe.dtype):(Fe=L.getBuffer(Md))?Ce=Fe.dtype:"constant"in Md?(Le=2,"number"===typeof Md.constant?(He=Md.constant,Ie=De=Ge=0):(He=0<Md.constant.length?Md.constant[0]:0,Ie=1<Md.constant.length?Md.constant[1]:0,De=2<Md.constant.length?Md.constant[2]:
0,Ge=3<Md.constant.length?Md.constant[3]:0)):(Fe=ia(Md.buffer)?L.createStream(34962,Md.buffer):L.getBuffer(Md.buffer),Ce="type"in Md?Kd[Md.type]:Fe.dtype,me=!!Md.normalized,Oe=Md.size|0,Ye=Md.offset|0,qe=Md.stride|0,we=Md.divisor|0);Gd=Wb.location;Pd=aa[Gd];if(1===Le){Pd.buffer||v.enableVertexAttribArray(Gd);Wd=Oe||4;if(Pd.type!==Ce||Pd.size!==Wd||Pd.buffer!==Fe||Pd.normalized!==me||Pd.offset!==Ye||Pd.stride!==qe)v.bindBuffer(34962,Fe.buffer),v.vertexAttribPointer(Gd,Wd,Ce,me,qe,Ye),Pd.type=Ce,Pd.size=
Wd,Pd.buffer=Fe,Pd.normalized=me,Pd.offset=Ye,Pd.stride=qe;Pd.divisor!==we&&(g.vertexAttribDivisorANGLE(Gd,we),Pd.divisor=we)}else if(Pd.buffer&&(v.disableVertexAttribArray(Gd),Pd.buffer=null),Pd.x!==He||Pd.y!==Ie||Pd.z!==De||Pd.w!==Ge)v.vertexAttrib4f(Gd,He,Ie,De,Ge),Pd.x=He,Pd.y=Ie,Pd.z=De,Pd.w=Ge;Zd=T.call(this,ja,h,f);Je=!1;zd=null;Nd=0;Ae=!1;ff=Ke=0;Ve=1;Pe=0;Me=5126;Re=Qe=Te=Ue=0;ia(Zd)?(Je=!0,zd=L.createStream(34962,Zd),Me=zd.dtype):(zd=L.getBuffer(Zd))?Me=zd.dtype:"constant"in Zd?(Ve=2,"number"===
typeof Zd.constant?(Te=Zd.constant,Qe=Re=Ue=0):(Te=0<Zd.constant.length?Zd.constant[0]:0,Qe=1<Zd.constant.length?Zd.constant[1]:0,Re=2<Zd.constant.length?Zd.constant[2]:0,Ue=3<Zd.constant.length?Zd.constant[3]:0)):(zd=ia(Zd.buffer)?L.createStream(34962,Zd.buffer):L.getBuffer(Zd.buffer),Me="type"in Zd?Kd[Zd.type]:zd.dtype,Ae=!!Zd.normalized,ff=Zd.size|0,Ke=Zd.offset|0,Pe=Zd.stride|0,Nd=Zd.divisor|0);Od=la.location;Td=aa[Od];if(1===Ve){Td.buffer||v.enableVertexAttribArray(Od);Se=ff||1;if(Td.type!==
Me||Td.size!==Se||Td.buffer!==zd||Td.normalized!==Ae||Td.offset!==Ke||Td.stride!==Pe)v.bindBuffer(34962,zd.buffer),v.vertexAttribPointer(Od,Se,Me,Ae,Pe,Ke),Td.type=Me,Td.size=Se,Td.buffer=zd,Td.normalized=Ae,Td.offset=Ke,Td.stride=Pe;Td.divisor!==Nd&&(g.vertexAttribDivisorANGLE(Od,Nd),Td.divisor=Nd)}else if(Td.buffer&&(v.disableVertexAttribArray(Od),Td.buffer=null),Td.x!==Te||Td.y!==Qe||Td.z!==Re||Td.w!==Ue)v.vertexAttrib4f(Od,Te,Qe,Re,Ue),Td.x=Te,Td.y=Qe,Td.z=Re,Td.w=Ue;gf=ja.pixelRatio;f&&mf===
gf||(mf=gf,v.uniform1f(Ha.location,gf));cf=h.scale;hf=cf[0];kf=cf[1];f&&jf===hf&&qf===kf||(jf=hf,qf=kf,v.uniform2f(W.location,hf,kf));nf=h.scaleFract;rf=nf[0];Bf=nf[1];f&&Af===rf&&Ne===Bf||(Af=rf,Ne=Bf,v.uniform2f(ib.location,rf,Bf));Be=h.translate;of=Be[0];Cf=Be[1];f&&pf===of&&Ff===Cf||(pf=of,Ff=Cf,v.uniform2f(sa.location,of,Cf));zf=h.translateFract;Df=zf[0];vf=zf[1];f&&Ef===Df&&wf===vf||(Ef=Df,wf=vf,v.uniform2f(cc.location,Df,vf));uf=O.call(this,ja,h,f);xf=uf[0];Hf=uf[1];f&&yf===xf&&Jf===Hf||(yf=
xf,Jf=Hf,v.uniform2f(Ma.location,xf,Hf));Kf=h.opacity;f&&Lf===Kf||(Lf=Kf,v.uniform1f(Ea.location,Kf));(sf=h.markerTexture)&&"framebuffer"===sf._reglType&&(sf=sf.color[0]);Qf=sf._texture;v.uniform1i(ca.location,Qf.bind());Gf=h.elements;tf=null;(tf=(dg=ia(Gf))?Jc.createStream(Gf):Jc.getElements(Gf))&&v.bindBuffer(34963,tf.buffer.buffer);Rf=h.offset;if(Sf=h.count)0<pc?tf?g.drawElementsInstancedANGLE(0,Sf,tf.type,Rf<<(tf.type-5121>>1),pc):g.drawArraysInstancedANGLE(0,Rf,Sf,pc):0>pc&&(tf?v.drawElements(0,
Sf,tf.type,Rf<<(tf.type-5121>>1)):v.drawArrays(0,Rf,Sf)),ja.viewportWidth=Eb,ja.viewportHeight=La,Vc&&L.destroyStream(cb),Qa&&L.destroyStream(Ic),Ya&&L.destroyStream(mc),wd&&L.destroyStream(rc),Rc&&L.destroyStream(zc),ye&&L.destroyStream(Yc),Xe&&L.destroyStream(ze),he&&L.destroyStream(Fe),Je&&L.destroyStream(zd),Qf.unbind(),dg&&Jc.destroyStream(tf)}qa.unbind();Ba.dirty=!0;ra.setVAO(null);e&&(V.cpuTime+=performance.now()-d)},draw:function(b){var e,d,g,h,k,m,q,y,D,A,J,E,M,I,Q,K,R,O,G,U,T,ha,ba,N,Y,
Z,fa,pa,ya,qa,ma,na,Ka,Db,Va,Ca,pc,fb,Ra,Hb,Wa,Pa,Sb,Za,Zb,Tb,yb,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Bb,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,Vd,ye,Yc,Qd,ie,ve,te,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,se,ze,xe,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,Jd,Ld,Md,he,Fe,we,me,Ye,Oe,Le,qe;e=C.next;e!==C.cur&&(e?v.bindFramebuffer(36160,
e.framebuffer):v.bindFramebuffer(36160,null),C.cur=e);if(Ba.dirty){var Ce,Ge,He,Ie,De,Gd,Pd,Wd,Zd,Je,zd,Nd,Ae,Ke,ff,Ve,Pe,Me,Ue,Te,Qe,Re,Od,Td,Se,gf,mf,cf,hf,jf,kf,qf,nf,rf;Ce=ua.dither;Ce!==Ba.dither&&(Ce?v.enable(3024):v.disable(3024),Ba.dither=Ce);Ge=da[0];He=da[1];if(Ge!==S[0]||He!==S[1])v.blendEquationSeparate(Ge,He),S[0]=Ge,S[1]=He;Ie=ua.depth_func;Ie!==Ba.depth_func&&(v.depthFunc(Ie),Ba.depth_func=Ie);De=X[0];Gd=X[1];if(De!==n[0]||Gd!==n[1])v.depthRange(De,Gd),n[0]=De,n[1]=Gd;Pd=ua.depth_mask;
Pd!==Ba.depth_mask&&(v.depthMask(Pd),Ba.depth_mask=Pd);Wd=l[0];Zd=l[1];Je=l[2];zd=l[3];if(Wd!==jc[0]||Zd!==jc[1]||Je!==jc[2]||zd!==jc[3])v.colorMask(Wd,Zd,Je,zd),jc[0]=Wd,jc[1]=Zd,jc[2]=Je,jc[3]=zd;Nd=ua.cull_enable;Nd!==Ba.cull_enable&&(Nd?v.enable(2884):v.disable(2884),Ba.cull_enable=Nd);Ae=ua.cull_face;Ae!==Ba.cull_face&&(v.cullFace(Ae),Ba.cull_face=Ae);Ke=ua.frontFace;Ke!==Ba.frontFace&&(v.frontFace(Ke),Ba.frontFace=Ke);ff=ua.lineWidth;ff!==Ba.lineWidth&&(v.lineWidth(ff),Ba.lineWidth=ff);Ve=ua.polygonOffset_enable;
Ve!==Ba.polygonOffset_enable&&(Ve?v.enable(32823):v.disable(32823),Ba.polygonOffset_enable=Ve);Pe=Ib[0];Me=Ib[1];if(Pe!==wb[0]||Me!==wb[1])v.polygonOffset(Pe,Me),wb[0]=Pe,wb[1]=Me;Ue=ua.sample_alpha;Ue!==Ba.sample_alpha&&(Ue?v.enable(32926):v.disable(32926),Ba.sample_alpha=Ue);Te=ua.sample_enable;Te!==Ba.sample_enable&&(Te?v.enable(32928):v.disable(32928),Ba.sample_enable=Te);Qe=We[0];Re=We[1];if(Qe!==ke[0]||Re!==ke[1])v.sampleCoverage(Qe,Re),ke[0]=Qe,ke[1]=Re;Od=ua.stencil_mask;Od!==Ba.stencil_mask&&
(v.stencilMask(Od),Ba.stencil_mask=Od);Td=cd[0];Se=cd[1];gf=cd[2];if(Td!==re[0]||Se!==re[1]||gf!==re[2])v.stencilFunc(Td,Se,gf),re[0]=Td,re[1]=Se,re[2]=gf;mf=ue[0];cf=ue[1];hf=ue[2];jf=ue[3];if(mf!==Id[0]||cf!==Id[1]||hf!==Id[2]||jf!==Id[3])v.stencilOpSeparate(mf,cf,hf,jf),Id[0]=mf,Id[1]=cf,Id[2]=hf,Id[3]=jf;kf=sd[0];qf=sd[1];nf=sd[2];rf=sd[3];if(kf!==ee[0]||qf!==ee[1]||nf!==ee[2]||rf!==ee[3])v.stencilOpSeparate(kf,qf,nf,rf),ee[0]=kf,ee[1]=qf,ee[2]=nf,ee[3]=rf}d=b.viewport;g=d.x|0;h=d.y|0;k="width"in
d?d.width|0:ja.framebufferWidth-g;m="height"in d?d.height|0:ja.framebufferHeight-h;q=ja.viewportWidth;ja.viewportWidth=k;y=ja.viewportHeight;ja.viewportHeight=m;v.viewport(g,h,k,m);Xd[0]=g;Xd[1]=h;Xd[2]=k;Xd[3]=m;v.blendColor(0,0,0,1);w[0]=0;w[1]=0;w[2]=0;w[3]=1;v.enable(3042);Ba.blend_enable=!0;v.blendFuncSeparate(770,771,773,1);oa[0]=770;oa[1]=771;oa[2]=773;oa[3]=1;v.disable(2929);Ba.depth_enable=!1;D=b.viewport;A=D.x|0;J=D.y|0;E="width"in D?D.width|0:ja.framebufferWidth-A;M="height"in D?D.height|
0:ja.framebufferHeight-J;v.scissor(A,J,E,M);ae[0]=A;ae[1]=J;ae[2]=E;ae[3]=M;v.enable(3089);Ba.scissor_enable=!0;v.disable(2960);Ba.stencil_enable=!1;if(I=Ba.profile)Q=performance.now(),V.count++;v.useProgram(p.program);K=Bc.angle_instanced_arrays;ra.setVAO(null);R=H.call(this,ja,b,0);O=!1;G=null;U=0;T=!1;ba=ha=0;N=1;Y=0;Z=5126;qa=ya=pa=fa=0;ia(R)?(O=!0,G=L.createStream(34962,R),Z=G.dtype):(G=L.getBuffer(R))?Z=G.dtype:"constant"in R?(N=2,"number"===typeof R.constant?(pa=R.constant,ya=qa=fa=0):(pa=
0<R.constant.length?R.constant[0]:0,ya=1<R.constant.length?R.constant[1]:0,qa=2<R.constant.length?R.constant[2]:0,fa=3<R.constant.length?R.constant[3]:0)):(G=ia(R.buffer)?L.createStream(34962,R.buffer):L.getBuffer(R.buffer),Z="type"in R?Kd[R.type]:G.dtype,T=!!R.normalized,ba=R.size|0,ha=R.offset|0,Y=R.stride|0,U=R.divisor|0);ma=nc.location;na=aa[ma];if(1===N){na.buffer||v.enableVertexAttribArray(ma);Ka=ba||1;if(na.type!==Z||na.size!==Ka||na.buffer!==G||na.normalized!==T||na.offset!==ha||na.stride!==
Y)v.bindBuffer(34962,G.buffer),v.vertexAttribPointer(ma,Ka,Z,T,Y,ha),na.type=Z,na.size=Ka,na.buffer=G,na.normalized=T,na.offset=ha,na.stride=Y;na.divisor!==U&&(K.vertexAttribDivisorANGLE(ma,U),na.divisor=U)}else if(na.buffer&&(v.disableVertexAttribArray(ma),na.buffer=null),na.x!==pa||na.y!==ya||na.z!==qa||na.w!==fa)v.vertexAttrib4f(ma,pa,ya,qa,fa),na.x=pa,na.y=ya,na.z=qa,na.w=fa;Db=f.call(this,ja,b,0);Va=!1;Ca=null;pc=0;fb=!1;Hb=Ra=0;Wa=1;Pa=0;Sb=5126;yb=Tb=Zb=Za=0;ia(Db)?(Va=!0,Ca=L.createStream(34962,
Db),Sb=Ca.dtype):(Ca=L.getBuffer(Db))?Sb=Ca.dtype:"constant"in Db?(Wa=2,"number"===typeof Db.constant?(Zb=Db.constant,Tb=yb=Za=0):(Zb=0<Db.constant.length?Db.constant[0]:0,Tb=1<Db.constant.length?Db.constant[1]:0,yb=2<Db.constant.length?Db.constant[2]:0,Za=3<Db.constant.length?Db.constant[3]:0)):(Ca=ia(Db.buffer)?L.createStream(34962,Db.buffer):L.getBuffer(Db.buffer),Sb="type"in Db?Kd[Db.type]:Ca.dtype,fb=!!Db.normalized,Hb=Db.size|0,Ra=Db.offset|0,Pa=Db.stride|0,pc=Db.divisor|0);Eb=td.location;La=
aa[Eb];if(1===Wa){La.buffer||v.enableVertexAttribArray(Eb);nb=Hb||1;if(La.type!==Sb||La.size!==nb||La.buffer!==Ca||La.normalized!==fb||La.offset!==Ra||La.stride!==Pa)v.bindBuffer(34962,Ca.buffer),v.vertexAttribPointer(Eb,nb,Sb,fb,Pa,Ra),La.type=Sb,La.size=nb,La.buffer=Ca,La.normalized=fb,La.offset=Ra,La.stride=Pa;La.divisor!==pc&&(K.vertexAttribDivisorANGLE(Eb,pc),La.divisor=pc)}else if(La.buffer&&(v.disableVertexAttribArray(Eb),La.buffer=null),La.x!==Zb||La.y!==Tb||La.z!==yb||La.w!==Za)v.vertexAttrib4f(Eb,
Zb,Tb,yb,Za),La.x=Zb,La.y=Tb,La.z=yb,La.w=Za;sb=a.call(this,ja,b,0);gb=!1;Na=null;oc=0;Jb=!1;cb=Vc=0;lc=1;Fc=0;ic=5126;ob=ta=kb=jb=0;ia(sb)?(gb=!0,Na=L.createStream(34962,sb),ic=Na.dtype):(Na=L.getBuffer(sb))?ic=Na.dtype:"constant"in sb?(lc=2,"number"===typeof sb.constant?(kb=sb.constant,ta=ob=jb=0):(kb=0<sb.constant.length?sb.constant[0]:0,ta=1<sb.constant.length?sb.constant[1]:0,ob=2<sb.constant.length?sb.constant[2]:0,jb=3<sb.constant.length?sb.constant[3]:0)):(Na=ia(sb.buffer)?L.createStream(34962,
sb.buffer):L.getBuffer(sb.buffer),ic="type"in sb?Kd[sb.type]:Na.dtype,Jb=!!sb.normalized,cb=sb.size|0,Vc=sb.offset|0,Fc=sb.stride|0,oc=sb.divisor|0);va=kc.location;Ta=aa[va];if(1===lc){Ta.buffer||v.enableVertexAttribArray(va);bb=cb||1;if(Ta.type!==ic||Ta.size!==bb||Ta.buffer!==Na||Ta.normalized!==Jb||Ta.offset!==Vc||Ta.stride!==Fc)v.bindBuffer(34962,Na.buffer),v.vertexAttribPointer(va,bb,ic,Jb,Fc,Vc),Ta.type=ic,Ta.size=bb,Ta.buffer=Na,Ta.normalized=Jb,Ta.offset=Vc,Ta.stride=Fc;Ta.divisor!==oc&&(K.vertexAttribDivisorANGLE(va,
oc),Ta.divisor=oc)}else if(Ta.buffer&&(v.disableVertexAttribArray(va),Ta.buffer=null),Ta.x!==kb||Ta.y!==ta||Ta.z!==ob||Ta.w!==jb)v.vertexAttrib4f(va,kb,ta,ob,jb),Ta.x=kb,Ta.y=ta,Ta.z=ob,Ta.w=jb;za=u.call(this,ja,b,0);db=!1;Ia=null;zb=0;xb=!1;Ic=Qa=0;Kb=1;Mb=0;Ub=5126;Pb=Ja=Bb=wa=0;ia(za)?(db=!0,Ia=L.createStream(34962,za),Ub=Ia.dtype):(Ia=L.getBuffer(za))?Ub=Ia.dtype:"constant"in za?(Kb=2,"number"===typeof za.constant?(Bb=za.constant,Ja=Pb=wa=0):(Bb=0<za.constant.length?za.constant[0]:0,Ja=1<za.constant.length?
za.constant[1]:0,Pb=2<za.constant.length?za.constant[2]:0,wa=3<za.constant.length?za.constant[3]:0)):(Ia=ia(za.buffer)?L.createStream(34962,za.buffer):L.getBuffer(za.buffer),Ub="type"in za?Kd[za.type]:Ia.dtype,xb=!!za.normalized,Ic=za.size|0,Qa=za.offset|0,Mb=za.stride|0,zb=za.divisor|0);eb=vc.location;hb=aa[eb];if(1===Kb){hb.buffer||v.enableVertexAttribArray(eb);xa=Ic||1;if(hb.type!==Ub||hb.size!==xa||hb.buffer!==Ia||hb.normalized!==xb||hb.offset!==Qa||hb.stride!==Mb)v.bindBuffer(34962,Ia.buffer),
v.vertexAttribPointer(eb,xa,Ub,xb,Mb,Qa),hb.type=Ub,hb.size=xa,hb.buffer=Ia,hb.normalized=xb,hb.offset=Qa,hb.stride=Mb;hb.divisor!==zb&&(K.vertexAttribDivisorANGLE(eb,zb),hb.divisor=zb)}else if(hb.buffer&&(v.disableVertexAttribArray(eb),hb.buffer=null),hb.x!==Bb||hb.y!==Ja||hb.z!==Pb||hb.w!==wa)v.vertexAttrib4f(eb,Bb,Ja,Pb,wa),hb.x=Bb,hb.y=Ja,hb.z=Pb,hb.w=wa;dc=c.call(this,ja,b,0);Da=!1;pb=null;qb=0;Xa=!1;mc=Ya=0;ed=1;sc=0;Ua=5126;wc=Fa=ad=Nb=0;ia(dc)?(Da=!0,pb=L.createStream(34962,dc),Ua=pb.dtype):
(pb=L.getBuffer(dc))?Ua=pb.dtype:"constant"in dc?(ed=2,"number"===typeof dc.constant?(ad=dc.constant,Fa=wc=Nb=0):(ad=0<dc.constant.length?dc.constant[0]:0,Fa=1<dc.constant.length?dc.constant[1]:0,wc=2<dc.constant.length?dc.constant[2]:0,Nb=3<dc.constant.length?dc.constant[3]:0)):(pb=ia(dc.buffer)?L.createStream(34962,dc.buffer):L.getBuffer(dc.buffer),Ua="type"in dc?Kd[dc.type]:pb.dtype,Xa=!!dc.normalized,mc=dc.size|0,Ya=dc.offset|0,sc=dc.stride|0,qb=dc.divisor|0);Oa=ea.location;Aa=aa[Oa];if(1===ed){Aa.buffer||
v.enableVertexAttribArray(Oa);lb=mc||1;if(Aa.type!==Ua||Aa.size!==lb||Aa.buffer!==pb||Aa.normalized!==Xa||Aa.offset!==Ya||Aa.stride!==sc)v.bindBuffer(34962,pb.buffer),v.vertexAttribPointer(Oa,lb,Ua,Xa,sc,Ya),Aa.type=Ua,Aa.size=lb,Aa.buffer=pb,Aa.normalized=Xa,Aa.offset=Ya,Aa.stride=sc;Aa.divisor!==qb&&(K.vertexAttribDivisorANGLE(Oa,qb),Aa.divisor=qb)}else if(Aa.buffer&&(v.disableVertexAttribArray(Oa),Aa.buffer=null),Aa.x!==ad||Aa.y!==Fa||Aa.z!==wc||Aa.w!==Nb)v.vertexAttrib4f(Oa,ad,Fa,wc,Nb),Aa.x=
ad,Aa.y=Fa,Aa.z=wc,Aa.w=Nb;tb=r.call(this,ja,b,0);Ab=!1;rb=null;tc=0;ub=!1;rc=wd=0;Hd=1;Lc=0;jd=5126;Qb=ac=Vb=fd=0;ia(tb)?(Ab=!0,rb=L.createStream(34962,tb),jd=rb.dtype):(rb=L.getBuffer(tb))?jd=rb.dtype:"constant"in tb?(Hd=2,"number"===typeof tb.constant?(Vb=tb.constant,ac=Qb=fd=0):(Vb=0<tb.constant.length?tb.constant[0]:0,ac=1<tb.constant.length?tb.constant[1]:0,Qb=2<tb.constant.length?tb.constant[2]:0,fd=3<tb.constant.length?tb.constant[3]:0)):(rb=ia(tb.buffer)?L.createStream(34962,tb.buffer):L.getBuffer(tb.buffer),
jd="type"in tb?Kd[tb.type]:rb.dtype,ub=!!tb.normalized,rc=tb.size|0,wd=tb.offset|0,Lc=tb.stride|0,tc=tb.divisor|0);Ga=$a.location;Yb=aa[Ga];if(1===Hd){Yb.buffer||v.enableVertexAttribArray(Ga);mb=rc||1;if(Yb.type!==jd||Yb.size!==mb||Yb.buffer!==rb||Yb.normalized!==ub||Yb.offset!==wd||Yb.stride!==Lc)v.bindBuffer(34962,rb.buffer),v.vertexAttribPointer(Ga,mb,jd,ub,Lc,wd),Yb.type=jd,Yb.size=mb,Yb.buffer=rb,Yb.normalized=ub,Yb.offset=wd,Yb.stride=Lc;Yb.divisor!==tc&&(K.vertexAttribDivisorANGLE(Ga,tc),Yb.divisor=
tc)}else if(Yb.buffer&&(v.disableVertexAttribArray(Ga),Yb.buffer=null),Yb.x!==Vb||Yb.y!==ac||Yb.z!==Qb||Yb.w!==fd)v.vertexAttrib4f(Ga,Vb,ac,Qb,fd),Yb.x=Vb,Yb.y=ac,Yb.z=Qb,Yb.w=fd;vb=z.call(this,ja,b,0);Ob=!1;Rb=null;ec=0;gc=!1;zc=Rc=0;Ac=1;Cc=0;Mc=5126;Lb=Nc=Sc=bd=0;ia(vb)?(Ob=!0,Rb=L.createStream(34962,vb),Mc=Rb.dtype):(Rb=L.getBuffer(vb))?Mc=Rb.dtype:"constant"in vb?(Ac=2,"number"===typeof vb.constant?(Sc=vb.constant,Nc=Lb=bd=0):(Sc=0<vb.constant.length?vb.constant[0]:0,Nc=1<vb.constant.length?
vb.constant[1]:0,Lb=2<vb.constant.length?vb.constant[2]:0,bd=3<vb.constant.length?vb.constant[3]:0)):(Rb=ia(vb.buffer)?L.createStream(34962,vb.buffer):L.getBuffer(vb.buffer),Mc="type"in vb?Kd[vb.type]:Rb.dtype,gc=!!vb.normalized,zc=vb.size|0,Rc=vb.offset|0,Cc=vb.stride|0,ec=vb.divisor|0);Fb=P.location;Oc=aa[Fb];if(1===Ac){Oc.buffer||v.enableVertexAttribArray(Fb);Gc=zc||4;if(Oc.type!==Mc||Oc.size!==Gc||Oc.buffer!==Rb||Oc.normalized!==gc||Oc.offset!==Rc||Oc.stride!==Cc)v.bindBuffer(34962,Rb.buffer),
v.vertexAttribPointer(Fb,Gc,Mc,gc,Cc,Rc),Oc.type=Mc,Oc.size=Gc,Oc.buffer=Rb,Oc.normalized=gc,Oc.offset=Rc,Oc.stride=Cc;Oc.divisor!==ec&&(K.vertexAttribDivisorANGLE(Fb,ec),Oc.divisor=ec)}else if(Oc.buffer&&(v.disableVertexAttribArray(Fb),Oc.buffer=null),Oc.x!==Sc||Oc.y!==Nc||Oc.z!==Lb||Oc.w!==bd)v.vertexAttrib4f(Fb,Sc,Nc,Lb,bd),Oc.x=Sc,Oc.y=Nc,Oc.z=Lb,Oc.w=bd;Tc=ka.call(this,ja,b,0);fc=!1;Xc=null;gd=0;Vd=!1;Yc=ye=0;Qd=1;ie=0;ve=5126;Dd=Fd=be=te=0;ia(Tc)?(fc=!0,Xc=L.createStream(34962,Tc),ve=Xc.dtype):
(Xc=L.getBuffer(Tc))?ve=Xc.dtype:"constant"in Tc?(Qd=2,"number"===typeof Tc.constant?(be=Tc.constant,Fd=Dd=te=0):(be=0<Tc.constant.length?Tc.constant[0]:0,Fd=1<Tc.constant.length?Tc.constant[1]:0,Dd=2<Tc.constant.length?Tc.constant[2]:0,te=3<Tc.constant.length?Tc.constant[3]:0)):(Xc=ia(Tc.buffer)?L.createStream(34962,Tc.buffer):L.getBuffer(Tc.buffer),ve="type"in Tc?Kd[Tc.type]:Xc.dtype,Vd=!!Tc.normalized,Yc=Tc.size|0,ye=Tc.offset|0,ie=Tc.stride|0,gd=Tc.divisor|0);id=Wb.location;Dc=aa[id];if(1===Qd){Dc.buffer||
v.enableVertexAttribArray(id);pd=Yc||4;if(Dc.type!==ve||Dc.size!==pd||Dc.buffer!==Xc||Dc.normalized!==Vd||Dc.offset!==ye||Dc.stride!==ie)v.bindBuffer(34962,Xc.buffer),v.vertexAttribPointer(id,pd,ve,Vd,ie,ye),Dc.type=ve,Dc.size=pd,Dc.buffer=Xc,Dc.normalized=Vd,Dc.offset=ye,Dc.stride=ie;Dc.divisor!==gd&&(K.vertexAttribDivisorANGLE(id,gd),Dc.divisor=gd)}else if(Dc.buffer&&(v.disableVertexAttribArray(id),Dc.buffer=null),Dc.x!==be||Dc.y!==Fd||Dc.z!==Dd||Dc.w!==te)v.vertexAttrib4f(id,be,Fd,Dd,te),Dc.x=
be,Dc.y=Fd,Dc.z=Dd,Dc.w=te;kd=F.call(this,ja,b,0);dd=!1;md=null;Ad=0;Bd=!1;ze=se=0;xe=1;de=0;ce=5126;ge=Yd=oe=$d=0;ia(kd)?(dd=!0,md=L.createStream(34962,kd),ce=md.dtype):(md=L.getBuffer(kd))?ce=md.dtype:"constant"in kd?(xe=2,"number"===typeof kd.constant?(oe=kd.constant,Yd=ge=$d=0):(oe=0<kd.constant.length?kd.constant[0]:0,Yd=1<kd.constant.length?kd.constant[1]:0,ge=2<kd.constant.length?kd.constant[2]:0,$d=3<kd.constant.length?kd.constant[3]:0)):(md=ia(kd.buffer)?L.createStream(34962,kd.buffer):L.getBuffer(kd.buffer),
ce="type"in kd?Kd[kd.type]:md.dtype,Bd=!!kd.normalized,ze=kd.size|0,se=kd.offset|0,de=kd.stride|0,Ad=kd.divisor|0);xc=la.location;Wc=aa[xc];if(1===xe){Wc.buffer||v.enableVertexAttribArray(xc);pe=ze||1;if(Wc.type!==ce||Wc.size!==pe||Wc.buffer!==md||Wc.normalized!==Bd||Wc.offset!==se||Wc.stride!==de)v.bindBuffer(34962,md.buffer),v.vertexAttribPointer(xc,pe,ce,Bd,de,se),Wc.type=ce,Wc.size=pe,Wc.buffer=md,Wc.normalized=Bd,Wc.offset=se,Wc.stride=de;Wc.divisor!==Ad&&(K.vertexAttribDivisorANGLE(xc,Ad),Wc.divisor=
Ad)}else if(Wc.buffer&&(v.disableVertexAttribArray(xc),Wc.buffer=null),Wc.x!==oe||Wc.y!==Yd||Wc.z!==ge||Wc.w!==$d)v.vertexAttrib4f(xc,oe,Yd,ge,$d),Wc.x=oe,Wc.y=Yd,Wc.z=ge,Wc.w=$d;v.uniform1i(x.location,!1);v.uniform1f(Ha.location,ja.pixelRatio);je=b.scale;v.uniform2f(W.location,je[0],je[1]);Ed=b.scaleFract;v.uniform2f(ib.location,Ed[0],Ed[1]);Jd=b.translate;v.uniform2f(sa.location,Jd[0],Jd[1]);Ld=b.translateFract;v.uniform2f(cc.location,Ld[0],Ld[1]);Md=B.call(this,ja,b,0);v.uniform2f(Ma.location,
Md[0],Md[1]);v.uniform1f(Ea.location,b.opacity);v.uniform1i(bc.location,t.bind());(he=b.markerTexture)&&"framebuffer"===he._reglType&&(he=he.color[0]);Fe=he._texture;v.uniform1i(ca.location,Fe.bind());we=b.elements;me=null;(me=(Ye=ia(we))?Jc.createStream(we):Jc.getElements(we))&&v.bindBuffer(34963,me.buffer.buffer);Oe=b.offset;if(Le=b.count)qe=Gb.instances,0<qe?me?K.drawElementsInstancedANGLE(0,Le,me.type,Oe<<(me.type-5121>>1),qe):K.drawArraysInstancedANGLE(0,Oe,Le,qe):0>qe&&(me?v.drawElements(0,
Le,me.type,Oe<<(me.type-5121>>1)):v.drawArrays(0,Oe,Le)),Ba.dirty=!0,ra.setVAO(null),ja.viewportWidth=q,ja.viewportHeight=y,I&&(V.cpuTime+=performance.now()-Q),O&&L.destroyStream(G),Va&&L.destroyStream(Ca),gb&&L.destroyStream(Na),db&&L.destroyStream(Ia),Da&&L.destroyStream(pb),Ab&&L.destroyStream(rb),Ob&&L.destroyStream(Rb),fc&&L.destroyStream(Xc),dd&&L.destroyStream(md),t.unbind(),Fe.unbind(),Ye&&Jc.destroyStream(me)},scope:function(a,c,d){var f,l,n,p,u,w,r,v,t,x,H,C,B,M,F,K,z,O,aa,da,X,S,P,T,ga,
W,Y,ka,ca,oa,ea,la,na,ra,qa,sa,ma,Ha,Ea,Ma,wb,Pa,$a,vc,Ib,Eb,La,nb,sb,gb,Na,ib,Jb,jc,cb,td,Za,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,yb,Kb,Mb,Ub,wa,Wb,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,Bb,sc,Ua,Nb,cc,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,nc,rc,bc,Lc,kc,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,sd,Bc,Yc,cd,ae,Xd,Id,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,ee,re,ue,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,Jd,Ld,Md,he,ke,we,me,xe,Oe,Le,qe,Ce,Ge,He,Ie,De,Gd,Pd,Wd,Zd,Je,zd,Nd,Ae,
Ke,We,Ve,Pe,Me,Ue,Te,Qe,Re,Od,Td,Se,gf,mf,cf,hf,jf,kf,qf,nf,rf,Af,Bf,Ne,Be,of,pf,Cf,Ff,zf,Df,Ef,vf,wf,uf,xf,yf,Hf,Jf,Kf,Lf,sf,Qf,Gf,tf,dg,Rf,Sf,qg,df,$e,Mf,Nf,eg,fg,gg,hg,ig,Wf,Uf,Xf,Yf,Zf,jg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,ef,af,Of,Pf,kg,lg,mg,ng,og,$f,Vf,ag,bg,cg,pg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg;f=a.viewport;l=f.x|0;n=f.y|0;p="width"in f?f.width|0:ja.framebufferWidth-l;u="height"in f?f.height|0:ja.framebufferHeight-n;w=ja.viewportWidth;ja.viewportWidth=p;r=ja.viewportHeight;ja.viewportHeight=
u;v=Qd[0];Qd[0]=l;t=Qd[1];Qd[1]=n;x=Qd[2];Qd[2]=p;H=Qd[3];Qd[3]=u;C=D[0];D[0]=0;B=D[1];D[1]=0;M=D[2];D[2]=0;F=D[3];D[3]=1;K=ua.blend_enable;ua.blend_enable=!0;z=ya[0];ya[0]=770;O=ya[1];ya[1]=771;aa=ya[2];ya[2]=773;da=ya[3];ya[3]=1;X=ua.depth_enable;ua.depth_enable=!1;S=a.viewport;P=S.x|0;T=S.y|0;ga="width"in S?S.width|0:ja.framebufferWidth-P;W="height"in S?S.height|0:ja.framebufferHeight-T;Y=se[0];se[0]=P;ka=se[1];se[1]=T;ca=se[2];se[2]=ga;oa=se[3];se[3]=W;ea=ua.scissor_enable;ua.scissor_enable=!0;
la=ua.stencil_enable;ua.stencil_enable=!1;if(na=Ba.profile)ra=performance.now(),V.count++;qa=a.elements;sa=null;sa=(ma=ia(qa))?Jc.createStream(qa):Jc.getElements(qa);Ha=Gb.elements;Gb.elements=sa;Ea=a.offset;Ma=Gb.offset;Gb.offset=Ea;wb=a.count;Pa=Gb.count;Gb.count=wb;$a=Gb.primitive;Gb.primitive=0;vc=ha[45];ha[45]=!1;Ib=a.markerTexture;Eb=ha[48];ha[48]=Ib;La=a.opacity;nb=ha[10];ha[10]=La;sb=A.call(this,ja,a,d);gb=ha[46];ha[46]=sb;Na=ha[47];ha[47]=I;ib=ja.pixelRatio;Jb=ha[34];ha[34]=ib;jc=a.scale;
cb=ha[6];ha[6]=jc;td=a.scaleFract;Za=ha[7];ha[7]=td;ic=a.translate;jb=ha[8];ha[8]=ic;kb=a.translateFract;ta=ha[9];ha[9]=kb;ob=y.call(this,ja,a,d);va=!1;Ta=null;bb=0;za=!1;Ia=db=0;zb=1;xb=0;Qa=5126;Ub=Mb=Kb=yb=0;ia(ob)?(va=!0,Ta=L.createStream(34962,ob),Qa=Ta.dtype):(Ta=L.getBuffer(ob))?Qa=Ta.dtype:"constant"in ob?(zb=2,"number"===typeof ob.constant?(Kb=ob.constant,Mb=Ub=yb=0):(Kb=0<ob.constant.length?ob.constant[0]:0,Mb=1<ob.constant.length?ob.constant[1]:0,Ub=2<ob.constant.length?ob.constant[2]:
0,yb=3<ob.constant.length?ob.constant[3]:0)):(Ta=ia(ob.buffer)?L.createStream(34962,ob.buffer):L.getBuffer(ob.buffer),Qa="type"in ob?Kd[ob.type]:Ta.dtype,za=!!ob.normalized,Ia=ob.size|0,db=ob.offset|0,xb=ob.stride|0,bb=ob.divisor|0);wa=E.buffer;E.buffer=Ta;Wb=E.divisor;E.divisor=bb;Ja=E.normalized;E.normalized=za;Pb=E.offset;E.offset=db;eb=E.size;E.size=Ia;hb=E.state;E.state=zb;xa=E.stride;E.stride=xb;dc=E.type;E.type=Qa;Da=E.w;E.w=yb;pb=E.x;E.x=Kb;qb=E.y;E.y=Mb;Xa=E.z;E.z=Ub;Ya=N.call(this,ja,a,
d);mc=!1;Bb=null;sc=0;Ua=!1;cc=Nb=0;Fa=1;wc=0;Oa=5126;Ab=tb=lb=Aa=0;ia(Ya)?(mc=!0,Bb=L.createStream(34962,Ya),Oa=Bb.dtype):(Bb=L.getBuffer(Ya))?Oa=Bb.dtype:"constant"in Ya?(Fa=2,"number"===typeof Ya.constant?(lb=Ya.constant,tb=Ab=Aa=0):(lb=0<Ya.constant.length?Ya.constant[0]:0,tb=1<Ya.constant.length?Ya.constant[1]:0,Ab=2<Ya.constant.length?Ya.constant[2]:0,Aa=3<Ya.constant.length?Ya.constant[3]:0)):(Bb=ia(Ya.buffer)?L.createStream(34962,Ya.buffer):L.getBuffer(Ya.buffer),Oa="type"in Ya?Kd[Ya.type]:
Bb.dtype,Ua=!!Ya.normalized,cc=Ya.size|0,Nb=Ya.offset|0,wc=Ya.stride|0,sc=Ya.divisor|0);rb=G.buffer;G.buffer=Bb;tc=G.divisor;G.divisor=sc;ub=G.normalized;G.normalized=Ua;nc=G.offset;G.offset=Nb;rc=G.size;G.size=cc;bc=G.state;G.state=Fa;Lc=G.stride;G.stride=wc;kc=G.type;G.type=Oa;fd=G.w;G.w=Aa;Vb=G.x;G.x=lb;ac=G.y;G.y=tb;Qb=G.z;G.z=Ab;Ga=pc.call(this,ja,a,d);Yb=!1;mb=null;vb=0;Ob=!1;ec=Rb=0;gc=1;Rc=0;zc=5126;bd=Mc=Cc=Ac=0;ia(Ga)?(Yb=!0,mb=L.createStream(34962,Ga),zc=mb.dtype):(mb=L.getBuffer(Ga))?
zc=mb.dtype:"constant"in Ga?(gc=2,"number"===typeof Ga.constant?(Cc=Ga.constant,Mc=bd=Ac=0):(Cc=0<Ga.constant.length?Ga.constant[0]:0,Mc=1<Ga.constant.length?Ga.constant[1]:0,bd=2<Ga.constant.length?Ga.constant[2]:0,Ac=3<Ga.constant.length?Ga.constant[3]:0)):(mb=ia(Ga.buffer)?L.createStream(34962,Ga.buffer):L.getBuffer(Ga.buffer),zc="type"in Ga?Kd[Ga.type]:mb.dtype,Ob=!!Ga.normalized,ec=Ga.size|0,Rb=Ga.offset|0,Rc=Ga.stride|0,vb=Ga.divisor|0);Sc=k.buffer;k.buffer=mb;Nc=k.divisor;k.divisor=vb;Lb=k.normalized;
k.normalized=Ob;Fb=k.offset;k.offset=Rb;Oc=k.size;k.size=ec;Gc=k.state;k.state=gc;Tc=k.stride;k.stride=Rc;fc=k.type;k.type=zc;Xc=k.w;k.w=Ac;gd=k.x;k.x=Cc;sd=k.y;k.y=Mc;Bc=k.z;k.z=bd;Yc=h.call(this,ja,a,d);cd=!1;ae=null;Xd=0;Id=!1;Fd=be=0;Dd=1;id=0;Dc=5126;md=dd=kd=pd=0;ia(Yc)?(cd=!0,ae=L.createStream(34962,Yc),Dc=ae.dtype):(ae=L.getBuffer(Yc))?Dc=ae.dtype:"constant"in Yc?(Dd=2,"number"===typeof Yc.constant?(kd=Yc.constant,dd=md=pd=0):(kd=0<Yc.constant.length?Yc.constant[0]:0,dd=1<Yc.constant.length?
Yc.constant[1]:0,md=2<Yc.constant.length?Yc.constant[2]:0,pd=3<Yc.constant.length?Yc.constant[3]:0)):(ae=ia(Yc.buffer)?L.createStream(34962,Yc.buffer):L.getBuffer(Yc.buffer),Dc="type"in Yc?Kd[Yc.type]:ae.dtype,Id=!!Yc.normalized,Fd=Yc.size|0,be=Yc.offset|0,id=Yc.stride|0,Xd=Yc.divisor|0);Ad=g.buffer;g.buffer=ae;Bd=g.divisor;g.divisor=Xd;ee=g.normalized;g.normalized=Id;re=g.offset;g.offset=be;ue=g.size;g.size=Fd;de=g.state;g.state=Dd;ce=g.stride;g.stride=id;$d=g.type;g.type=Dc;oe=g.w;g.w=pd;Yd=g.x;
g.x=kd;ge=g.y;g.y=dd;xc=g.z;g.z=md;Wc=q.call(this,ja,a,d);pe=!1;je=null;Ed=0;Jd=!1;Md=Ld=0;he=1;ke=0;we=5126;Le=Oe=xe=me=0;ia(Wc)?(pe=!0,je=L.createStream(34962,Wc),we=je.dtype):(je=L.getBuffer(Wc))?we=je.dtype:"constant"in Wc?(he=2,"number"===typeof Wc.constant?(xe=Wc.constant,Oe=Le=me=0):(xe=0<Wc.constant.length?Wc.constant[0]:0,Oe=1<Wc.constant.length?Wc.constant[1]:0,Le=2<Wc.constant.length?Wc.constant[2]:0,me=3<Wc.constant.length?Wc.constant[3]:0)):(je=ia(Wc.buffer)?L.createStream(34962,Wc.buffer):
L.getBuffer(Wc.buffer),we="type"in Wc?Kd[Wc.type]:je.dtype,Jd=!!Wc.normalized,Md=Wc.size|0,Ld=Wc.offset|0,ke=Wc.stride|0,Ed=Wc.divisor|0);qe=Q.buffer;Q.buffer=je;Ce=Q.divisor;Q.divisor=Ed;Ge=Q.normalized;Q.normalized=Jd;He=Q.offset;Q.offset=Ld;Ie=Q.size;Q.size=Md;De=Q.state;Q.state=he;Gd=Q.stride;Q.stride=ke;Pd=Q.type;Q.type=we;Wd=Q.w;Q.w=me;Zd=Q.x;Q.x=xe;Je=Q.y;Q.y=Oe;zd=Q.z;Q.z=Le;Nd=R.call(this,ja,a,d);Ae=!1;Ke=null;We=0;Ve=!1;Me=Pe=0;Ue=1;Te=0;Qe=5126;Se=Td=Od=Re=0;ia(Nd)?(Ae=!0,Ke=L.createStream(34962,
Nd),Qe=Ke.dtype):(Ke=L.getBuffer(Nd))?Qe=Ke.dtype:"constant"in Nd?(Ue=2,"number"===typeof Nd.constant?(Od=Nd.constant,Td=Se=Re=0):(Od=0<Nd.constant.length?Nd.constant[0]:0,Td=1<Nd.constant.length?Nd.constant[1]:0,Se=2<Nd.constant.length?Nd.constant[2]:0,Re=3<Nd.constant.length?Nd.constant[3]:0)):(Ke=ia(Nd.buffer)?L.createStream(34962,Nd.buffer):L.getBuffer(Nd.buffer),Qe="type"in Nd?Kd[Nd.type]:Ke.dtype,Ve=!!Nd.normalized,Me=Nd.size|0,Pe=Nd.offset|0,Te=Nd.stride|0,We=Nd.divisor|0);gf=m.buffer;m.buffer=
Ke;mf=m.divisor;m.divisor=We;cf=m.normalized;m.normalized=Ve;hf=m.offset;m.offset=Pe;jf=m.size;m.size=Me;kf=m.state;m.state=Ue;qf=m.stride;m.stride=Te;nf=m.type;m.type=Qe;rf=m.w;m.w=Re;Af=m.x;m.x=Od;Bf=m.y;m.y=Td;Ne=m.z;m.z=Se;Be=pa.call(this,ja,a,d);of=!1;pf=null;Cf=0;Ff=!1;Df=zf=0;Ef=1;vf=0;wf=5126;Hf=yf=xf=uf=0;ia(Be)?(of=!0,pf=L.createStream(34962,Be),wf=pf.dtype):(pf=L.getBuffer(Be))?wf=pf.dtype:"constant"in Be?(Ef=2,"number"===typeof Be.constant?(xf=Be.constant,yf=Hf=uf=0):(xf=0<Be.constant.length?
Be.constant[0]:0,yf=1<Be.constant.length?Be.constant[1]:0,Hf=2<Be.constant.length?Be.constant[2]:0,uf=3<Be.constant.length?Be.constant[3]:0)):(pf=ia(Be.buffer)?L.createStream(34962,Be.buffer):L.getBuffer(Be.buffer),wf="type"in Be?Kd[Be.type]:pf.dtype,Ff=!!Be.normalized,Df=Be.size|0,zf=Be.offset|0,vf=Be.stride|0,Cf=Be.divisor|0);Jf=J.buffer;J.buffer=pf;Kf=J.divisor;J.divisor=Cf;Lf=J.normalized;J.normalized=Ff;sf=J.offset;J.offset=zf;Qf=J.size;J.size=Df;Gf=J.state;J.state=Ef;tf=J.stride;J.stride=vf;
dg=J.type;J.type=wf;Rf=J.w;J.w=uf;Sf=J.x;J.x=xf;qg=J.y;J.y=yf;df=J.z;J.z=Hf;$e=fa.call(this,ja,a,d);Mf=!1;Nf=null;eg=0;fg=!1;hg=gg=0;ig=1;Wf=0;Uf=5126;jg=Zf=Yf=Xf=0;ia($e)?(Mf=!0,Nf=L.createStream(34962,$e),Uf=Nf.dtype):(Nf=L.getBuffer($e))?Uf=Nf.dtype:"constant"in $e?(ig=2,"number"===typeof $e.constant?(Yf=$e.constant,Zf=jg=Xf=0):(Yf=0<$e.constant.length?$e.constant[0]:0,Zf=1<$e.constant.length?$e.constant[1]:0,jg=2<$e.constant.length?$e.constant[2]:0,Xf=3<$e.constant.length?$e.constant[3]:0)):(Nf=
ia($e.buffer)?L.createStream(34962,$e.buffer):L.getBuffer($e.buffer),Uf="type"in $e?Kd[$e.type]:Nf.dtype,fg=!!$e.normalized,hg=$e.size|0,gg=$e.offset|0,Wf=$e.stride|0,eg=$e.divisor|0);rg=b.buffer;b.buffer=Nf;sg=b.divisor;b.divisor=eg;tg=b.normalized;b.normalized=fg;ug=b.offset;b.offset=gg;vg=b.size;b.size=hg;wg=b.state;b.state=ig;xg=b.stride;b.stride=Wf;yg=b.type;b.type=Uf;zg=b.w;b.w=Xf;Ag=b.x;b.x=Yf;Bg=b.y;b.y=Zf;ef=b.z;b.z=jg;af=e.call(this,ja,a,d);Of=!1;Pf=null;kg=0;lg=!1;ng=mg=0;og=1;$f=0;Vf=
5126;pg=cg=bg=ag=0;ia(af)?(Of=!0,Pf=L.createStream(34962,af),Vf=Pf.dtype):(Pf=L.getBuffer(af))?Vf=Pf.dtype:"constant"in af?(og=2,"number"===typeof af.constant?(bg=af.constant,cg=pg=ag=0):(bg=0<af.constant.length?af.constant[0]:0,cg=1<af.constant.length?af.constant[1]:0,pg=2<af.constant.length?af.constant[2]:0,ag=3<af.constant.length?af.constant[3]:0)):(Pf=ia(af.buffer)?L.createStream(34962,af.buffer):L.getBuffer(af.buffer),Vf="type"in af?Kd[af.type]:Pf.dtype,lg=!!af.normalized,ng=af.size|0,mg=af.offset|
0,$f=af.stride|0,kg=af.divisor|0);Cg=ba.buffer;ba.buffer=Pf;Dg=ba.divisor;ba.divisor=kg;Eg=ba.normalized;ba.normalized=lg;Fg=ba.offset;ba.offset=mg;Gg=ba.size;ba.size=ng;Hg=ba.state;ba.state=og;Ig=ba.stride;ba.stride=$f;Jg=ba.type;ba.type=Vf;Kg=ba.w;ba.w=ag;Lg=ba.x;ba.x=bg;Mg=ba.y;ba.y=cg;Ng=ba.z;ba.z=pg;Og=U.vert;U.vert=44;Pg=U.frag;U.frag=43;Ba.dirty=!0;c(ja,a,d);ja.viewportWidth=w;ja.viewportHeight=r;Qd[0]=v;Qd[1]=t;Qd[2]=x;Qd[3]=H;D[0]=C;D[1]=B;D[2]=M;D[3]=F;ua.blend_enable=K;ya[0]=z;ya[1]=O;
ya[2]=aa;ya[3]=da;ua.depth_enable=X;se[0]=Y;se[1]=ka;se[2]=ca;se[3]=oa;ua.scissor_enable=ea;ua.stencil_enable=la;na&&(V.cpuTime+=performance.now()-ra);ma&&Jc.destroyStream(sa);Gb.elements=Ha;Gb.offset=Ma;Gb.count=Pa;Gb.primitive=$a;ha[45]=vc;ha[48]=Eb;ha[10]=nb;ha[46]=gb;ha[47]=Na;ha[34]=Jb;ha[6]=cb;ha[7]=Za;ha[8]=jb;ha[9]=ta;va&&L.destroyStream(Ta);E.buffer=wa;E.divisor=Wb;E.normalized=Ja;E.offset=Pb;E.size=eb;E.state=hb;E.stride=xa;E.type=dc;E.w=Da;E.x=pb;E.y=qb;E.z=Xa;mc&&L.destroyStream(Bb);G.buffer=
rb;G.divisor=tc;G.normalized=ub;G.offset=nc;G.size=rc;G.state=bc;G.stride=Lc;G.type=kc;G.w=fd;G.x=Vb;G.y=ac;G.z=Qb;Yb&&L.destroyStream(mb);k.buffer=Sc;k.divisor=Nc;k.normalized=Lb;k.offset=Fb;k.size=Oc;k.state=Gc;k.stride=Tc;k.type=fc;k.w=Xc;k.x=gd;k.y=sd;k.z=Bc;cd&&L.destroyStream(ae);g.buffer=Ad;g.divisor=Bd;g.normalized=ee;g.offset=re;g.size=ue;g.state=de;g.stride=ce;g.type=$d;g.w=oe;g.x=Yd;g.y=ge;g.z=xc;pe&&L.destroyStream(je);Q.buffer=qe;Q.divisor=Ce;Q.normalized=Ge;Q.offset=He;Q.size=Ie;Q.state=
De;Q.stride=Gd;Q.type=Pd;Q.w=Wd;Q.x=Zd;Q.y=Je;Q.z=zd;Ae&&L.destroyStream(Ke);m.buffer=gf;m.divisor=mf;m.normalized=cf;m.offset=hf;m.size=jf;m.state=kf;m.stride=qf;m.type=nf;m.w=rf;m.x=Af;m.y=Bf;m.z=Ne;of&&L.destroyStream(pf);J.buffer=Jf;J.divisor=Kf;J.normalized=Lf;J.offset=sf;J.size=Qf;J.state=Gf;J.stride=tf;J.type=dg;J.w=Rf;J.x=Sf;J.y=qg;J.z=df;Mf&&L.destroyStream(Nf);b.buffer=rg;b.divisor=sg;b.normalized=tg;b.offset=ug;b.size=vg;b.state=wg;b.stride=xg;b.type=yg;b.w=zg;b.x=Ag;b.y=Bg;b.z=ef;Of&&
L.destroyStream(Pf);ba.buffer=Cg;ba.divisor=Dg;ba.normalized=Eg;ba.offset=Fg;ba.size=Gg;ba.state=Hg;ba.stride=Ig;ba.type=Jg;ba.w=Kg;ba.x=Lg;ba.y=Mg;ba.z=Ng;U.vert=Og;U.frag=Pg;Ba.dirty=!0}}},"$45,borderColorId,borderSize,colorId,constPointSize,isActive,opacity,paletteSize,paletteTexture,pixelRatio,scale,scaleFract,size,translate,translateFract,x,xFract,y,yFract":function(d,V,p,H,f,a,u,c,r,z,ka,F,B,t,A,I,y,E,N,G,pc,k,h,g,q,Q,R,m,pa,J,fa,b,e,ba,na,Za,yb,Bb,ma,Pa,Y,K,M,T,qa,O,Wb,$a,P,x,la,ca,Ea,Ma,bc,
Ha,W,ib,ea,sa,cc,nc,kc,td){var vc,aa,L,ja,Ba,Gb,Jc,Bc,C,v,ia,ua,U,ha,ra,D,w,da,S,ya,oa,l,jc,X,n,Ib,wb,We,ke,se,ae,cd,re,sd,ee,ue,Id,Qd,Xd;vc=d.attributes;aa=d.buffer;L=d.context;ja=d.current;Ba=d.draw;Gb=d.elements;Jc=d.extensions;Bc=d.framebuffer;C=d.gl;v=d.isBufferArgs;ia=d.next;ua=d.shader;U=d.uniforms;ha=d.vao;ra=ia.blend_color;D=ja.blend_color;w=ia.blend_equation;da=ja.blend_equation;S=ia.blend_func;ya=ja.blend_func;oa=ia.colorMask;l=ja.colorMask;jc=ia.depth_range;X=ja.depth_range;n=ia.polygonOffset_offset;
Ib=ja.polygonOffset_offset;wb=ia.sample_coverage;We=ja.sample_coverage;ke=ia.scissor_box;se=ja.scissor_box;ae=ia.stencil_func;cd=ja.stencil_func;re=ia.stencil_opBack;sd=ja.stencil_opBack;ee=ia.stencil_opFront;ue=ja.stencil_opFront;Id=ia.viewport;Qd=ja.viewport;Xd={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};return{batch:function(a,b){var c,e,d,f,g,h;c=Bc.next;c!==Bc.cur&&(c?C.bindFramebuffer(36160,c.framebuffer):C.bindFramebuffer(36160,null),Bc.cur=
c);if(ja.dirty){var k,m,q,p,u,r,t,y,H,A,B,J,E,R,F,z,I,Q,G,S,U,ga,N,ba,ka,Z,fa,pa,ua,ra,pc,fb,Ra,Hb;k=ia.dither;k!==ja.dither&&(k?C.enable(3024):C.disable(3024),ja.dither=k);m=w[0];q=w[1];if(m!==da[0]||q!==da[1])C.blendEquationSeparate(m,q),da[0]=m,da[1]=q;p=ia.depth_func;p!==ja.depth_func&&(C.depthFunc(p),ja.depth_func=p);u=jc[0];r=jc[1];if(u!==X[0]||r!==X[1])C.depthRange(u,r),X[0]=u,X[1]=r;t=ia.depth_mask;t!==ja.depth_mask&&(C.depthMask(t),ja.depth_mask=t);y=oa[0];H=oa[1];A=oa[2];B=oa[3];if(y!==
l[0]||H!==l[1]||A!==l[2]||B!==l[3])C.colorMask(y,H,A,B),l[0]=y,l[1]=H,l[2]=A,l[3]=B;J=ia.cull_enable;J!==ja.cull_enable&&(J?C.enable(2884):C.disable(2884),ja.cull_enable=J);E=ia.cull_face;E!==ja.cull_face&&(C.cullFace(E),ja.cull_face=E);R=ia.frontFace;R!==ja.frontFace&&(C.frontFace(R),ja.frontFace=R);F=ia.lineWidth;F!==ja.lineWidth&&(C.lineWidth(F),ja.lineWidth=F);z=ia.polygonOffset_enable;z!==ja.polygonOffset_enable&&(z?C.enable(32823):C.disable(32823),ja.polygonOffset_enable=z);I=n[0];Q=n[1];if(I!==
Ib[0]||Q!==Ib[1])C.polygonOffset(I,Q),Ib[0]=I,Ib[1]=Q;G=ia.sample_alpha;G!==ja.sample_alpha&&(G?C.enable(32926):C.disable(32926),ja.sample_alpha=G);S=ia.sample_enable;S!==ja.sample_enable&&(S?C.enable(32928):C.disable(32928),ja.sample_enable=S);U=wb[0];ga=wb[1];if(U!==We[0]||ga!==We[1])C.sampleCoverage(U,ga),We[0]=U,We[1]=ga;N=ia.stencil_mask;N!==ja.stencil_mask&&(C.stencilMask(N),ja.stencil_mask=N);ba=ae[0];ka=ae[1];Z=ae[2];if(ba!==cd[0]||ka!==cd[1]||Z!==cd[2])C.stencilFunc(ba,ka,Z),cd[0]=ba,cd[1]=
ka,cd[2]=Z;fa=ee[0];pa=ee[1];ua=ee[2];ra=ee[3];if(fa!==ue[0]||pa!==ue[1]||ua!==ue[2]||ra!==ue[3])C.stencilOpSeparate(fa,pa,ua,ra),ue[0]=fa,ue[1]=pa,ue[2]=ua,ue[3]=ra;pc=re[0];fb=re[1];Ra=re[2];Hb=re[3];if(pc!==sd[0]||fb!==sd[1]||Ra!==sd[2]||Hb!==sd[3])C.stencilOpSeparate(pc,fb,Ra,Hb),sd[0]=pc,sd[1]=fb,sd[2]=Ra,sd[3]=Hb}C.blendColor(0,0,0,1);D[0]=0;D[1]=0;D[2]=0;D[3]=1;C.enable(3042);ja.blend_enable=!0;C.blendFuncSeparate(770,771,773,1);ya[0]=770;ya[1]=771;ya[2]=773;ya[3]=1;C.disable(2929);ja.depth_enable=
!1;C.enable(3089);ja.scissor_enable=!0;C.disable(2960);ja.stencil_enable=!1;if(e=ja.profile)d=performance.now(),V.count+=b;C.useProgram(na.program);f=Jc.angle_instanced_arrays;var Wa;ha.setVAO(null);C.uniform1i(x.location,!1);C.uniform1i(Ma.location,qa.bind());Wa=Ba.instances;for(g=0;g<b;++g){h=a[g];var $c,Sb,fe,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,
rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,Id,ye,Yc,ke,ie,ve,te,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,Xe,ze,If,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,Jd,Ld,Md,he,Fe,we,me,Ye,Oe,Le,qe,Ce,Ge,He,Ie,De,Gd,Pd,Wd,Zd,Je,zd,Nd,Ae,Ke,ff,Ve,Pe,Me,Ue,Te,Qe,Re,Od,Td,Se,gf,mf,cf,hf,jf,kf,qf,nf,rf,Af,Bf,Ne,Be,of,pf,Cf,Ff,zf,Df,Ef,vf,wf,uf,xf,yf,Hf,Jf,Kf,Lf,sf,Qf,Gf,tf;$c=h.viewport;Sb=$c.x|0;fe=$c.y|0;Zb="width"in $c?$c.width|0:L.framebufferWidth-Sb;Tb="height"in $c?$c.height|
0:L.framebufferHeight-fe;ld=L.viewportWidth;L.viewportWidth=Zb;Eb=L.viewportHeight;L.viewportHeight=Tb;C.viewport(Sb,fe,Zb,Tb);Qd[0]=Sb;Qd[1]=fe;Qd[2]=Zb;Qd[3]=Tb;La=h.viewport;nb=La.x|0;sb=La.y|0;gb="width"in La?La.width|0:L.framebufferWidth-nb;Na="height"in La?La.height|0:L.framebufferHeight-sb;C.scissor(nb,sb,gb,Na);se[0]=nb;se[1]=sb;se[2]=gb;se[3]=Na;oc=Za.call(this,L,h,g);Jb=!1;Vc=null;cb=0;lc=!1;ic=Fc=0;jb=1;kb=0;ta=5126;bb=Ta=va=ob=0;v(oc)?(Jb=!0,Vc=aa.createStream(34962,oc),ta=Vc.dtype):(Vc=
aa.getBuffer(oc))?ta=Vc.dtype:"constant"in oc?(jb=2,"number"===typeof oc.constant?(va=oc.constant,Ta=bb=ob=0):(va=0<oc.constant.length?oc.constant[0]:0,Ta=1<oc.constant.length?oc.constant[1]:0,bb=2<oc.constant.length?oc.constant[2]:0,ob=3<oc.constant.length?oc.constant[3]:0)):(Vc=v(oc.buffer)?aa.createStream(34962,oc.buffer):aa.getBuffer(oc.buffer),ta="type"in oc?Xd[oc.type]:Vc.dtype,lc=!!oc.normalized,ic=oc.size|0,Fc=oc.offset|0,kb=oc.stride|0,cb=oc.divisor|0);za=cc.location;db=vc[za];if(1===jb){db.buffer||
C.enableVertexAttribArray(za);Ia=ic||1;if(db.type!==ta||db.size!==Ia||db.buffer!==Vc||db.normalized!==lc||db.offset!==Fc||db.stride!==kb)C.bindBuffer(34962,Vc.buffer),C.vertexAttribPointer(za,Ia,ta,lc,kb,Fc),db.type=ta,db.size=Ia,db.buffer=Vc,db.normalized=lc,db.offset=Fc,db.stride=kb;db.divisor!==cb&&(f.vertexAttribDivisorANGLE(za,cb),db.divisor=cb)}else if(db.buffer&&(C.disableVertexAttribArray(za),db.buffer=null),db.x!==va||db.y!==Ta||db.z!==bb||db.w!==ob)C.vertexAttrib4f(za,va,Ta,bb,ob),db.x=
va,db.y=Ta,db.z=bb,db.w=ob;zb=yb.call(this,L,h,g);xb=!1;Qa=null;Ic=0;Kb=!1;Ub=Mb=0;wa=1;Ud=0;Ja=5126;xa=hb=eb=Pb=0;v(zb)?(xb=!0,Qa=aa.createStream(34962,zb),Ja=Qa.dtype):(Qa=aa.getBuffer(zb))?Ja=Qa.dtype:"constant"in zb?(wa=2,"number"===typeof zb.constant?(eb=zb.constant,hb=xa=Pb=0):(eb=0<zb.constant.length?zb.constant[0]:0,hb=1<zb.constant.length?zb.constant[1]:0,xa=2<zb.constant.length?zb.constant[2]:0,Pb=3<zb.constant.length?zb.constant[3]:0)):(Qa=v(zb.buffer)?aa.createStream(34962,zb.buffer):
aa.getBuffer(zb.buffer),Ja="type"in zb?Xd[zb.type]:Qa.dtype,Kb=!!zb.normalized,Ub=zb.size|0,Mb=zb.offset|0,Ud=zb.stride|0,Ic=zb.divisor|0);dc=kc.location;Da=vc[dc];if(1===wa){Da.buffer||C.enableVertexAttribArray(dc);pb=Ub||1;if(Da.type!==Ja||Da.size!==pb||Da.buffer!==Qa||Da.normalized!==Kb||Da.offset!==Mb||Da.stride!==Ud)C.bindBuffer(34962,Qa.buffer),C.vertexAttribPointer(dc,pb,Ja,Kb,Ud,Mb),Da.type=Ja,Da.size=pb,Da.buffer=Qa,Da.normalized=Kb,Da.offset=Mb,Da.stride=Ud;Da.divisor!==Ic&&(f.vertexAttribDivisorANGLE(dc,
Ic),Da.divisor=Ic)}else if(Da.buffer&&(C.disableVertexAttribArray(dc),Da.buffer=null),Da.x!==eb||Da.y!==hb||Da.z!==xa||Da.w!==Pb)C.vertexAttrib4f(dc,eb,hb,xa,Pb),Da.x=eb,Da.y=hb,Da.z=xa,Da.w=Pb;qb=Bb.call(this,L,h,g);Xa=!1;Ya=null;mc=0;ed=!1;Ua=sc=0;Nb=1;ad=0;Fa=5126;lb=Aa=Oa=wc=0;v(qb)?(Xa=!0,Ya=aa.createStream(34962,qb),Fa=Ya.dtype):(Ya=aa.getBuffer(qb))?Fa=Ya.dtype:"constant"in qb?(Nb=2,"number"===typeof qb.constant?(Oa=qb.constant,Aa=lb=wc=0):(Oa=0<qb.constant.length?qb.constant[0]:0,Aa=1<qb.constant.length?
qb.constant[1]:0,lb=2<qb.constant.length?qb.constant[2]:0,wc=3<qb.constant.length?qb.constant[3]:0)):(Ya=v(qb.buffer)?aa.createStream(34962,qb.buffer):aa.getBuffer(qb.buffer),Fa="type"in qb?Xd[qb.type]:Ya.dtype,ed=!!qb.normalized,Ua=qb.size|0,sc=qb.offset|0,ad=qb.stride|0,mc=qb.divisor|0);tb=nc.location;Ab=vc[tb];if(1===Nb){Ab.buffer||C.enableVertexAttribArray(tb);rb=Ua||1;if(Ab.type!==Fa||Ab.size!==rb||Ab.buffer!==Ya||Ab.normalized!==ed||Ab.offset!==sc||Ab.stride!==ad)C.bindBuffer(34962,Ya.buffer),
C.vertexAttribPointer(tb,rb,Fa,ed,ad,sc),Ab.type=Fa,Ab.size=rb,Ab.buffer=Ya,Ab.normalized=ed,Ab.offset=sc,Ab.stride=ad;Ab.divisor!==mc&&(f.vertexAttribDivisorANGLE(tb,mc),Ab.divisor=mc)}else if(Ab.buffer&&(C.disableVertexAttribArray(tb),Ab.buffer=null),Ab.x!==Oa||Ab.y!==Aa||Ab.z!==lb||Ab.w!==wc)C.vertexAttrib4f(tb,Oa,Aa,lb,wc),Ab.x=Oa,Ab.y=Aa,Ab.z=lb,Ab.w=wc;tc=ma.call(this,L,h,g);ub=!1;wd=null;rc=0;Hd=!1;jd=Lc=0;fd=1;Vb=0;ac=5126;mb=Yb=Ga=Qb=0;v(tc)?(ub=!0,wd=aa.createStream(34962,tc),ac=wd.dtype):
(wd=aa.getBuffer(tc))?ac=wd.dtype:"constant"in tc?(fd=2,"number"===typeof tc.constant?(Ga=tc.constant,Yb=mb=Qb=0):(Ga=0<tc.constant.length?tc.constant[0]:0,Yb=1<tc.constant.length?tc.constant[1]:0,mb=2<tc.constant.length?tc.constant[2]:0,Qb=3<tc.constant.length?tc.constant[3]:0)):(wd=v(tc.buffer)?aa.createStream(34962,tc.buffer):aa.getBuffer(tc.buffer),ac="type"in tc?Xd[tc.type]:wd.dtype,Hd=!!tc.normalized,jd=tc.size|0,Lc=tc.offset|0,Vb=tc.stride|0,rc=tc.divisor|0);vb=td.location;Ob=vc[vb];if(1===
fd){Ob.buffer||C.enableVertexAttribArray(vb);Rb=jd||1;if(Ob.type!==ac||Ob.size!==Rb||Ob.buffer!==wd||Ob.normalized!==Hd||Ob.offset!==Lc||Ob.stride!==Vb)C.bindBuffer(34962,wd.buffer),C.vertexAttribPointer(vb,Rb,ac,Hd,Vb,Lc),Ob.type=ac,Ob.size=Rb,Ob.buffer=wd,Ob.normalized=Hd,Ob.offset=Lc,Ob.stride=Vb;Ob.divisor!==rc&&(f.vertexAttribDivisorANGLE(vb,rc),Ob.divisor=rc)}else if(Ob.buffer&&(C.disableVertexAttribArray(vb),Ob.buffer=null),Ob.x!==Ga||Ob.y!==Yb||Ob.z!==mb||Ob.w!==Qb)C.vertexAttrib4f(vb,Ga,
Yb,mb,Qb),Ob.x=Ga,Ob.y=Yb,Ob.z=mb,Ob.w=Qb;ec=Pa.call(this,L,h,g);gc=!1;Rc=null;zc=0;Ac=!1;Mc=Cc=0;bd=1;Sc=0;Nc=5126;Gc=Oc=Fb=Lb=0;v(ec)?(gc=!0,Rc=aa.createStream(34962,ec),Nc=Rc.dtype):(Rc=aa.getBuffer(ec))?Nc=Rc.dtype:"constant"in ec?(bd=2,"number"===typeof ec.constant?(Fb=ec.constant,Oc=Gc=Lb=0):(Fb=0<ec.constant.length?ec.constant[0]:0,Oc=1<ec.constant.length?ec.constant[1]:0,Gc=2<ec.constant.length?ec.constant[2]:0,Lb=3<ec.constant.length?ec.constant[3]:0)):(Rc=v(ec.buffer)?aa.createStream(34962,
ec.buffer):aa.getBuffer(ec.buffer),Nc="type"in ec?Xd[ec.type]:Rc.dtype,Ac=!!ec.normalized,Mc=ec.size|0,Cc=ec.offset|0,Sc=ec.stride|0,zc=ec.divisor|0);Tc=ib.location;fc=vc[Tc];if(1===bd){fc.buffer||C.enableVertexAttribArray(Tc);Xc=Mc||1;if(fc.type!==Nc||fc.size!==Xc||fc.buffer!==Rc||fc.normalized!==Ac||fc.offset!==Cc||fc.stride!==Sc)C.bindBuffer(34962,Rc.buffer),C.vertexAttribPointer(Tc,Xc,Nc,Ac,Sc,Cc),fc.type=Nc,fc.size=Xc,fc.buffer=Rc,fc.normalized=Ac,fc.offset=Cc,fc.stride=Sc;fc.divisor!==zc&&(f.vertexAttribDivisorANGLE(Tc,
zc),fc.divisor=zc)}else if(fc.buffer&&(C.disableVertexAttribArray(Tc),fc.buffer=null),fc.x!==Fb||fc.y!==Oc||fc.z!==Gc||fc.w!==Lb)C.vertexAttrib4f(Tc,Fb,Oc,Gc,Lb),fc.x=Fb,fc.y=Oc,fc.z=Gc,fc.w=Lb;gd=Y.call(this,L,h,g);Id=!1;ye=null;Yc=0;ke=!1;ve=ie=0;te=1;be=0;Fd=5126;pd=Dc=id=Dd=0;v(gd)?(Id=!0,ye=aa.createStream(34962,gd),Fd=ye.dtype):(ye=aa.getBuffer(gd))?Fd=ye.dtype:"constant"in gd?(te=2,"number"===typeof gd.constant?(id=gd.constant,Dc=pd=Dd=0):(id=0<gd.constant.length?gd.constant[0]:0,Dc=1<gd.constant.length?
gd.constant[1]:0,pd=2<gd.constant.length?gd.constant[2]:0,Dd=3<gd.constant.length?gd.constant[3]:0)):(ye=v(gd.buffer)?aa.createStream(34962,gd.buffer):aa.getBuffer(gd.buffer),Fd="type"in gd?Xd[gd.type]:ye.dtype,ke=!!gd.normalized,ve=gd.size|0,ie=gd.offset|0,be=gd.stride|0,Yc=gd.divisor|0);kd=$a.location;dd=vc[kd];if(1===te){dd.buffer||C.enableVertexAttribArray(kd);md=ve||1;if(dd.type!==Fd||dd.size!==md||dd.buffer!==ye||dd.normalized!==ke||dd.offset!==ie||dd.stride!==be)C.bindBuffer(34962,ye.buffer),
C.vertexAttribPointer(kd,md,Fd,ke,be,ie),dd.type=Fd,dd.size=md,dd.buffer=ye,dd.normalized=ke,dd.offset=ie,dd.stride=be;dd.divisor!==Yc&&(f.vertexAttribDivisorANGLE(kd,Yc),dd.divisor=Yc)}else if(dd.buffer&&(C.disableVertexAttribArray(kd),dd.buffer=null),dd.x!==id||dd.y!==Dc||dd.z!==pd||dd.w!==Dd)C.vertexAttrib4f(kd,id,Dc,pd,Dd),dd.x=id,dd.y=Dc,dd.z=pd,dd.w=Dd;Ad=K.call(this,L,h,g);Bd=!1;Xe=null;ze=0;If=!1;ce=de=0;$d=1;oe=0;Yd=5126;pe=Wc=xc=ge=0;v(Ad)?(Bd=!0,Xe=aa.createStream(34962,Ad),Yd=Xe.dtype):
(Xe=aa.getBuffer(Ad))?Yd=Xe.dtype:"constant"in Ad?($d=2,"number"===typeof Ad.constant?(xc=Ad.constant,Wc=pe=ge=0):(xc=0<Ad.constant.length?Ad.constant[0]:0,Wc=1<Ad.constant.length?Ad.constant[1]:0,pe=2<Ad.constant.length?Ad.constant[2]:0,ge=3<Ad.constant.length?Ad.constant[3]:0)):(Xe=v(Ad.buffer)?aa.createStream(34962,Ad.buffer):aa.getBuffer(Ad.buffer),Yd="type"in Ad?Xd[Ad.type]:Xe.dtype,If=!!Ad.normalized,ce=Ad.size|0,de=Ad.offset|0,oe=Ad.stride|0,ze=Ad.divisor|0);je=P.location;Ed=vc[je];if(1===
$d){Ed.buffer||C.enableVertexAttribArray(je);Jd=ce||4;if(Ed.type!==Yd||Ed.size!==Jd||Ed.buffer!==Xe||Ed.normalized!==If||Ed.offset!==de||Ed.stride!==oe)C.bindBuffer(34962,Xe.buffer),C.vertexAttribPointer(je,Jd,Yd,If,oe,de),Ed.type=Yd,Ed.size=Jd,Ed.buffer=Xe,Ed.normalized=If,Ed.offset=de,Ed.stride=oe;Ed.divisor!==ze&&(f.vertexAttribDivisorANGLE(je,ze),Ed.divisor=ze)}else if(Ed.buffer&&(C.disableVertexAttribArray(je),Ed.buffer=null),Ed.x!==xc||Ed.y!==Wc||Ed.z!==pe||Ed.w!==ge)C.vertexAttrib4f(je,xc,
Wc,pe,ge),Ed.x=xc,Ed.y=Wc,Ed.z=pe,Ed.w=ge;Ld=M.call(this,L,h,g);Md=!1;he=null;Fe=0;we=!1;Ye=me=0;Oe=1;Le=0;qe=5126;Ie=He=Ge=Ce=0;v(Ld)?(Md=!0,he=aa.createStream(34962,Ld),qe=he.dtype):(he=aa.getBuffer(Ld))?qe=he.dtype:"constant"in Ld?(Oe=2,"number"===typeof Ld.constant?(Ge=Ld.constant,He=Ie=Ce=0):(Ge=0<Ld.constant.length?Ld.constant[0]:0,He=1<Ld.constant.length?Ld.constant[1]:0,Ie=2<Ld.constant.length?Ld.constant[2]:0,Ce=3<Ld.constant.length?Ld.constant[3]:0)):(he=v(Ld.buffer)?aa.createStream(34962,
Ld.buffer):aa.getBuffer(Ld.buffer),qe="type"in Ld?Xd[Ld.type]:he.dtype,we=!!Ld.normalized,Ye=Ld.size|0,me=Ld.offset|0,Le=Ld.stride|0,Fe=Ld.divisor|0);De=Wb.location;Gd=vc[De];if(1===Oe){Gd.buffer||C.enableVertexAttribArray(De);Pd=Ye||4;if(Gd.type!==qe||Gd.size!==Pd||Gd.buffer!==he||Gd.normalized!==we||Gd.offset!==me||Gd.stride!==Le)C.bindBuffer(34962,he.buffer),C.vertexAttribPointer(De,Pd,qe,we,Le,me),Gd.type=qe,Gd.size=Pd,Gd.buffer=he,Gd.normalized=we,Gd.offset=me,Gd.stride=Le;Gd.divisor!==Fe&&(f.vertexAttribDivisorANGLE(De,
Fe),Gd.divisor=Fe)}else if(Gd.buffer&&(C.disableVertexAttribArray(De),Gd.buffer=null),Gd.x!==Ge||Gd.y!==He||Gd.z!==Ie||Gd.w!==Ce)C.vertexAttrib4f(De,Ge,He,Ie,Ce),Gd.x=Ge,Gd.y=He,Gd.z=Ie,Gd.w=Ce;Wd=T.call(this,L,h,g);Zd=!1;Je=null;zd=0;Nd=!1;Ke=Ae=0;ff=1;Ve=0;Pe=5126;Qe=Te=Ue=Me=0;v(Wd)?(Zd=!0,Je=aa.createStream(34962,Wd),Pe=Je.dtype):(Je=aa.getBuffer(Wd))?Pe=Je.dtype:"constant"in Wd?(ff=2,"number"===typeof Wd.constant?(Ue=Wd.constant,Te=Qe=Me=0):(Ue=0<Wd.constant.length?Wd.constant[0]:0,Te=1<Wd.constant.length?
Wd.constant[1]:0,Qe=2<Wd.constant.length?Wd.constant[2]:0,Me=3<Wd.constant.length?Wd.constant[3]:0)):(Je=v(Wd.buffer)?aa.createStream(34962,Wd.buffer):aa.getBuffer(Wd.buffer),Pe="type"in Wd?Xd[Wd.type]:Je.dtype,Nd=!!Wd.normalized,Ke=Wd.size|0,Ae=Wd.offset|0,Ve=Wd.stride|0,zd=Wd.divisor|0);Re=la.location;Od=vc[Re];if(1===ff){Od.buffer||C.enableVertexAttribArray(Re);Td=Ke||1;if(Od.type!==Pe||Od.size!==Td||Od.buffer!==Je||Od.normalized!==Nd||Od.offset!==Ae||Od.stride!==Ve)C.bindBuffer(34962,Je.buffer),
C.vertexAttribPointer(Re,Td,Pe,Nd,Ve,Ae),Od.type=Pe,Od.size=Td,Od.buffer=Je,Od.normalized=Nd,Od.offset=Ae,Od.stride=Ve;Od.divisor!==zd&&(f.vertexAttribDivisorANGLE(Re,zd),Od.divisor=zd)}else if(Od.buffer&&(C.disableVertexAttribArray(Re),Od.buffer=null),Od.x!==Ue||Od.y!==Te||Od.z!==Qe||Od.w!==Me)C.vertexAttrib4f(Re,Ue,Te,Qe,Me),Od.x=Ue,Od.y=Te,Od.z=Qe,Od.w=Me;Se=L.pixelRatio;g&&gf===Se||(gf=Se,C.uniform1f(bc.location,Se));mf=O.call(this,L,h,g);cf=mf[0];jf=mf[1];g&&hf===cf&&kf===jf||(hf=cf,kf=jf,C.uniform2f(Ea.location,
cf,jf));qf=h.scale;nf=qf[0];Af=qf[1];g&&rf===nf&&Bf===Af||(rf=nf,Bf=Af,C.uniform2f(Ha.location,nf,Af));Ne=h.scaleFract;Be=Ne[0];pf=Ne[1];g&&of===Be&&Cf===pf||(of=Be,Cf=pf,C.uniform2f(W.location,Be,pf));Ff=h.translate;zf=Ff[0];Ef=Ff[1];g&&Df===zf&&vf===Ef||(Df=zf,vf=Ef,C.uniform2f(ea.location,zf,Ef));wf=h.translateFract;uf=wf[0];yf=wf[1];g&&xf===uf&&Hf===yf||(xf=uf,Hf=yf,C.uniform2f(sa.location,uf,yf));Jf=h.opacity;g&&Kf===Jf||(Kf=Jf,C.uniform1f(ca.location,Jf));Lf=h.elements;sf=null;(sf=(Qf=v(Lf))?
Gb.createStream(Lf):Gb.getElements(Lf))&&C.bindBuffer(34963,sf.buffer.buffer);Gf=h.offset;if(tf=h.count)0<Wa?sf?f.drawElementsInstancedANGLE(0,tf,sf.type,Gf<<(sf.type-5121>>1),Wa):f.drawArraysInstancedANGLE(0,Gf,tf,Wa):0>Wa&&(sf?C.drawElements(0,tf,sf.type,Gf<<(sf.type-5121>>1)):C.drawArrays(0,Gf,tf)),L.viewportWidth=ld,L.viewportHeight=Eb,Jb&&aa.destroyStream(Vc),xb&&aa.destroyStream(Qa),Xa&&aa.destroyStream(Ya),ub&&aa.destroyStream(wd),gc&&aa.destroyStream(Rc),Id&&aa.destroyStream(ye),Bd&&aa.destroyStream(Xe),
Md&&aa.destroyStream(he),Zd&&aa.destroyStream(Je),Qf&&Gb.destroyStream(sf)}qa.unbind();ja.dirty=!0;ha.setVAO(null);e&&(V.cpuTime+=performance.now()-d)},draw:function(b){var e,d,g,h,k,m,q,y,A,J,E,R,M,I,Q,K,G,S,O,U,T,N,ba,Y,Z,fa,pa,ua,ra,na,qa,ma,pc,Ka,Pa,Va,Ca,Za,fb,Ra,Hb,Wa,yb,Sb,Bb,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Id,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,
mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,Vd,ye,Yc,ke,ie,ve,te,be,Fd,Dd,id,Dc,pd,kd,dd,md,Ad,Bd,xe,ze,If,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,Jd,Ld,Md,he,Fe,we,me,Ye;e=Bc.next;e!==Bc.cur&&(e?C.bindFramebuffer(36160,e.framebuffer):C.bindFramebuffer(36160,null),Bc.cur=e);if(ja.dirty){var Oe,Le,qe,Ce,Ge,He,Ie,De,Gd,Pd,Wd,Zd,Je,zd,Nd,Ae,Ke,ff,Ve,Pe,Me,Ue,Te,Qe,Re,Od,Td,Se,gf,mf,cf,hf,jf,kf;Oe=ia.dither;Oe!==ja.dither&&(Oe?C.enable(3024):C.disable(3024),ja.dither=Oe);Le=w[0];qe=w[1];
if(Le!==da[0]||qe!==da[1])C.blendEquationSeparate(Le,qe),da[0]=Le,da[1]=qe;Ce=ia.depth_func;Ce!==ja.depth_func&&(C.depthFunc(Ce),ja.depth_func=Ce);Ge=jc[0];He=jc[1];if(Ge!==X[0]||He!==X[1])C.depthRange(Ge,He),X[0]=Ge,X[1]=He;Ie=ia.depth_mask;Ie!==ja.depth_mask&&(C.depthMask(Ie),ja.depth_mask=Ie);De=oa[0];Gd=oa[1];Pd=oa[2];Wd=oa[3];if(De!==l[0]||Gd!==l[1]||Pd!==l[2]||Wd!==l[3])C.colorMask(De,Gd,Pd,Wd),l[0]=De,l[1]=Gd,l[2]=Pd,l[3]=Wd;Zd=ia.cull_enable;Zd!==ja.cull_enable&&(Zd?C.enable(2884):C.disable(2884),
ja.cull_enable=Zd);Je=ia.cull_face;Je!==ja.cull_face&&(C.cullFace(Je),ja.cull_face=Je);zd=ia.frontFace;zd!==ja.frontFace&&(C.frontFace(zd),ja.frontFace=zd);Nd=ia.lineWidth;Nd!==ja.lineWidth&&(C.lineWidth(Nd),ja.lineWidth=Nd);Ae=ia.polygonOffset_enable;Ae!==ja.polygonOffset_enable&&(Ae?C.enable(32823):C.disable(32823),ja.polygonOffset_enable=Ae);Ke=n[0];ff=n[1];if(Ke!==Ib[0]||ff!==Ib[1])C.polygonOffset(Ke,ff),Ib[0]=Ke,Ib[1]=ff;Ve=ia.sample_alpha;Ve!==ja.sample_alpha&&(Ve?C.enable(32926):C.disable(32926),
ja.sample_alpha=Ve);Pe=ia.sample_enable;Pe!==ja.sample_enable&&(Pe?C.enable(32928):C.disable(32928),ja.sample_enable=Pe);Me=wb[0];Ue=wb[1];if(Me!==We[0]||Ue!==We[1])C.sampleCoverage(Me,Ue),We[0]=Me,We[1]=Ue;Te=ia.stencil_mask;Te!==ja.stencil_mask&&(C.stencilMask(Te),ja.stencil_mask=Te);Qe=ae[0];Re=ae[1];Od=ae[2];if(Qe!==cd[0]||Re!==cd[1]||Od!==cd[2])C.stencilFunc(Qe,Re,Od),cd[0]=Qe,cd[1]=Re,cd[2]=Od;Td=ee[0];Se=ee[1];gf=ee[2];mf=ee[3];if(Td!==ue[0]||Se!==ue[1]||gf!==ue[2]||mf!==ue[3])C.stencilOpSeparate(Td,
Se,gf,mf),ue[0]=Td,ue[1]=Se,ue[2]=gf,ue[3]=mf;cf=re[0];hf=re[1];jf=re[2];kf=re[3];if(cf!==sd[0]||hf!==sd[1]||jf!==sd[2]||kf!==sd[3])C.stencilOpSeparate(cf,hf,jf,kf),sd[0]=cf,sd[1]=hf,sd[2]=jf,sd[3]=kf}d=b.viewport;g=d.x|0;h=d.y|0;k="width"in d?d.width|0:L.framebufferWidth-g;m="height"in d?d.height|0:L.framebufferHeight-h;q=L.viewportWidth;L.viewportWidth=k;y=L.viewportHeight;L.viewportHeight=m;C.viewport(g,h,k,m);Qd[0]=g;Qd[1]=h;Qd[2]=k;Qd[3]=m;C.blendColor(0,0,0,1);D[0]=0;D[1]=0;D[2]=0;D[3]=1;C.enable(3042);
ja.blend_enable=!0;C.blendFuncSeparate(770,771,773,1);ya[0]=770;ya[1]=771;ya[2]=773;ya[3]=1;C.disable(2929);ja.depth_enable=!1;A=b.viewport;J=A.x|0;E=A.y|0;R="width"in A?A.width|0:L.framebufferWidth-J;M="height"in A?A.height|0:L.framebufferHeight-E;C.scissor(J,E,R,M);se[0]=J;se[1]=E;se[2]=R;se[3]=M;C.enable(3089);ja.scissor_enable=!0;C.disable(2960);ja.stencil_enable=!1;if(I=ja.profile)Q=performance.now(),V.count++;C.useProgram(p.program);K=Jc.angle_instanced_arrays;ha.setVAO(null);G=H.call(this,
L,b,0);S=!1;O=null;U=0;T=!1;ba=N=0;Y=1;Z=0;fa=5126;na=ra=ua=pa=0;v(G)?(S=!0,O=aa.createStream(34962,G),fa=O.dtype):(O=aa.getBuffer(G))?fa=O.dtype:"constant"in G?(Y=2,"number"===typeof G.constant?(ua=G.constant,ra=na=pa=0):(ua=0<G.constant.length?G.constant[0]:0,ra=1<G.constant.length?G.constant[1]:0,na=2<G.constant.length?G.constant[2]:0,pa=3<G.constant.length?G.constant[3]:0)):(O=v(G.buffer)?aa.createStream(34962,G.buffer):aa.getBuffer(G.buffer),fa="type"in G?Xd[G.type]:O.dtype,T=!!G.normalized,
ba=G.size|0,N=G.offset|0,Z=G.stride|0,U=G.divisor|0);qa=cc.location;ma=vc[qa];if(1===Y){ma.buffer||C.enableVertexAttribArray(qa);pc=ba||1;if(ma.type!==fa||ma.size!==pc||ma.buffer!==O||ma.normalized!==T||ma.offset!==N||ma.stride!==Z)C.bindBuffer(34962,O.buffer),C.vertexAttribPointer(qa,pc,fa,T,Z,N),ma.type=fa,ma.size=pc,ma.buffer=O,ma.normalized=T,ma.offset=N,ma.stride=Z;ma.divisor!==U&&(K.vertexAttribDivisorANGLE(qa,U),ma.divisor=U)}else if(ma.buffer&&(C.disableVertexAttribArray(qa),ma.buffer=null),
ma.x!==ua||ma.y!==ra||ma.z!==na||ma.w!==pa)C.vertexAttrib4f(qa,ua,ra,na,pa),ma.x=ua,ma.y=ra,ma.z=na,ma.w=pa;Ka=f.call(this,L,b,0);Pa=!1;Va=null;Ca=0;Za=!1;Ra=fb=0;Hb=1;Wa=0;yb=5126;Tb=Zb=Bb=Sb=0;v(Ka)?(Pa=!0,Va=aa.createStream(34962,Ka),yb=Va.dtype):(Va=aa.getBuffer(Ka))?yb=Va.dtype:"constant"in Ka?(Hb=2,"number"===typeof Ka.constant?(Bb=Ka.constant,Zb=Tb=Sb=0):(Bb=0<Ka.constant.length?Ka.constant[0]:0,Zb=1<Ka.constant.length?Ka.constant[1]:0,Tb=2<Ka.constant.length?Ka.constant[2]:0,Sb=3<Ka.constant.length?
Ka.constant[3]:0)):(Va=v(Ka.buffer)?aa.createStream(34962,Ka.buffer):aa.getBuffer(Ka.buffer),yb="type"in Ka?Xd[Ka.type]:Va.dtype,Za=!!Ka.normalized,Ra=Ka.size|0,fb=Ka.offset|0,Wa=Ka.stride|0,Ca=Ka.divisor|0);ld=kc.location;Eb=vc[ld];if(1===Hb){Eb.buffer||C.enableVertexAttribArray(ld);La=Ra||1;if(Eb.type!==yb||Eb.size!==La||Eb.buffer!==Va||Eb.normalized!==Za||Eb.offset!==fb||Eb.stride!==Wa)C.bindBuffer(34962,Va.buffer),C.vertexAttribPointer(ld,La,yb,Za,Wa,fb),Eb.type=yb,Eb.size=La,Eb.buffer=Va,Eb.normalized=
Za,Eb.offset=fb,Eb.stride=Wa;Eb.divisor!==Ca&&(K.vertexAttribDivisorANGLE(ld,Ca),Eb.divisor=Ca)}else if(Eb.buffer&&(C.disableVertexAttribArray(ld),Eb.buffer=null),Eb.x!==Bb||Eb.y!==Zb||Eb.z!==Tb||Eb.w!==Sb)C.vertexAttrib4f(ld,Bb,Zb,Tb,Sb),Eb.x=Bb,Eb.y=Zb,Eb.z=Tb,Eb.w=Sb;nb=a.call(this,L,b,0);sb=!1;gb=null;Na=0;oc=!1;Vc=Jb=0;cb=1;lc=0;Fc=5126;ta=kb=jb=ic=0;v(nb)?(sb=!0,gb=aa.createStream(34962,nb),Fc=gb.dtype):(gb=aa.getBuffer(nb))?Fc=gb.dtype:"constant"in nb?(cb=2,"number"===typeof nb.constant?(jb=
nb.constant,kb=ta=ic=0):(jb=0<nb.constant.length?nb.constant[0]:0,kb=1<nb.constant.length?nb.constant[1]:0,ta=2<nb.constant.length?nb.constant[2]:0,ic=3<nb.constant.length?nb.constant[3]:0)):(gb=v(nb.buffer)?aa.createStream(34962,nb.buffer):aa.getBuffer(nb.buffer),Fc="type"in nb?Xd[nb.type]:gb.dtype,oc=!!nb.normalized,Vc=nb.size|0,Jb=nb.offset|0,lc=nb.stride|0,Na=nb.divisor|0);ob=nc.location;va=vc[ob];if(1===cb){va.buffer||C.enableVertexAttribArray(ob);Ta=Vc||1;if(va.type!==Fc||va.size!==Ta||va.buffer!==
gb||va.normalized!==oc||va.offset!==Jb||va.stride!==lc)C.bindBuffer(34962,gb.buffer),C.vertexAttribPointer(ob,Ta,Fc,oc,lc,Jb),va.type=Fc,va.size=Ta,va.buffer=gb,va.normalized=oc,va.offset=Jb,va.stride=lc;va.divisor!==Na&&(K.vertexAttribDivisorANGLE(ob,Na),va.divisor=Na)}else if(va.buffer&&(C.disableVertexAttribArray(ob),va.buffer=null),va.x!==jb||va.y!==kb||va.z!==ta||va.w!==ic)C.vertexAttrib4f(ob,jb,kb,ta,ic),va.x=jb,va.y=kb,va.z=ta,va.w=ic;bb=u.call(this,L,b,0);za=!1;db=null;Ia=0;zb=!1;Qa=xb=0;
Ic=1;Kb=0;Mb=5126;Ja=Id=wa=Ub=0;v(bb)?(za=!0,db=aa.createStream(34962,bb),Mb=db.dtype):(db=aa.getBuffer(bb))?Mb=db.dtype:"constant"in bb?(Ic=2,"number"===typeof bb.constant?(wa=bb.constant,Id=Ja=Ub=0):(wa=0<bb.constant.length?bb.constant[0]:0,Id=1<bb.constant.length?bb.constant[1]:0,Ja=2<bb.constant.length?bb.constant[2]:0,Ub=3<bb.constant.length?bb.constant[3]:0)):(db=v(bb.buffer)?aa.createStream(34962,bb.buffer):aa.getBuffer(bb.buffer),Mb="type"in bb?Xd[bb.type]:db.dtype,zb=!!bb.normalized,Qa=bb.size|
0,xb=bb.offset|0,Kb=bb.stride|0,Ia=bb.divisor|0);Pb=td.location;eb=vc[Pb];if(1===Ic){eb.buffer||C.enableVertexAttribArray(Pb);hb=Qa||1;if(eb.type!==Mb||eb.size!==hb||eb.buffer!==db||eb.normalized!==zb||eb.offset!==xb||eb.stride!==Kb)C.bindBuffer(34962,db.buffer),C.vertexAttribPointer(Pb,hb,Mb,zb,Kb,xb),eb.type=Mb,eb.size=hb,eb.buffer=db,eb.normalized=zb,eb.offset=xb,eb.stride=Kb;eb.divisor!==Ia&&(K.vertexAttribDivisorANGLE(Pb,Ia),eb.divisor=Ia)}else if(eb.buffer&&(C.disableVertexAttribArray(Pb),eb.buffer=
null),eb.x!==wa||eb.y!==Id||eb.z!==Ja||eb.w!==Ub)C.vertexAttrib4f(Pb,wa,Id,Ja,Ub),eb.x=wa,eb.y=Id,eb.z=Ja,eb.w=Ub;xa=c.call(this,L,b,0);dc=!1;Da=null;pb=0;qb=!1;Ya=Xa=0;mc=1;ed=0;sc=5126;Fa=ad=Nb=Ua=0;v(xa)?(dc=!0,Da=aa.createStream(34962,xa),sc=Da.dtype):(Da=aa.getBuffer(xa))?sc=Da.dtype:"constant"in xa?(mc=2,"number"===typeof xa.constant?(Nb=xa.constant,ad=Fa=Ua=0):(Nb=0<xa.constant.length?xa.constant[0]:0,ad=1<xa.constant.length?xa.constant[1]:0,Fa=2<xa.constant.length?xa.constant[2]:0,Ua=3<xa.constant.length?
xa.constant[3]:0)):(Da=v(xa.buffer)?aa.createStream(34962,xa.buffer):aa.getBuffer(xa.buffer),sc="type"in xa?Xd[xa.type]:Da.dtype,qb=!!xa.normalized,Ya=xa.size|0,Xa=xa.offset|0,ed=xa.stride|0,pb=xa.divisor|0);wc=ib.location;Oa=vc[wc];if(1===mc){Oa.buffer||C.enableVertexAttribArray(wc);Aa=Ya||1;if(Oa.type!==sc||Oa.size!==Aa||Oa.buffer!==Da||Oa.normalized!==qb||Oa.offset!==Xa||Oa.stride!==ed)C.bindBuffer(34962,Da.buffer),C.vertexAttribPointer(wc,Aa,sc,qb,ed,Xa),Oa.type=sc,Oa.size=Aa,Oa.buffer=Da,Oa.normalized=
qb,Oa.offset=Xa,Oa.stride=ed;Oa.divisor!==pb&&(K.vertexAttribDivisorANGLE(wc,pb),Oa.divisor=pb)}else if(Oa.buffer&&(C.disableVertexAttribArray(wc),Oa.buffer=null),Oa.x!==Nb||Oa.y!==ad||Oa.z!==Fa||Oa.w!==Ua)C.vertexAttrib4f(wc,Nb,ad,Fa,Ua),Oa.x=Nb,Oa.y=ad,Oa.z=Fa,Oa.w=Ua;lb=r.call(this,L,b,0);tb=!1;Ab=null;rb=0;tc=!1;wd=ub=0;rc=1;Hd=0;Lc=5126;ac=Vb=fd=jd=0;v(lb)?(tb=!0,Ab=aa.createStream(34962,lb),Lc=Ab.dtype):(Ab=aa.getBuffer(lb))?Lc=Ab.dtype:"constant"in lb?(rc=2,"number"===typeof lb.constant?(fd=
lb.constant,Vb=ac=jd=0):(fd=0<lb.constant.length?lb.constant[0]:0,Vb=1<lb.constant.length?lb.constant[1]:0,ac=2<lb.constant.length?lb.constant[2]:0,jd=3<lb.constant.length?lb.constant[3]:0)):(Ab=v(lb.buffer)?aa.createStream(34962,lb.buffer):aa.getBuffer(lb.buffer),Lc="type"in lb?Xd[lb.type]:Ab.dtype,tc=!!lb.normalized,wd=lb.size|0,ub=lb.offset|0,Hd=lb.stride|0,rb=lb.divisor|0);Qb=$a.location;Ga=vc[Qb];if(1===rc){Ga.buffer||C.enableVertexAttribArray(Qb);Yb=wd||1;if(Ga.type!==Lc||Ga.size!==Yb||Ga.buffer!==
Ab||Ga.normalized!==tc||Ga.offset!==ub||Ga.stride!==Hd)C.bindBuffer(34962,Ab.buffer),C.vertexAttribPointer(Qb,Yb,Lc,tc,Hd,ub),Ga.type=Lc,Ga.size=Yb,Ga.buffer=Ab,Ga.normalized=tc,Ga.offset=ub,Ga.stride=Hd;Ga.divisor!==rb&&(K.vertexAttribDivisorANGLE(Qb,rb),Ga.divisor=rb)}else if(Ga.buffer&&(C.disableVertexAttribArray(Qb),Ga.buffer=null),Ga.x!==fd||Ga.y!==Vb||Ga.z!==ac||Ga.w!==jd)C.vertexAttrib4f(Qb,fd,Vb,ac,jd),Ga.x=fd,Ga.y=Vb,Ga.z=ac,Ga.w=jd;mb=z.call(this,L,b,0);vb=!1;Ob=null;Rb=0;ec=!1;Rc=gc=0;
zc=1;Ac=0;Cc=5126;Nc=Sc=bd=Mc=0;v(mb)?(vb=!0,Ob=aa.createStream(34962,mb),Cc=Ob.dtype):(Ob=aa.getBuffer(mb))?Cc=Ob.dtype:"constant"in mb?(zc=2,"number"===typeof mb.constant?(bd=mb.constant,Sc=Nc=Mc=0):(bd=0<mb.constant.length?mb.constant[0]:0,Sc=1<mb.constant.length?mb.constant[1]:0,Nc=2<mb.constant.length?mb.constant[2]:0,Mc=3<mb.constant.length?mb.constant[3]:0)):(Ob=v(mb.buffer)?aa.createStream(34962,mb.buffer):aa.getBuffer(mb.buffer),Cc="type"in mb?Xd[mb.type]:Ob.dtype,ec=!!mb.normalized,Rc=mb.size|
0,gc=mb.offset|0,Ac=mb.stride|0,Rb=mb.divisor|0);Lb=P.location;Fb=vc[Lb];if(1===zc){Fb.buffer||C.enableVertexAttribArray(Lb);Oc=Rc||4;if(Fb.type!==Cc||Fb.size!==Oc||Fb.buffer!==Ob||Fb.normalized!==ec||Fb.offset!==gc||Fb.stride!==Ac)C.bindBuffer(34962,Ob.buffer),C.vertexAttribPointer(Lb,Oc,Cc,ec,Ac,gc),Fb.type=Cc,Fb.size=Oc,Fb.buffer=Ob,Fb.normalized=ec,Fb.offset=gc,Fb.stride=Ac;Fb.divisor!==Rb&&(K.vertexAttribDivisorANGLE(Lb,Rb),Fb.divisor=Rb)}else if(Fb.buffer&&(C.disableVertexAttribArray(Lb),Fb.buffer=
null),Fb.x!==bd||Fb.y!==Sc||Fb.z!==Nc||Fb.w!==Mc)C.vertexAttrib4f(Lb,bd,Sc,Nc,Mc),Fb.x=bd,Fb.y=Sc,Fb.z=Nc,Fb.w=Mc;Gc=ka.call(this,L,b,0);Tc=!1;fc=null;Xc=0;gd=!1;ye=Vd=0;Yc=1;ke=0;ie=5126;Fd=be=te=ve=0;v(Gc)?(Tc=!0,fc=aa.createStream(34962,Gc),ie=fc.dtype):(fc=aa.getBuffer(Gc))?ie=fc.dtype:"constant"in Gc?(Yc=2,"number"===typeof Gc.constant?(te=Gc.constant,be=Fd=ve=0):(te=0<Gc.constant.length?Gc.constant[0]:0,be=1<Gc.constant.length?Gc.constant[1]:0,Fd=2<Gc.constant.length?Gc.constant[2]:0,ve=3<Gc.constant.length?
Gc.constant[3]:0)):(fc=v(Gc.buffer)?aa.createStream(34962,Gc.buffer):aa.getBuffer(Gc.buffer),ie="type"in Gc?Xd[Gc.type]:fc.dtype,gd=!!Gc.normalized,ye=Gc.size|0,Vd=Gc.offset|0,ke=Gc.stride|0,Xc=Gc.divisor|0);Dd=Wb.location;id=vc[Dd];if(1===Yc){id.buffer||C.enableVertexAttribArray(Dd);Dc=ye||4;if(id.type!==ie||id.size!==Dc||id.buffer!==fc||id.normalized!==gd||id.offset!==Vd||id.stride!==ke)C.bindBuffer(34962,fc.buffer),C.vertexAttribPointer(Dd,Dc,ie,gd,ke,Vd),id.type=ie,id.size=Dc,id.buffer=fc,id.normalized=
gd,id.offset=Vd,id.stride=ke;id.divisor!==Xc&&(K.vertexAttribDivisorANGLE(Dd,Xc),id.divisor=Xc)}else if(id.buffer&&(C.disableVertexAttribArray(Dd),id.buffer=null),id.x!==te||id.y!==be||id.z!==Fd||id.w!==ve)C.vertexAttrib4f(Dd,te,be,Fd,ve),id.x=te,id.y=be,id.z=Fd,id.w=ve;pd=F.call(this,L,b,0);kd=!1;dd=null;md=0;Ad=!1;xe=Bd=0;ze=1;If=0;de=5126;Yd=oe=$d=ce=0;v(pd)?(kd=!0,dd=aa.createStream(34962,pd),de=dd.dtype):(dd=aa.getBuffer(pd))?de=dd.dtype:"constant"in pd?(ze=2,"number"===typeof pd.constant?($d=
pd.constant,oe=Yd=ce=0):($d=0<pd.constant.length?pd.constant[0]:0,oe=1<pd.constant.length?pd.constant[1]:0,Yd=2<pd.constant.length?pd.constant[2]:0,ce=3<pd.constant.length?pd.constant[3]:0)):(dd=v(pd.buffer)?aa.createStream(34962,pd.buffer):aa.getBuffer(pd.buffer),de="type"in pd?Xd[pd.type]:dd.dtype,Ad=!!pd.normalized,xe=pd.size|0,Bd=pd.offset|0,If=pd.stride|0,md=pd.divisor|0);ge=la.location;xc=vc[ge];if(1===ze){xc.buffer||C.enableVertexAttribArray(ge);Wc=xe||1;if(xc.type!==de||xc.size!==Wc||xc.buffer!==
dd||xc.normalized!==Ad||xc.offset!==Bd||xc.stride!==If)C.bindBuffer(34962,dd.buffer),C.vertexAttribPointer(ge,Wc,de,Ad,If,Bd),xc.type=de,xc.size=Wc,xc.buffer=dd,xc.normalized=Ad,xc.offset=Bd,xc.stride=If;xc.divisor!==md&&(K.vertexAttribDivisorANGLE(ge,md),xc.divisor=md)}else if(xc.buffer&&(C.disableVertexAttribArray(ge),xc.buffer=null),xc.x!==$d||xc.y!==oe||xc.z!==Yd||xc.w!==ce)C.vertexAttrib4f(ge,$d,oe,Yd,ce),xc.x=$d,xc.y=oe,xc.z=Yd,xc.w=ce;C.uniform1i(x.location,!1);C.uniform1f(bc.location,L.pixelRatio);
pe=B.call(this,L,b,0);C.uniform2f(Ea.location,pe[0],pe[1]);je=b.scale;C.uniform2f(Ha.location,je[0],je[1]);Ed=b.scaleFract;C.uniform2f(W.location,Ed[0],Ed[1]);Jd=b.translate;C.uniform2f(ea.location,Jd[0],Jd[1]);Ld=b.translateFract;C.uniform2f(sa.location,Ld[0],Ld[1]);C.uniform1f(ca.location,b.opacity);C.uniform1i(Ma.location,t.bind());Md=b.elements;he=null;(he=(Fe=v(Md))?Gb.createStream(Md):Gb.getElements(Md))&&C.bindBuffer(34963,he.buffer.buffer);we=b.offset;if(me=b.count)Ye=Ba.instances,0<Ye?he?
K.drawElementsInstancedANGLE(0,me,he.type,we<<(he.type-5121>>1),Ye):K.drawArraysInstancedANGLE(0,we,me,Ye):0>Ye&&(he?C.drawElements(0,me,he.type,we<<(he.type-5121>>1)):C.drawArrays(0,we,me)),ja.dirty=!0,ha.setVAO(null),L.viewportWidth=q,L.viewportHeight=y,I&&(V.cpuTime+=performance.now()-Q),S&&aa.destroyStream(O),Pa&&aa.destroyStream(Va),sb&&aa.destroyStream(gb),za&&aa.destroyStream(db),dc&&aa.destroyStream(Da),tb&&aa.destroyStream(Ab),vb&&aa.destroyStream(Ob),Tc&&aa.destroyStream(fc),kd&&aa.destroyStream(dd),
t.unbind(),Fe&&Gb.destroyStream(he)},scope:function(a,c,d){var f,l,n,p,u,r,w,t,x,H,D,C,B,K,M,F,z,O,da,X,T,P,ga,W,ha,Y,ka,ca,oa,ea,la,ma,na,ya,qa,sa,Ha,Ea,Ma,Wa,Pa,wb,$a,vc,Ib,ib,Eb,La,nb,sb,gb,Na,yb,Jb,Za,cb,Bb,jc,td,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Wb,Kb,Mb,Ub,wa,cc,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,nc,sc,Ua,Nb,bc,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,kc,rc,Jc,Lc,ae,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd,sd,cd,Yc,Bc,Qd,ee,se,re,Fd,Dd,id,Dc,pd,kd,dd,md,
Ad,Bd,ue,xe,We,de,ce,$d,oe,Yd,ge,xc,Wc,pe,je,Ed,Jd,Ld,Md,he,Fe,we,me,Ye,Oe,Le,qe,Ce,Ge,He,Ie,De,Gd,Pd,Wd,Zd,Je,zd,Nd,Ae,Ke,ff,Ve,Pe,Me,Ue,Te,Qe,Re,Od,Td,Se,gf,mf,cf,hf,jf,kf,qf,nf,rf,Af,Bf,Ne,Be,of,pf,Cf,Ff,zf,Df,Ef,vf,wf,uf,xf,yf,Hf,Jf,Kf,Lf,sf,Qf,Gf,tf,dg,Rf,Sf,qg,df,$e,Mf,Nf,eg,fg,gg,hg,ig,Wf,Uf,Xf,Yf,Zf,jg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,ef,af,Of,Pf,kg,lg,mg,ng,og,$f,Vf,ag,bg,cg,pg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og;f=a.viewport;l=f.x|0;n=f.y|0;p="width"in f?f.width|0:L.framebufferWidth-
l;u="height"in f?f.height|0:L.framebufferHeight-n;r=L.viewportWidth;L.viewportWidth=p;w=L.viewportHeight;L.viewportHeight=u;t=Id[0];Id[0]=l;x=Id[1];Id[1]=n;H=Id[2];Id[2]=p;D=Id[3];Id[3]=u;C=ra[0];ra[0]=0;B=ra[1];ra[1]=0;K=ra[2];ra[2]=0;M=ra[3];ra[3]=1;F=ia.blend_enable;ia.blend_enable=!0;z=S[0];S[0]=770;O=S[1];S[1]=771;da=S[2];S[2]=773;X=S[3];S[3]=1;T=ia.depth_enable;ia.depth_enable=!1;P=a.viewport;ga=P.x|0;W=P.y|0;ha="width"in P?P.width|0:L.framebufferWidth-ga;Y="height"in P?P.height|0:L.framebufferHeight-
W;ka=ke[0];ke[0]=ga;ca=ke[1];ke[1]=W;oa=ke[2];ke[2]=ha;ea=ke[3];ke[3]=Y;la=ia.scissor_enable;ia.scissor_enable=!0;ma=ia.stencil_enable;ia.stencil_enable=!1;if(na=ja.profile)ya=performance.now(),V.count++;qa=a.elements;sa=null;sa=(Ha=v(qa))?Gb.createStream(qa):Gb.getElements(qa);Ea=Ba.elements;Ba.elements=sa;Ma=a.offset;Wa=Ba.offset;Ba.offset=Ma;Pa=a.count;wb=Ba.count;Ba.count=Pa;$a=Ba.primitive;Ba.primitive=0;vc=U[45];U[45]=!1;Ib=a.markerTexture;ib=U[48];U[48]=Ib;Eb=a.opacity;La=U[10];U[10]=Eb;nb=
A.call(this,L,a,d);sb=U[46];U[46]=nb;gb=U[47];U[47]=I;Na=L.pixelRatio;yb=U[34];U[34]=Na;Jb=a.scale;Za=U[6];U[6]=Jb;cb=a.scaleFract;Bb=U[7];U[7]=cb;jc=a.translate;td=U[8];U[8]=jc;jb=a.translateFract;kb=U[9];U[9]=jb;ta=y.call(this,L,a,d);ob=!1;va=null;Ta=0;bb=!1;db=za=0;Ia=1;zb=0;xb=5126;Mb=Kb=Wb=Qa=0;v(ta)?(ob=!0,va=aa.createStream(34962,ta),xb=va.dtype):(va=aa.getBuffer(ta))?xb=va.dtype:"constant"in ta?(Ia=2,"number"===typeof ta.constant?(Wb=ta.constant,Kb=Mb=Qa=0):(Wb=0<ta.constant.length?ta.constant[0]:
0,Kb=1<ta.constant.length?ta.constant[1]:0,Mb=2<ta.constant.length?ta.constant[2]:0,Qa=3<ta.constant.length?ta.constant[3]:0)):(va=v(ta.buffer)?aa.createStream(34962,ta.buffer):aa.getBuffer(ta.buffer),xb="type"in ta?Xd[ta.type]:va.dtype,bb=!!ta.normalized,db=ta.size|0,za=ta.offset|0,zb=ta.stride|0,Ta=ta.divisor|0);Ub=E.buffer;E.buffer=va;wa=E.divisor;E.divisor=Ta;cc=E.normalized;E.normalized=bb;Ja=E.offset;E.offset=za;Pb=E.size;E.size=db;eb=E.state;E.state=Ia;hb=E.stride;E.stride=zb;xa=E.type;E.type=
xb;dc=E.w;E.w=Qa;Da=E.x;E.x=Wb;pb=E.y;E.y=Kb;qb=E.z;E.z=Mb;Xa=N.call(this,L,a,d);Ya=!1;mc=null;nc=0;sc=!1;Nb=Ua=0;bc=1;Fa=0;wc=5126;tb=lb=Aa=Oa=0;v(Xa)?(Ya=!0,mc=aa.createStream(34962,Xa),wc=mc.dtype):(mc=aa.getBuffer(Xa))?wc=mc.dtype:"constant"in Xa?(bc=2,"number"===typeof Xa.constant?(Aa=Xa.constant,lb=tb=Oa=0):(Aa=0<Xa.constant.length?Xa.constant[0]:0,lb=1<Xa.constant.length?Xa.constant[1]:0,tb=2<Xa.constant.length?Xa.constant[2]:0,Oa=3<Xa.constant.length?Xa.constant[3]:0)):(mc=v(Xa.buffer)?aa.createStream(34962,
Xa.buffer):aa.getBuffer(Xa.buffer),wc="type"in Xa?Xd[Xa.type]:mc.dtype,sc=!!Xa.normalized,Nb=Xa.size|0,Ua=Xa.offset|0,Fa=Xa.stride|0,nc=Xa.divisor|0);Ab=G.buffer;G.buffer=mc;rb=G.divisor;G.divisor=nc;tc=G.normalized;G.normalized=sc;ub=G.offset;G.offset=Ua;kc=G.size;G.size=Nb;rc=G.state;G.state=bc;Jc=G.stride;G.stride=Fa;Lc=G.type;G.type=wc;ae=G.w;G.w=Oa;fd=G.x;G.x=Aa;Vb=G.y;G.y=lb;ac=G.z;G.z=tb;Qb=pc.call(this,L,a,d);Ga=!1;Yb=null;mb=0;vb=!1;Rb=Ob=0;ec=1;gc=0;Rc=5126;Mc=Cc=Ac=zc=0;v(Qb)?(Ga=!0,Yb=
aa.createStream(34962,Qb),Rc=Yb.dtype):(Yb=aa.getBuffer(Qb))?Rc=Yb.dtype:"constant"in Qb?(ec=2,"number"===typeof Qb.constant?(Ac=Qb.constant,Cc=Mc=zc=0):(Ac=0<Qb.constant.length?Qb.constant[0]:0,Cc=1<Qb.constant.length?Qb.constant[1]:0,Mc=2<Qb.constant.length?Qb.constant[2]:0,zc=3<Qb.constant.length?Qb.constant[3]:0)):(Yb=v(Qb.buffer)?aa.createStream(34962,Qb.buffer):aa.getBuffer(Qb.buffer),Rc="type"in Qb?Xd[Qb.type]:Yb.dtype,vb=!!Qb.normalized,Rb=Qb.size|0,Ob=Qb.offset|0,gc=Qb.stride|0,mb=Qb.divisor|
0);bd=k.buffer;k.buffer=Yb;Sc=k.divisor;k.divisor=mb;Nc=k.normalized;k.normalized=vb;Lb=k.offset;k.offset=Ob;Fb=k.size;k.size=Rb;Oc=k.state;k.state=ec;Gc=k.stride;k.stride=gc;Tc=k.type;k.type=Rc;fc=k.w;k.w=zc;Xc=k.x;k.x=Ac;gd=k.y;k.y=Cc;sd=k.z;k.z=Mc;cd=h.call(this,L,a,d);Yc=!1;Bc=null;Qd=0;ee=!1;re=se=0;Fd=1;Dd=0;id=5126;dd=kd=pd=Dc=0;v(cd)?(Yc=!0,Bc=aa.createStream(34962,cd),id=Bc.dtype):(Bc=aa.getBuffer(cd))?id=Bc.dtype:"constant"in cd?(Fd=2,"number"===typeof cd.constant?(pd=cd.constant,kd=dd=
Dc=0):(pd=0<cd.constant.length?cd.constant[0]:0,kd=1<cd.constant.length?cd.constant[1]:0,dd=2<cd.constant.length?cd.constant[2]:0,Dc=3<cd.constant.length?cd.constant[3]:0)):(Bc=v(cd.buffer)?aa.createStream(34962,cd.buffer):aa.getBuffer(cd.buffer),id="type"in cd?Xd[cd.type]:Bc.dtype,ee=!!cd.normalized,re=cd.size|0,se=cd.offset|0,Dd=cd.stride|0,Qd=cd.divisor|0);md=g.buffer;g.buffer=Bc;Ad=g.divisor;g.divisor=Qd;Bd=g.normalized;g.normalized=ee;ue=g.offset;g.offset=se;xe=g.size;g.size=re;We=g.state;g.state=
Fd;de=g.stride;g.stride=Dd;ce=g.type;g.type=id;$d=g.w;g.w=Dc;oe=g.x;g.x=pd;Yd=g.y;g.y=kd;ge=g.z;g.z=dd;xc=q.call(this,L,a,d);Wc=!1;pe=null;je=0;Ed=!1;Ld=Jd=0;Md=1;he=0;Fe=5126;Oe=Ye=me=we=0;v(xc)?(Wc=!0,pe=aa.createStream(34962,xc),Fe=pe.dtype):(pe=aa.getBuffer(xc))?Fe=pe.dtype:"constant"in xc?(Md=2,"number"===typeof xc.constant?(me=xc.constant,Ye=Oe=we=0):(me=0<xc.constant.length?xc.constant[0]:0,Ye=1<xc.constant.length?xc.constant[1]:0,Oe=2<xc.constant.length?xc.constant[2]:0,we=3<xc.constant.length?
xc.constant[3]:0)):(pe=v(xc.buffer)?aa.createStream(34962,xc.buffer):aa.getBuffer(xc.buffer),Fe="type"in xc?Xd[xc.type]:pe.dtype,Ed=!!xc.normalized,Ld=xc.size|0,Jd=xc.offset|0,he=xc.stride|0,je=xc.divisor|0);Le=Q.buffer;Q.buffer=pe;qe=Q.divisor;Q.divisor=je;Ce=Q.normalized;Q.normalized=Ed;Ge=Q.offset;Q.offset=Jd;He=Q.size;Q.size=Ld;Ie=Q.state;Q.state=Md;De=Q.stride;Q.stride=he;Gd=Q.type;Q.type=Fe;Pd=Q.w;Q.w=we;Wd=Q.x;Q.x=me;Zd=Q.y;Q.y=Ye;Je=Q.z;Q.z=Oe;zd=R.call(this,L,a,d);Nd=!1;Ae=null;Ke=0;ff=!1;
Pe=Ve=0;Me=1;Ue=0;Te=5126;Td=Od=Re=Qe=0;v(zd)?(Nd=!0,Ae=aa.createStream(34962,zd),Te=Ae.dtype):(Ae=aa.getBuffer(zd))?Te=Ae.dtype:"constant"in zd?(Me=2,"number"===typeof zd.constant?(Re=zd.constant,Od=Td=Qe=0):(Re=0<zd.constant.length?zd.constant[0]:0,Od=1<zd.constant.length?zd.constant[1]:0,Td=2<zd.constant.length?zd.constant[2]:0,Qe=3<zd.constant.length?zd.constant[3]:0)):(Ae=v(zd.buffer)?aa.createStream(34962,zd.buffer):aa.getBuffer(zd.buffer),Te="type"in zd?Xd[zd.type]:Ae.dtype,ff=!!zd.normalized,
Pe=zd.size|0,Ve=zd.offset|0,Ue=zd.stride|0,Ke=zd.divisor|0);Se=m.buffer;m.buffer=Ae;gf=m.divisor;m.divisor=Ke;mf=m.normalized;m.normalized=ff;cf=m.offset;m.offset=Ve;hf=m.size;m.size=Pe;jf=m.state;m.state=Me;kf=m.stride;m.stride=Ue;qf=m.type;m.type=Te;nf=m.w;m.w=Qe;rf=m.x;m.x=Re;Af=m.y;m.y=Od;Bf=m.z;m.z=Td;Ne=pa.call(this,L,a,d);Be=!1;of=null;pf=0;Cf=!1;zf=Ff=0;Df=1;Ef=0;vf=5126;yf=xf=uf=wf=0;v(Ne)?(Be=!0,of=aa.createStream(34962,Ne),vf=of.dtype):(of=aa.getBuffer(Ne))?vf=of.dtype:"constant"in Ne?
(Df=2,"number"===typeof Ne.constant?(uf=Ne.constant,xf=yf=wf=0):(uf=0<Ne.constant.length?Ne.constant[0]:0,xf=1<Ne.constant.length?Ne.constant[1]:0,yf=2<Ne.constant.length?Ne.constant[2]:0,wf=3<Ne.constant.length?Ne.constant[3]:0)):(of=v(Ne.buffer)?aa.createStream(34962,Ne.buffer):aa.getBuffer(Ne.buffer),vf="type"in Ne?Xd[Ne.type]:of.dtype,Cf=!!Ne.normalized,zf=Ne.size|0,Ff=Ne.offset|0,Ef=Ne.stride|0,pf=Ne.divisor|0);Hf=J.buffer;J.buffer=of;Jf=J.divisor;J.divisor=pf;Kf=J.normalized;J.normalized=Cf;
Lf=J.offset;J.offset=Ff;sf=J.size;J.size=zf;Qf=J.state;J.state=Df;Gf=J.stride;J.stride=Ef;tf=J.type;J.type=vf;dg=J.w;J.w=wf;Rf=J.x;J.x=uf;Sf=J.y;J.y=xf;qg=J.z;J.z=yf;df=fa.call(this,L,a,d);$e=!1;Mf=null;Nf=0;eg=!1;gg=fg=0;hg=1;ig=0;Wf=5126;Zf=Yf=Xf=Uf=0;v(df)?($e=!0,Mf=aa.createStream(34962,df),Wf=Mf.dtype):(Mf=aa.getBuffer(df))?Wf=Mf.dtype:"constant"in df?(hg=2,"number"===typeof df.constant?(Xf=df.constant,Yf=Zf=Uf=0):(Xf=0<df.constant.length?df.constant[0]:0,Yf=1<df.constant.length?df.constant[1]:
0,Zf=2<df.constant.length?df.constant[2]:0,Uf=3<df.constant.length?df.constant[3]:0)):(Mf=v(df.buffer)?aa.createStream(34962,df.buffer):aa.getBuffer(df.buffer),Wf="type"in df?Xd[df.type]:Mf.dtype,eg=!!df.normalized,gg=df.size|0,fg=df.offset|0,ig=df.stride|0,Nf=df.divisor|0);jg=b.buffer;b.buffer=Mf;rg=b.divisor;b.divisor=Nf;sg=b.normalized;b.normalized=eg;tg=b.offset;b.offset=fg;ug=b.size;b.size=gg;vg=b.state;b.state=hg;wg=b.stride;b.stride=ig;xg=b.type;b.type=Wf;yg=b.w;b.w=Uf;zg=b.x;b.x=Xf;Ag=b.y;
b.y=Yf;Bg=b.z;b.z=Zf;ef=e.call(this,L,a,d);af=!1;Of=null;Pf=0;kg=!1;mg=lg=0;ng=1;og=0;$f=5126;cg=bg=ag=Vf=0;v(ef)?(af=!0,Of=aa.createStream(34962,ef),$f=Of.dtype):(Of=aa.getBuffer(ef))?$f=Of.dtype:"constant"in ef?(ng=2,"number"===typeof ef.constant?(ag=ef.constant,bg=cg=Vf=0):(ag=0<ef.constant.length?ef.constant[0]:0,bg=1<ef.constant.length?ef.constant[1]:0,cg=2<ef.constant.length?ef.constant[2]:0,Vf=3<ef.constant.length?ef.constant[3]:0)):(Of=v(ef.buffer)?aa.createStream(34962,ef.buffer):aa.getBuffer(ef.buffer),
$f="type"in ef?Xd[ef.type]:Of.dtype,kg=!!ef.normalized,mg=ef.size|0,lg=ef.offset|0,og=ef.stride|0,Pf=ef.divisor|0);pg=ba.buffer;ba.buffer=Of;Cg=ba.divisor;ba.divisor=Pf;Dg=ba.normalized;ba.normalized=kg;Eg=ba.offset;ba.offset=lg;Fg=ba.size;ba.size=mg;Gg=ba.state;ba.state=ng;Hg=ba.stride;ba.stride=og;Ig=ba.type;ba.type=$f;Jg=ba.w;ba.w=Vf;Kg=ba.x;ba.x=ag;Lg=ba.y;ba.y=bg;Mg=ba.z;ba.z=cg;Ng=ua.vert;ua.vert=59;Og=ua.frag;ua.frag=58;ja.dirty=!0;c(L,a,d);L.viewportWidth=r;L.viewportHeight=w;Id[0]=t;Id[1]=
x;Id[2]=H;Id[3]=D;ra[0]=C;ra[1]=B;ra[2]=K;ra[3]=M;ia.blend_enable=F;S[0]=z;S[1]=O;S[2]=da;S[3]=X;ia.depth_enable=T;ke[0]=ka;ke[1]=ca;ke[2]=oa;ke[3]=ea;ia.scissor_enable=la;ia.stencil_enable=ma;na&&(V.cpuTime+=performance.now()-ya);Ha&&Gb.destroyStream(sa);Ba.elements=Ea;Ba.offset=Wa;Ba.count=wb;Ba.primitive=$a;U[45]=vc;U[48]=ib;U[10]=La;U[46]=sb;U[47]=gb;U[34]=yb;U[6]=Za;U[7]=Bb;U[8]=td;U[9]=kb;ob&&aa.destroyStream(va);E.buffer=Ub;E.divisor=wa;E.normalized=cc;E.offset=Ja;E.size=Pb;E.state=eb;E.stride=
hb;E.type=xa;E.w=dc;E.x=Da;E.y=pb;E.z=qb;Ya&&aa.destroyStream(mc);G.buffer=Ab;G.divisor=rb;G.normalized=tc;G.offset=ub;G.size=kc;G.state=rc;G.stride=Jc;G.type=Lc;G.w=ae;G.x=fd;G.y=Vb;G.z=ac;Ga&&aa.destroyStream(Yb);k.buffer=bd;k.divisor=Sc;k.normalized=Nc;k.offset=Lb;k.size=Fb;k.state=Oc;k.stride=Gc;k.type=Tc;k.w=fc;k.x=Xc;k.y=gd;k.z=sd;Yc&&aa.destroyStream(Bc);g.buffer=md;g.divisor=Ad;g.normalized=Bd;g.offset=ue;g.size=xe;g.state=We;g.stride=de;g.type=ce;g.w=$d;g.x=oe;g.y=Yd;g.z=ge;Wc&&aa.destroyStream(pe);
Q.buffer=Le;Q.divisor=qe;Q.normalized=Ce;Q.offset=Ge;Q.size=He;Q.state=Ie;Q.stride=De;Q.type=Gd;Q.w=Pd;Q.x=Wd;Q.y=Zd;Q.z=Je;Nd&&aa.destroyStream(Ae);m.buffer=Se;m.divisor=gf;m.normalized=mf;m.offset=cf;m.size=hf;m.state=jf;m.stride=kf;m.type=qf;m.w=nf;m.x=rf;m.y=Af;m.z=Bf;Be&&aa.destroyStream(of);J.buffer=Hf;J.divisor=Jf;J.normalized=Kf;J.offset=Lf;J.size=sf;J.state=Qf;J.stride=Gf;J.type=tf;J.w=dg;J.x=Rf;J.y=Sf;J.z=qg;$e&&aa.destroyStream(Mf);b.buffer=jg;b.divisor=rg;b.normalized=sg;b.offset=tg;b.size=
ug;b.state=vg;b.stride=wg;b.type=xg;b.w=yg;b.x=zg;b.y=Ag;b.z=Bg;af&&aa.destroyStream(Of);ba.buffer=pg;ba.divisor=Cg;ba.normalized=Dg;ba.offset=Eg;ba.size=Fg;ba.state=Gg;ba.stride=Hg;ba.type=Ig;ba.w=Jg;ba.x=Kg;ba.y=Lg;ba.z=Mg;ua.vert=Ng;ua.frag=Og;ja.dirty=!0}}},"$22,align,atlas,atlasDim,atlasSize,baseline,char,charOffset,charStep,color,em,opacity,position,positionOffset,scale,translate,viewport,width":function(d,z,p,H,f,a,u,c,r,ga,N,F,B,t,A,I,y,E,Z,G,pc,k,h,g,q,Q,R,m,pa,J,fa,b,e,ba,na,Za,yb,Bb,ma,
Pa){var Y,K,M,T,qa,O,Wb,$a,P,x,la,ca,Ea,Ma,bc,Ha,W,ib,ea,sa,cc,nc,kc,td,vc,aa,L,ja,Ba,Gb,Jc,Bc,C,v,ia,ua,U,ha,ra,D,w;Y=d.attributes;K=d.buffer;M=d.context;T=d.current;qa=d.draw;O=d.elements;Wb=d.extensions;$a=d.framebuffer;P=d.gl;x=d.isBufferArgs;la=d.next;ca=d.shader;Ea=d.uniforms;Ma=d.vao;bc=la.blend_color;Ha=T.blend_color;W=la.blend_equation;ib=T.blend_equation;ea=la.blend_func;sa=T.blend_func;cc=la.colorMask;nc=T.colorMask;kc=la.depth_range;td=T.depth_range;vc=la.polygonOffset_offset;aa=T.polygonOffset_offset;
L=la.sample_coverage;ja=T.sample_coverage;Ba=la.scissor_box;Gb=T.scissor_box;Jc=la.stencil_func;Bc=T.stencil_func;C=la.stencil_opBack;v=T.stencil_opBack;ia=la.stencil_opFront;ua=T.stencil_opFront;U=la.viewport;ha=T.viewport;ra={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126};D={offset:4,stride:8};w={offset:0,stride:8};return{batch:function(a,c){var d,f,l,p,u,n,r,t,y,H,A,B,F;d=$a.next;d!==$a.cur&&(d?P.bindFramebuffer(36160,d.framebuffer):P.bindFramebuffer(36160,
null),$a.cur=d);if(T.dirty){var I,U,ga,N,ka,ca,ea,Ea,bc,lf,bf,yd,Ee,Rd,Sd,le,ne,rd,nd,vd,qd,hd,Uc,xd,Pc,Kc,qc,ab,hc,Cb,uc,Sa,Hc,$b,Zc,Cd,od,yc,Xb;I=la.dither;I!==T.dither&&(I?P.enable(3024):P.disable(3024),T.dither=I);U=W[0];ga=W[1];if(U!==ib[0]||ga!==ib[1])P.blendEquationSeparate(U,ga),ib[0]=U,ib[1]=ga;N=la.depth_func;N!==T.depth_func&&(P.depthFunc(N),T.depth_func=N);ka=kc[0];ca=kc[1];if(ka!==td[0]||ca!==td[1])P.depthRange(ka,ca),td[0]=ka,td[1]=ca;ea=la.depth_mask;ea!==T.depth_mask&&(P.depthMask(ea),
T.depth_mask=ea);Ea=cc[0];bc=cc[1];lf=cc[2];bf=cc[3];if(Ea!==nc[0]||bc!==nc[1]||lf!==nc[2]||bf!==nc[3])P.colorMask(Ea,bc,lf,bf),nc[0]=Ea,nc[1]=bc,nc[2]=lf,nc[3]=bf;yd=la.cull_enable;yd!==T.cull_enable&&(yd?P.enable(2884):P.disable(2884),T.cull_enable=yd);Ee=la.cull_face;Ee!==T.cull_face&&(P.cullFace(Ee),T.cull_face=Ee);Rd=la.frontFace;Rd!==T.frontFace&&(P.frontFace(Rd),T.frontFace=Rd);Sd=la.lineWidth;Sd!==T.lineWidth&&(P.lineWidth(Sd),T.lineWidth=Sd);le=la.polygonOffset_enable;le!==T.polygonOffset_enable&&
(le?P.enable(32823):P.disable(32823),T.polygonOffset_enable=le);ne=vc[0];rd=vc[1];if(ne!==aa[0]||rd!==aa[1])P.polygonOffset(ne,rd),aa[0]=ne,aa[1]=rd;nd=la.sample_alpha;nd!==T.sample_alpha&&(nd?P.enable(32926):P.disable(32926),T.sample_alpha=nd);vd=la.sample_enable;vd!==T.sample_enable&&(vd?P.enable(32928):P.disable(32928),T.sample_enable=vd);qd=L[0];hd=L[1];if(qd!==ja[0]||hd!==ja[1])P.sampleCoverage(qd,hd),ja[0]=qd,ja[1]=hd;Uc=la.stencil_mask;Uc!==T.stencil_mask&&(P.stencilMask(Uc),T.stencil_mask=
Uc);xd=Jc[0];Pc=Jc[1];Kc=Jc[2];if(xd!==Bc[0]||Pc!==Bc[1]||Kc!==Bc[2])P.stencilFunc(xd,Pc,Kc),Bc[0]=xd,Bc[1]=Pc,Bc[2]=Kc;qc=ia[0];ab=ia[1];hc=ia[2];Cb=ia[3];if(qc!==ua[0]||ab!==ua[1]||hc!==ua[2]||Cb!==ua[3])P.stencilOpSeparate(qc,ab,hc,Cb),ua[0]=qc,ua[1]=ab,ua[2]=hc,ua[3]=Cb;uc=C[0];Sa=C[1];Hc=C[2];$b=C[3];if(uc!==v[0]||Sa!==v[1]||Hc!==v[2]||$b!==v[3])P.stencilOpSeparate(uc,Sa,Hc,$b),v[0]=uc,v[1]=Sa,v[2]=Hc,v[3]=$b;Zc=la.scissor_enable;Zc!==T.scissor_enable&&(Zc?P.enable(3089):P.disable(3089),T.scissor_enable=
Zc);Cd=Ba[0];od=Ba[1];yc=Ba[2];Xb=Ba[3];if(Cd!==Gb[0]||od!==Gb[1]||yc!==Gb[2]||Xb!==Gb[3])P.scissor(Cd,od,yc,Xb),Gb[0]=Cd,Gb[1]=od,Gb[2]=yc,Gb[3]=Xb}f=this.viewport;l=f.x|0;p=f.y|0;u="width"in f?f.width|0:M.framebufferWidth-l;n="height"in f?f.height|0:M.framebufferHeight-p;r=M.viewportWidth;M.viewportWidth=u;t=M.viewportHeight;M.viewportHeight=n;P.viewport(l,p,u,n);ha[0]=l;ha[1]=p;ha[2]=u;ha[3]=n;P.blendColor(0,0,0,1);Ha[0]=0;Ha[1]=0;Ha[2]=0;Ha[3]=1;P.enable(3042);T.blend_enable=!0;P.blendFuncSeparate(770,
771,773,1);sa[0]=770;sa[1]=771;sa[2]=773;sa[3]=1;P.disable(2929);T.depth_enable=!1;P.disable(2960);T.stencil_enable=!1;if(y=T.profile)H=performance.now(),z.count+=c;P.useProgram(E.program);A=Wb.angle_instanced_arrays;var Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb,fe,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb;Ma.setVAO(null);w.buffer=this.sizeBuffer;Ec=!1;Qc=null;Ka=0;Db=!1;Ca=
Va=0;ud=1;fb=0;Ra=5126;Sb=$c=Wa=Hb=0;x(w)?(Ec=!0,Qc=K.createStream(34962,w),Ra=Qc.dtype):(Qc=K.getBuffer(w))?Ra=Qc.dtype:"constant"in w?(ud=2,"number"===typeof w.constant?(Wa=w.constant,$c=Sb=Hb=0):(Wa=0<w.constant.length?w.constant[0]:0,$c=1<w.constant.length?w.constant[1]:0,Sb=2<w.constant.length?w.constant[2]:0,Hb=3<w.constant.length?w.constant[3]:0)):(Qc=x(w.buffer)?K.createStream(34962,w.buffer):K.getBuffer(w.buffer),Ra="type"in w?ra[w.type]:Qc.dtype,Db=!!w.normalized,Ca=w.size|0,Va=w.offset|
0,fb=w.stride|0,Ka=w.divisor|0);fe=Pa.location;Zb=Y[fe];if(1===ud){Zb.buffer||P.enableVertexAttribArray(fe);Tb=Ca||1;if(Zb.type!==Ra||Zb.size!==Tb||Zb.buffer!==Qc||Zb.normalized!==Db||Zb.offset!==Va||Zb.stride!==fb)P.bindBuffer(34962,Qc.buffer),P.vertexAttribPointer(fe,Tb,Ra,Db,fb,Va),Zb.type=Ra,Zb.size=Tb,Zb.buffer=Qc,Zb.normalized=Db,Zb.offset=Va,Zb.stride=fb;Zb.divisor!==Ka&&(A.vertexAttribDivisorANGLE(fe,Ka),Zb.divisor=Ka)}else if(Zb.buffer&&(P.disableVertexAttribArray(fe),Zb.buffer=null),Zb.x!==
Wa||Zb.y!==$c||Zb.z!==Sb||Zb.w!==Hb)P.vertexAttrib4f(fe,Wa,$c,Sb,Hb),Zb.x=Wa,Zb.y=$c,Zb.z=Sb,Zb.w=Hb;D.buffer=this.sizeBuffer;ld=!1;Eb=null;La=0;nb=!1;gb=sb=0;Na=1;oc=0;Jb=5126;Fc=lc=cb=Vc=0;x(D)?(ld=!0,Eb=K.createStream(34962,D),Jb=Eb.dtype):(Eb=K.getBuffer(D))?Jb=Eb.dtype:"constant"in D?(Na=2,"number"===typeof D.constant?(cb=D.constant,lc=Fc=Vc=0):(cb=0<D.constant.length?D.constant[0]:0,lc=1<D.constant.length?D.constant[1]:0,Fc=2<D.constant.length?D.constant[2]:0,Vc=3<D.constant.length?D.constant[3]:
0)):(Eb=x(D.buffer)?K.createStream(34962,D.buffer):K.getBuffer(D.buffer),Jb="type"in D?ra[D.type]:Eb.dtype,nb=!!D.normalized,gb=D.size|0,sb=D.offset|0,oc=D.stride|0,La=D.divisor|0);ic=J.location;jb=Y[ic];if(1===Na){jb.buffer||P.enableVertexAttribArray(ic);kb=gb||1;if(jb.type!==Jb||jb.size!==kb||jb.buffer!==Eb||jb.normalized!==nb||jb.offset!==sb||jb.stride!==oc)P.bindBuffer(34962,Eb.buffer),P.vertexAttribPointer(ic,kb,Jb,nb,oc,sb),jb.type=Jb,jb.size=kb,jb.buffer=Eb,jb.normalized=nb,jb.offset=sb,jb.stride=
oc;jb.divisor!==La&&(A.vertexAttribDivisorANGLE(ic,La),jb.divisor=La)}else if(jb.buffer&&(P.disableVertexAttribArray(ic),jb.buffer=null),jb.x!==cb||jb.y!==lc||jb.z!==Fc||jb.w!==Vc)P.vertexAttrib4f(ic,cb,lc,Fc,Vc),jb.x=cb,jb.y=lc,jb.z=Fc,jb.w=Vc;ta=this.charBuffer;ob=!1;va=null;Ta=0;bb=!1;db=za=0;Ia=1;zb=0;xb=5126;Mb=Kb=Ic=Qa=0;x(ta)?(ob=!0,va=K.createStream(34962,ta),xb=va.dtype):(va=K.getBuffer(ta))?xb=va.dtype:"constant"in ta?(Ia=2,"number"===typeof ta.constant?(Ic=ta.constant,Kb=Mb=Qa=0):(Ic=0<
ta.constant.length?ta.constant[0]:0,Kb=1<ta.constant.length?ta.constant[1]:0,Mb=2<ta.constant.length?ta.constant[2]:0,Qa=3<ta.constant.length?ta.constant[3]:0)):(va=x(ta.buffer)?K.createStream(34962,ta.buffer):K.getBuffer(ta.buffer),xb="type"in ta?ra[ta.type]:va.dtype,bb=!!ta.normalized,db=ta.size|0,za=ta.offset|0,zb=ta.stride|0,Ta=ta.divisor|0);Ub=pa.location;wa=Y[Ub];if(1===Ia){wa.buffer||P.enableVertexAttribArray(Ub);Ud=db||1;if(wa.type!==xb||wa.size!==Ud||wa.buffer!==va||wa.normalized!==bb||wa.offset!==
za||wa.stride!==zb)P.bindBuffer(34962,va.buffer),P.vertexAttribPointer(Ub,Ud,xb,bb,zb,za),wa.type=xb,wa.size=Ud,wa.buffer=va,wa.normalized=bb,wa.offset=za,wa.stride=zb;wa.divisor!==Ta&&(A.vertexAttribDivisorANGLE(Ub,Ta),wa.divisor=Ta)}else if(wa.buffer&&(P.disableVertexAttribArray(Ub),wa.buffer=null),wa.x!==Ic||wa.y!==Kb||wa.z!==Mb||wa.w!==Qa)P.vertexAttrib4f(Ub,Ic,Kb,Mb,Qa),wa.x=Ic,wa.y=Kb,wa.z=Mb,wa.w=Qa;Ja=this.position;Pb=!1;eb=null;hb=0;xa=!1;Da=dc=0;pb=1;qb=0;Xa=5126;sc=ed=mc=Ya=0;x(Ja)?(Pb=
!0,eb=K.createStream(34962,Ja),Xa=eb.dtype):(eb=K.getBuffer(Ja))?Xa=eb.dtype:"constant"in Ja?(pb=2,"number"===typeof Ja.constant?(mc=Ja.constant,ed=sc=Ya=0):(mc=0<Ja.constant.length?Ja.constant[0]:0,ed=1<Ja.constant.length?Ja.constant[1]:0,sc=2<Ja.constant.length?Ja.constant[2]:0,Ya=3<Ja.constant.length?Ja.constant[3]:0)):(eb=x(Ja.buffer)?K.createStream(34962,Ja.buffer):K.getBuffer(Ja.buffer),Xa="type"in Ja?ra[Ja.type]:eb.dtype,xa=!!Ja.normalized,Da=Ja.size|0,dc=Ja.offset|0,qb=Ja.stride|0,hb=Ja.divisor|
0);Ua=na.location;Nb=Y[Ua];if(1===pb){Nb.buffer||P.enableVertexAttribArray(Ua);ad=Da||2;if(Nb.type!==Xa||Nb.size!==ad||Nb.buffer!==eb||Nb.normalized!==xa||Nb.offset!==dc||Nb.stride!==qb)P.bindBuffer(34962,eb.buffer),P.vertexAttribPointer(Ua,ad,Xa,xa,qb,dc),Nb.type=Xa,Nb.size=ad,Nb.buffer=eb,Nb.normalized=xa,Nb.offset=dc,Nb.stride=qb;Nb.divisor!==hb&&(A.vertexAttribDivisorANGLE(Ua,hb),Nb.divisor=hb)}else if(Nb.buffer&&(P.disableVertexAttribArray(Ua),Nb.buffer=null),Nb.x!==mc||Nb.y!==ed||Nb.z!==sc||
Nb.w!==Ya)P.vertexAttrib4f(Ua,mc,ed,sc,Ya),Nb.x=mc,Nb.y=ed,Nb.z=sc,Nb.w=Ya;Fa=this.viewportArray;P.uniform4f(ma.location,Fa[0],Fa[1],Fa[2],Fa[3]);wc=this.scale;P.uniform2f(yb.location,wc[0],wc[1]);Oa=this.translate;P.uniform2f(Bb.location,Oa[0],Oa[1]);(Aa=qa.elements)?P.bindBuffer(34963,Aa.buffer.buffer):Ma.currentVAO&&(Aa=O.getElements(Ma.currentVAO.elements))&&P.bindBuffer(34963,Aa.buffer.buffer);lb=qa.instances;for(B=0;B<c;++B){F=a[B];var tb,Ab,rb,tc,ub,wd,rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,
Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc,gd;tb=Z.call(this,M,F,B);B&&Ab===tb||(Ab=tb,P.uniform1f(fa.location,tb));rb=G.call(this,M,F,B);B&&tc===rb||(tc=rb,P.uniform1f(e.location,rb));ub=F.align;B&&wd===ub||(wd=ub,P.uniform1f(g.location,ub));rc=F.baseline;B&&Hd===rc||(Hd=rc,P.uniform1f(m.location,rc));Lc=F.color;jd=Lc[0];Vb=Lc[1];Qb=Lc[2];Yb=Lc[3];B&&fd===jd&&ac===Vb&&Ga===Qb&&mb===Yb||(fd=jd,ac=Vb,Ga=Qb,mb=Yb,P.uniform4f(b.location,jd,Vb,Qb,Yb));vb=pc.call(this,M,F,B);Ob=vb[0];ec=vb[1];
B&&Rb===Ob&&gc===ec||(Rb=Ob,gc=ec,P.uniform2f(R.location,Ob,ec));Rc=k.call(this,M,F,B);zc=Rc[0];Cc=Rc[1];B&&Ac===zc&&Mc===Cc||(Ac=zc,Mc=Cc,P.uniform2f(Q.location,zc,Cc));bd=F.positionOffset;Sc=bd[0];Lb=bd[1];B&&Nc===Sc&&Fb===Lb||(Nc=Sc,Fb=Lb,P.uniform2f(Za.location,Sc,Lb));Oc=F.opacity;B&&Gc===Oc||(Gc=Oc,P.uniform1f(ba.location,Oc));(Tc=h.call(this,M,F,B))&&"framebuffer"===Tc._reglType&&(Tc=Tc.color[0]);fc=Tc._texture;P.uniform1i(q.location,fc.bind());Xc=F.offset;if(gd=F.count)0<lb?Aa?A.drawElementsInstancedANGLE(0,
gd,Aa.type,Xc<<(Aa.type-5121>>1),lb):A.drawArraysInstancedANGLE(0,Xc,gd,lb):0>lb&&(Aa?P.drawElements(0,gd,Aa.type,Xc<<(Aa.type-5121>>1)):P.drawArrays(0,Xc,gd)),fc.unbind()}Ec&&K.destroyStream(Qc);ld&&K.destroyStream(Eb);ob&&K.destroyStream(va);Pb&&K.destroyStream(eb);T.dirty=!0;Ma.setVAO(null);M.viewportWidth=r;M.viewportHeight=t;y&&(z.cpuTime+=performance.now()-H)},draw:function(d){var h,k,r,l,t,y,n,A,B,F,E,G,I,U,ga,N,ka,Z,ca,ea,Ea,pc,bc,lf,bf,yd,Ee,Rd,Sd,le,ne,rd,nd,vd,qd,hd,Uc,xd,Pc,Kc,qc,ab,hc,
Cb,uc,Sa,Hc,$b,Zc,Cd,od,yc,Xb,Ec,Qc,Ka,Db,Va,Ca,ud,fb,Ra,Hb,Wa,$c,Sb,fe,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db;h=$a.next;h!==$a.cur&&(h?P.bindFramebuffer(36160,h.framebuffer):P.bindFramebuffer(36160,null),$a.cur=h);if(T.dirty){var Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,rc;Ia=la.dither;Ia!==T.dither&&(Ia?P.enable(3024):P.disable(3024),T.dither=Ia);zb=W[0];xb=W[1];if(zb!==ib[0]||xb!==ib[1])P.blendEquationSeparate(zb,
xb),ib[0]=zb,ib[1]=xb;Qa=la.depth_func;Qa!==T.depth_func&&(P.depthFunc(Qa),T.depth_func=Qa);Ic=kc[0];Kb=kc[1];if(Ic!==td[0]||Kb!==td[1])P.depthRange(Ic,Kb),td[0]=Ic,td[1]=Kb;Mb=la.depth_mask;Mb!==T.depth_mask&&(P.depthMask(Mb),T.depth_mask=Mb);Ub=cc[0];wa=cc[1];Ud=cc[2];Ja=cc[3];if(Ub!==nc[0]||wa!==nc[1]||Ud!==nc[2]||Ja!==nc[3])P.colorMask(Ub,wa,Ud,Ja),nc[0]=Ub,nc[1]=wa,nc[2]=Ud,nc[3]=Ja;Pb=la.cull_enable;Pb!==T.cull_enable&&(Pb?P.enable(2884):P.disable(2884),T.cull_enable=Pb);eb=la.cull_face;eb!==
T.cull_face&&(P.cullFace(eb),T.cull_face=eb);hb=la.frontFace;hb!==T.frontFace&&(P.frontFace(hb),T.frontFace=hb);xa=la.lineWidth;xa!==T.lineWidth&&(P.lineWidth(xa),T.lineWidth=xa);dc=la.polygonOffset_enable;dc!==T.polygonOffset_enable&&(dc?P.enable(32823):P.disable(32823),T.polygonOffset_enable=dc);Da=vc[0];pb=vc[1];if(Da!==aa[0]||pb!==aa[1])P.polygonOffset(Da,pb),aa[0]=Da,aa[1]=pb;qb=la.sample_alpha;qb!==T.sample_alpha&&(qb?P.enable(32926):P.disable(32926),T.sample_alpha=qb);Xa=la.sample_enable;Xa!==
T.sample_enable&&(Xa?P.enable(32928):P.disable(32928),T.sample_enable=Xa);Ya=L[0];mc=L[1];if(Ya!==ja[0]||mc!==ja[1])P.sampleCoverage(Ya,mc),ja[0]=Ya,ja[1]=mc;ed=la.stencil_mask;ed!==T.stencil_mask&&(P.stencilMask(ed),T.stencil_mask=ed);sc=Jc[0];Ua=Jc[1];Nb=Jc[2];if(sc!==Bc[0]||Ua!==Bc[1]||Nb!==Bc[2])P.stencilFunc(sc,Ua,Nb),Bc[0]=sc,Bc[1]=Ua,Bc[2]=Nb;ad=ia[0];Fa=ia[1];wc=ia[2];Oa=ia[3];if(ad!==ua[0]||Fa!==ua[1]||wc!==ua[2]||Oa!==ua[3])P.stencilOpSeparate(ad,Fa,wc,Oa),ua[0]=ad,ua[1]=Fa,ua[2]=wc,ua[3]=
Oa;Aa=C[0];lb=C[1];tb=C[2];Ab=C[3];if(Aa!==v[0]||lb!==v[1]||tb!==v[2]||Ab!==v[3])P.stencilOpSeparate(Aa,lb,tb,Ab),v[0]=Aa,v[1]=lb,v[2]=tb,v[3]=Ab;rb=la.scissor_enable;rb!==T.scissor_enable&&(rb?P.enable(3089):P.disable(3089),T.scissor_enable=rb);tc=Ba[0];ub=Ba[1];wd=Ba[2];rc=Ba[3];if(tc!==Gb[0]||ub!==Gb[1]||wd!==Gb[2]||rc!==Gb[3])P.scissor(tc,ub,wd,rc),Gb[0]=tc,Gb[1]=ub,Gb[2]=wd,Gb[3]=rc}k=this.viewport;r=k.x|0;l=k.y|0;t="width"in k?k.width|0:M.framebufferWidth-r;y="height"in k?k.height|0:M.framebufferHeight-
l;n=M.viewportWidth;M.viewportWidth=t;A=M.viewportHeight;M.viewportHeight=y;P.viewport(r,l,t,y);ha[0]=r;ha[1]=l;ha[2]=t;ha[3]=y;P.blendColor(0,0,0,1);Ha[0]=0;Ha[1]=0;Ha[2]=0;Ha[3]=1;P.enable(3042);T.blend_enable=!0;P.blendFuncSeparate(770,771,773,1);sa[0]=770;sa[1]=771;sa[2]=773;sa[3]=1;P.disable(2929);T.depth_enable=!1;P.disable(2960);T.stencil_enable=!1;if(B=T.profile)F=performance.now(),z.count++;P.useProgram(p.program);E=Wb.angle_instanced_arrays;Ma.setVAO(null);w.buffer=this.sizeBuffer;G=!1;
I=null;U=0;ga=!1;ka=N=0;Z=1;ca=0;ea=5126;lf=bc=pc=Ea=0;x(w)?(G=!0,I=K.createStream(34962,w),ea=I.dtype):(I=K.getBuffer(w))?ea=I.dtype:"constant"in w?(Z=2,"number"===typeof w.constant?(pc=w.constant,bc=lf=Ea=0):(pc=0<w.constant.length?w.constant[0]:0,bc=1<w.constant.length?w.constant[1]:0,lf=2<w.constant.length?w.constant[2]:0,Ea=3<w.constant.length?w.constant[3]:0)):(I=x(w.buffer)?K.createStream(34962,w.buffer):K.getBuffer(w.buffer),ea="type"in w?ra[w.type]:I.dtype,ga=!!w.normalized,ka=w.size|0,N=
w.offset|0,ca=w.stride|0,U=w.divisor|0);bf=Pa.location;yd=Y[bf];if(1===Z){yd.buffer||P.enableVertexAttribArray(bf);Ee=ka||1;if(yd.type!==ea||yd.size!==Ee||yd.buffer!==I||yd.normalized!==ga||yd.offset!==N||yd.stride!==ca)P.bindBuffer(34962,I.buffer),P.vertexAttribPointer(bf,Ee,ea,ga,ca,N),yd.type=ea,yd.size=Ee,yd.buffer=I,yd.normalized=ga,yd.offset=N,yd.stride=ca;yd.divisor!==U&&(E.vertexAttribDivisorANGLE(bf,U),yd.divisor=U)}else if(yd.buffer&&(P.disableVertexAttribArray(bf),yd.buffer=null),yd.x!==
pc||yd.y!==bc||yd.z!==lf||yd.w!==Ea)P.vertexAttrib4f(bf,pc,bc,lf,Ea),yd.x=pc,yd.y=bc,yd.z=lf,yd.w=Ea;D.buffer=this.sizeBuffer;Rd=!1;Sd=null;le=0;ne=!1;nd=rd=0;vd=1;qd=0;hd=5126;Kc=Pc=xd=Uc=0;x(D)?(Rd=!0,Sd=K.createStream(34962,D),hd=Sd.dtype):(Sd=K.getBuffer(D))?hd=Sd.dtype:"constant"in D?(vd=2,"number"===typeof D.constant?(xd=D.constant,Pc=Kc=Uc=0):(xd=0<D.constant.length?D.constant[0]:0,Pc=1<D.constant.length?D.constant[1]:0,Kc=2<D.constant.length?D.constant[2]:0,Uc=3<D.constant.length?D.constant[3]:
0)):(Sd=x(D.buffer)?K.createStream(34962,D.buffer):K.getBuffer(D.buffer),hd="type"in D?ra[D.type]:Sd.dtype,ne=!!D.normalized,nd=D.size|0,rd=D.offset|0,qd=D.stride|0,le=D.divisor|0);qc=J.location;ab=Y[qc];if(1===vd){ab.buffer||P.enableVertexAttribArray(qc);hc=nd||1;if(ab.type!==hd||ab.size!==hc||ab.buffer!==Sd||ab.normalized!==ne||ab.offset!==rd||ab.stride!==qd)P.bindBuffer(34962,Sd.buffer),P.vertexAttribPointer(qc,hc,hd,ne,qd,rd),ab.type=hd,ab.size=hc,ab.buffer=Sd,ab.normalized=ne,ab.offset=rd,ab.stride=
qd;ab.divisor!==le&&(E.vertexAttribDivisorANGLE(qc,le),ab.divisor=le)}else if(ab.buffer&&(P.disableVertexAttribArray(qc),ab.buffer=null),ab.x!==xd||ab.y!==Pc||ab.z!==Kc||ab.w!==Uc)P.vertexAttrib4f(qc,xd,Pc,Kc,Uc),ab.x=xd,ab.y=Pc,ab.z=Kc,ab.w=Uc;Cb=this.charBuffer;uc=!1;Sa=null;Hc=0;$b=!1;Cd=Zc=0;od=1;yc=0;Xb=5126;Db=Ka=Qc=Ec=0;x(Cb)?(uc=!0,Sa=K.createStream(34962,Cb),Xb=Sa.dtype):(Sa=K.getBuffer(Cb))?Xb=Sa.dtype:"constant"in Cb?(od=2,"number"===typeof Cb.constant?(Qc=Cb.constant,Ka=Db=Ec=0):(Qc=0<
Cb.constant.length?Cb.constant[0]:0,Ka=1<Cb.constant.length?Cb.constant[1]:0,Db=2<Cb.constant.length?Cb.constant[2]:0,Ec=3<Cb.constant.length?Cb.constant[3]:0)):(Sa=x(Cb.buffer)?K.createStream(34962,Cb.buffer):K.getBuffer(Cb.buffer),Xb="type"in Cb?ra[Cb.type]:Sa.dtype,$b=!!Cb.normalized,Cd=Cb.size|0,Zc=Cb.offset|0,yc=Cb.stride|0,Hc=Cb.divisor|0);Va=pa.location;Ca=Y[Va];if(1===od){Ca.buffer||P.enableVertexAttribArray(Va);ud=Cd||1;if(Ca.type!==Xb||Ca.size!==ud||Ca.buffer!==Sa||Ca.normalized!==$b||Ca.offset!==
Zc||Ca.stride!==yc)P.bindBuffer(34962,Sa.buffer),P.vertexAttribPointer(Va,ud,Xb,$b,yc,Zc),Ca.type=Xb,Ca.size=ud,Ca.buffer=Sa,Ca.normalized=$b,Ca.offset=Zc,Ca.stride=yc;Ca.divisor!==Hc&&(E.vertexAttribDivisorANGLE(Va,Hc),Ca.divisor=Hc)}else if(Ca.buffer&&(P.disableVertexAttribArray(Va),Ca.buffer=null),Ca.x!==Qc||Ca.y!==Ka||Ca.z!==Db||Ca.w!==Ec)P.vertexAttrib4f(Va,Qc,Ka,Db,Ec),Ca.x=Qc,Ca.y=Ka,Ca.z=Db,Ca.w=Ec;fb=this.position;Ra=!1;Hb=null;Wa=0;$c=!1;fe=Sb=0;Zb=1;Tb=0;ld=5126;sb=nb=La=Eb=0;x(fb)?(Ra=
!0,Hb=K.createStream(34962,fb),ld=Hb.dtype):(Hb=K.getBuffer(fb))?ld=Hb.dtype:"constant"in fb?(Zb=2,"number"===typeof fb.constant?(La=fb.constant,nb=sb=Eb=0):(La=0<fb.constant.length?fb.constant[0]:0,nb=1<fb.constant.length?fb.constant[1]:0,sb=2<fb.constant.length?fb.constant[2]:0,Eb=3<fb.constant.length?fb.constant[3]:0)):(Hb=x(fb.buffer)?K.createStream(34962,fb.buffer):K.getBuffer(fb.buffer),ld="type"in fb?ra[fb.type]:Hb.dtype,$c=!!fb.normalized,fe=fb.size|0,Sb=fb.offset|0,Tb=fb.stride|0,Wa=fb.divisor|
0);gb=na.location;Na=Y[gb];if(1===Zb){Na.buffer||P.enableVertexAttribArray(gb);oc=fe||2;if(Na.type!==ld||Na.size!==oc||Na.buffer!==Hb||Na.normalized!==$c||Na.offset!==Sb||Na.stride!==Tb)P.bindBuffer(34962,Hb.buffer),P.vertexAttribPointer(gb,oc,ld,$c,Tb,Sb),Na.type=ld,Na.size=oc,Na.buffer=Hb,Na.normalized=$c,Na.offset=Sb,Na.stride=Tb;Na.divisor!==Wa&&(E.vertexAttribDivisorANGLE(gb,Wa),Na.divisor=Wa)}else if(Na.buffer&&(P.disableVertexAttribArray(gb),Na.buffer=null),Na.x!==La||Na.y!==nb||Na.z!==sb||
Na.w!==Eb)P.vertexAttrib4f(gb,La,nb,sb,Eb),Na.x=La,Na.y=nb,Na.z=sb,Na.w=Eb;Jb=H.call(this,M,d,0);P.uniform1f(fa.location,Jb);Vc=f.call(this,M,d,0);P.uniform1f(e.location,Vc);P.uniform1f(g.location,d.align);P.uniform1f(m.location,d.baseline);cb=this.viewportArray;P.uniform4f(ma.location,cb[0],cb[1],cb[2],cb[3]);lc=d.color;P.uniform4f(b.location,lc[0],lc[1],lc[2],lc[3]);Fc=a.call(this,M,d,0);P.uniform2f(R.location,Fc[0],Fc[1]);ic=u.call(this,M,d,0);P.uniform2f(Q.location,ic[0],ic[1]);jb=this.scale;
P.uniform2f(yb.location,jb[0],jb[1]);kb=this.translate;P.uniform2f(Bb.location,kb[0],kb[1]);ta=d.positionOffset;P.uniform2f(Za.location,ta[0],ta[1]);P.uniform1f(ba.location,d.opacity);(ob=c.call(this,M,d,0))&&"framebuffer"===ob._reglType&&(ob=ob.color[0]);va=ob._texture;P.uniform1i(q.location,va.bind());(Ta=qa.elements)?P.bindBuffer(34963,Ta.buffer.buffer):Ma.currentVAO&&(Ta=O.getElements(Ma.currentVAO.elements))&&P.bindBuffer(34963,Ta.buffer.buffer);bb=d.offset;if(za=d.count)db=qa.instances,0<db?
Ta?E.drawElementsInstancedANGLE(0,za,Ta.type,bb<<(Ta.type-5121>>1),db):E.drawArraysInstancedANGLE(0,bb,za,db):0>db&&(Ta?P.drawElements(0,za,Ta.type,bb<<(Ta.type-5121>>1)):P.drawArrays(0,bb,za)),T.dirty=!0,Ma.setVAO(null),M.viewportWidth=n,M.viewportHeight=A,B&&(z.cpuTime+=performance.now()-F),G&&K.destroyStream(I),Rd&&K.destroyStream(Sd),uc&&K.destroyStream(Sa),Ra&&K.destroyStream(Hb),va.unbind()},scope:function(a,b,c){var e,d,f,g,h,k,m,q,p,u,v,H,C,J,E,L,G,R,Q,O,aa,P,W,ha,Z,ba,Y,fa,ia,ja,pa,ua,ma,
na,sa,Ba,pc,Ha,Ma,Pa,$a,vc,ib,Sa,Za,yb,Gb,Bb,td,Wb,Xb,cc,nc,Ka,Db,Va,Ca,kc,fb,Ra,Hb,Wa,Bc,Sb,Jc,Zb,Tb,ld,Eb,La,nb,sb,gb,Na,oc,Jb,Vc,cb,lc,Fc,ic,jb,kb,ta,ob,va,Ta,bb,za,db,Ia,zb,xb,Qa,Ic,Kb,Mb,Ub,wa,Ud,Ja,Pb,eb,hb,xa,dc,Da,pb,qb,Xa,Ya,mc,ed,sc,Ua,Nb,ad,Fa,wc,Oa,Aa,lb,tb,Ab,rb,tc,ub,wd,rc,Hd,Lc,jd,fd,Vb,ac,Qb,Ga,Yb,mb,vb,Ob,Rb,ec,gc,Rc,zc,Ac,Cc,Mc,bd,Sc,Nc,Lb,Fb,Oc,Gc,Tc,fc,Xc;e=this.viewport;d=e.x|0;f=e.y|0;g="width"in e?e.width|0:M.framebufferWidth-d;h="height"in e?e.height|0:M.framebufferHeight-
f;k=M.viewportWidth;M.viewportWidth=g;m=M.viewportHeight;M.viewportHeight=h;q=U[0];U[0]=d;p=U[1];U[1]=f;u=U[2];U[2]=g;v=U[3];U[3]=h;H=bc[0];bc[0]=0;C=bc[1];bc[1]=0;J=bc[2];bc[2]=0;E=bc[3];bc[3]=1;L=la.blend_enable;la.blend_enable=!0;G=ea[0];ea[0]=770;R=ea[1];ea[1]=771;Q=ea[2];ea[2]=773;O=ea[3];ea[3]=1;aa=la.depth_enable;la.depth_enable=!1;P=la.stencil_enable;la.stencil_enable=!1;if(W=T.profile)ha=performance.now(),z.count++;Z=a.offset;ba=qa.offset;qa.offset=Z;Y=a.count;fa=qa.count;qa.count=Y;ia=qa.primitive;
qa.primitive=0;ja=a.align;pa=Ea[64];Ea[64]=ja;ua=r.call(this,M,a,c);ma=Ea[69];Ea[69]=ua;na=ga.call(this,M,a,c);sa=Ea[67];Ea[67]=na;Ba=N.call(this,M,a,c);pc=Ea[66];Ea[66]=Ba;Ha=a.baseline;Ma=Ea[65];Ea[65]=Ha;Pa=F.call(this,M,a,c);$a=Ea[62];Ea[62]=Pa;vc=a.color;ib=Ea[14];Ea[14]=vc;Sa=B.call(this,M,a,c);Za=Ea[63];Ea[63]=Sa;yb=a.opacity;Gb=Ea[10];Ea[10]=yb;Bb=a.positionOffset;td=Ea[68];Ea[68]=Bb;Wb=this.scale;Xb=Ea[6];Ea[6]=Wb;cc=this.translate;nc=Ea[8];Ea[8]=cc;Ka=this.viewportArray;Db=Ea[3];Ea[3]=Ka;
Va=this.charBuffer;Ca=!1;kc=null;fb=0;Ra=!1;Wa=Hb=0;Bc=1;Sb=0;Jc=5126;Eb=ld=Tb=Zb=0;x(Va)?(Ca=!0,kc=K.createStream(34962,Va),Jc=kc.dtype):(kc=K.getBuffer(Va))?Jc=kc.dtype:"constant"in Va?(Bc=2,"number"===typeof Va.constant?(Tb=Va.constant,ld=Eb=Zb=0):(Tb=0<Va.constant.length?Va.constant[0]:0,ld=1<Va.constant.length?Va.constant[1]:0,Eb=2<Va.constant.length?Va.constant[2]:0,Zb=3<Va.constant.length?Va.constant[3]:0)):(kc=x(Va.buffer)?K.createStream(34962,Va.buffer):K.getBuffer(Va.buffer),Jc="type"in
Va?ra[Va.type]:kc.dtype,Ra=!!Va.normalized,Wa=Va.size|0,Hb=Va.offset|0,Sb=Va.stride|0,fb=Va.divisor|0);La=t.buffer;t.buffer=kc;nb=t.divisor;t.divisor=fb;sb=t.normalized;t.normalized=Ra;gb=t.offset;t.offset=Hb;Na=t.size;t.size=Wa;oc=t.state;t.state=Bc;Jb=t.stride;t.stride=Sb;Vc=t.type;t.type=Jc;cb=t.w;t.w=Zb;lc=t.x;t.x=Tb;Fc=t.y;t.y=ld;ic=t.z;t.z=Eb;D.buffer=this.sizeBuffer;jb=!1;kb=null;ta=0;ob=!1;Ta=va=0;bb=1;za=0;db=5126;Qa=xb=zb=Ia=0;x(D)?(jb=!0,kb=K.createStream(34962,D),db=kb.dtype):(kb=K.getBuffer(D))?
db=kb.dtype:"constant"in D?(bb=2,"number"===typeof D.constant?(zb=D.constant,xb=Qa=Ia=0):(zb=0<D.constant.length?D.constant[0]:0,xb=1<D.constant.length?D.constant[1]:0,Qa=2<D.constant.length?D.constant[2]:0,Ia=3<D.constant.length?D.constant[3]:0)):(kb=x(D.buffer)?K.createStream(34962,D.buffer):K.getBuffer(D.buffer),db="type"in D?ra[D.type]:kb.dtype,ob=!!D.normalized,Ta=D.size|0,va=D.offset|0,za=D.stride|0,ta=D.divisor|0);Ic=A.buffer;A.buffer=kb;Kb=A.divisor;A.divisor=ta;Mb=A.normalized;A.normalized=
ob;Ub=A.offset;A.offset=va;wa=A.size;A.size=Ta;Ud=A.state;A.state=bb;Ja=A.stride;A.stride=za;Pb=A.type;A.type=db;eb=A.w;A.w=Ia;hb=A.x;A.x=zb;xa=A.y;A.y=xb;dc=A.z;A.z=Qa;Da=this.position;pb=!1;qb=null;Xa=0;Ya=!1;ed=mc=0;sc=1;Ua=0;Nb=5126;Oa=wc=Fa=ad=0;x(Da)?(pb=!0,qb=K.createStream(34962,Da),Nb=qb.dtype):(qb=K.getBuffer(Da))?Nb=qb.dtype:"constant"in Da?(sc=2,"number"===typeof Da.constant?(Fa=Da.constant,wc=Oa=ad=0):(Fa=0<Da.constant.length?Da.constant[0]:0,wc=1<Da.constant.length?Da.constant[1]:0,
Oa=2<Da.constant.length?Da.constant[2]:0,ad=3<Da.constant.length?Da.constant[3]:0)):(qb=x(Da.buffer)?K.createStream(34962,Da.buffer):K.getBuffer(Da.buffer),Nb="type"in Da?ra[Da.type]:qb.dtype,Ya=!!Da.normalized,ed=Da.size|0,mc=Da.offset|0,Ua=Da.stride|0,Xa=Da.divisor|0);Aa=I.buffer;I.buffer=qb;lb=I.divisor;I.divisor=Xa;tb=I.normalized;I.normalized=Ya;Ab=I.offset;I.offset=mc;rb=I.size;I.size=ed;tc=I.state;I.state=sc;ub=I.stride;I.stride=Ua;wd=I.type;I.type=Nb;rc=I.w;I.w=ad;Hd=I.x;I.x=Fa;Lc=I.y;I.y=
wc;jd=I.z;I.z=Oa;w.buffer=this.sizeBuffer;fd=!1;Vb=null;ac=0;Qb=!1;Yb=Ga=0;mb=1;vb=0;Ob=5126;Rc=gc=ec=Rb=0;x(w)?(fd=!0,Vb=K.createStream(34962,w),Ob=Vb.dtype):(Vb=K.getBuffer(w))?Ob=Vb.dtype:"constant"in w?(mb=2,"number"===typeof w.constant?(ec=w.constant,gc=Rc=Rb=0):(ec=0<w.constant.length?w.constant[0]:0,gc=1<w.constant.length?w.constant[1]:0,Rc=2<w.constant.length?w.constant[2]:0,Rb=3<w.constant.length?w.constant[3]:0)):(Vb=x(w.buffer)?K.createStream(34962,w.buffer):K.getBuffer(w.buffer),Ob="type"in
w?ra[w.type]:Vb.dtype,Qb=!!w.normalized,Yb=w.size|0,Ga=w.offset|0,vb=w.stride|0,ac=w.divisor|0);zc=y.buffer;y.buffer=Vb;Ac=y.divisor;y.divisor=ac;Cc=y.normalized;y.normalized=Qb;Mc=y.offset;y.offset=Ga;bd=y.size;y.size=Yb;Sc=y.state;y.state=mb;Nc=y.stride;y.stride=vb;Lb=y.type;y.type=Ob;Fb=y.w;y.w=Rb;Oc=y.x;y.x=ec;Gc=y.y;y.y=gc;Tc=y.z;y.z=Rc;fc=ca.vert;ca.vert=61;Xc=ca.frag;ca.frag=60;T.dirty=!0;b(M,a,c);M.viewportWidth=k;M.viewportHeight=m;U[0]=q;U[1]=p;U[2]=u;U[3]=v;bc[0]=H;bc[1]=C;bc[2]=J;bc[3]=
E;la.blend_enable=L;ea[0]=G;ea[1]=R;ea[2]=Q;ea[3]=O;la.depth_enable=aa;la.stencil_enable=P;W&&(z.cpuTime+=performance.now()-ha);qa.offset=ba;qa.count=fa;qa.primitive=ia;Ea[64]=pa;Ea[69]=ma;Ea[67]=sa;Ea[66]=pc;Ea[65]=Ma;Ea[62]=$a;Ea[14]=ib;Ea[63]=Za;Ea[10]=Gb;Ea[68]=td;Ea[6]=Xb;Ea[8]=nc;Ea[3]=Db;Ca&&K.destroyStream(kc);t.buffer=La;t.divisor=nb;t.normalized=sb;t.offset=gb;t.size=Na;t.state=oc;t.stride=Jb;t.type=Vc;t.w=cb;t.x=lc;t.y=Fc;t.z=ic;jb&&K.destroyStream(kb);A.buffer=Ic;A.divisor=Kb;A.normalized=
Mb;A.offset=Ub;A.size=wa;A.state=Ud;A.stride=Ja;A.type=Pb;A.w=eb;A.x=hb;A.y=xa;A.z=dc;pb&&K.destroyStream(qb);I.buffer=Aa;I.divisor=lb;I.normalized=tb;I.offset=Ab;I.size=rb;I.state=tc;I.stride=ub;I.type=wd;I.w=rc;I.x=Hd;I.y=Lc;I.z=jd;fd&&K.destroyStream(Vb);y.buffer=zc;y.divisor=Ac;y.normalized=Cc;y.offset=Mc;y.size=bd;y.state=Sc;y.stride=Nc;y.type=Lb;y.w=Fb;y.x=Oc;y.y=Gc;y.z=Tc;ca.vert=fc;ca.frag=Xc;T.dirty=!0}}}}},{}],25:[function(z,N,Za){var d=z("./sorted-object-keys");N.exports=function(z,p){for(var H=
d(p),f=0;f<H.length;++f)z[H[f]]=p[H[f]];return z}},{"./sorted-object-keys":34}],26:[function(z,N,Za){function d(d,f,a,p,c,r){for(var z=0;z<f;++z)for(var V=d[z],F=0;F<a;++F)for(var B=V[F],t=0;t<p;++t)c[r++]=B[t]}function V(p,f,a,u,c){for(var r=1,z=a+1;z<f.length;++z)r*=f[z];var N=f[a];if(4===f.length-a){var F=f[a+1],B=f[a+2];f=f[a+3];for(z=0;z<N;++z)d(p[z],F,B,f,u,c),c+=r}else for(z=0;z<N;++z)V(p[z],f,a+1,u,c),c+=r}var p=z("./pool");N.exports={shape:function(d){for(var f=[];d.length;d=d[0])f.push(d.length);
return f},flatten:function(H,f,a,u){var c=1;if(f.length)for(var r=0;r<f.length;++r)c*=f[r];else c=0;a=u||p.allocType(a,c);switch(f.length){case 0:break;case 1:u=f[0];for(f=0;f<u;++f)a[f]=H[f];break;case 2:u=f[0];f=f[1];for(r=c=0;r<u;++r)for(var z=H[r],N=0;N<f;++N)a[c++]=z[N];break;case 3:d(H,f[0],f[1],f[2],a,0);break;default:V(H,f,0,a,0)}return a}}},{"./pool":32}],27:[function(z,N,Za){var d=z("./is-typed-array");N.exports=function(z){return Array.isArray(z)||d(z)}},{"./is-typed-array":30}],28:[function(z,
N,Za){var d=z("./is-typed-array");N.exports=function(z){return!!z&&"object"===typeof z&&Array.isArray(z.shape)&&Array.isArray(z.stride)&&"number"===typeof z.offset&&z.shape.length===z.stride.length&&(Array.isArray(z.data)||d(z.data))}},{"./is-typed-array":30}],29:[function(z,N,Za){N.exports=function(d){return!(d&d-1)&&!!d}},{}],30:[function(z,N,Za){N.exports=function(d){return d instanceof Uint8Array||d instanceof Uint16Array||d instanceof Uint32Array||d instanceof Int8Array||d instanceof Int16Array||
d instanceof Int32Array||d instanceof Float32Array||d instanceof Float64Array||d instanceof Uint8ClampedArray}},{}],31:[function(z,N,Za){N.exports=function(d,z){for(var p=Array(d),H=0;H<d;++H)p[H]=z(H);return p}},{}],32:[function(z,N,Za){function d(d){var f,a;f=(65535<d)<<4;d>>>=f;a=(255<d)<<3;d>>>=a;f|=a;a=(15<d)<<2;d>>>=a;f|=a;a=(3<d)<<1;return f|a|d>>>a>>1}function V(){function z(f){a:{for(var c=16;268435456>=c;c*=16)if(f<=c){f=c;break a}f=0}c=a[d(f)>>2];return 0<c.length?c.pop():new ArrayBuffer(f)}
function f(f){a[d(f.byteLength)>>2].push(f)}var a=p(8,function(){return[]});return{alloc:z,free:f,allocType:function(a,c){var d=null;switch(a){case 5120:d=new Int8Array(z(c),0,c);break;case 5121:d=new Uint8Array(z(c),0,c);break;case 5122:d=new Int16Array(z(2*c),0,c);break;case 5123:d=new Uint16Array(z(2*c),0,c);break;case 5124:d=new Int32Array(z(4*c),0,c);break;case 5125:d=new Uint32Array(z(4*c),0,c);break;case 5126:d=new Float32Array(z(4*c),0,c);break;default:return null}return d.length!==c?d.subarray(0,
c):d},freeType:function(a){f(a.buffer)}}}var p=z("./loop");z=V();z.zero=V();N.exports=z},{"./loop":31}],33:[function(z,N,Za){N.exports={next:"function"===typeof requestAnimationFrame?function(d){return requestAnimationFrame(d)}:function(d){return setTimeout(d,16)},cancel:"function"===typeof cancelAnimationFrame?function(d){return cancelAnimationFrame(d)}:clearTimeout}},{}],34:[function(z,N,Za){N.exports=function(d){return Object.keys(d).sort()}},{}],35:[function(z,N,Za){var d=z("./pool"),V=new Float32Array(1),
p=new Uint32Array(V.buffer);N.exports=function(z){for(var f=d.allocType(5123,z.length),a=0;a<z.length;++a)if(isNaN(z[a]))f[a]=65535;else if(Infinity===z[a])f[a]=31744;else if(-Infinity===z[a])f[a]=64512;else{V[0]=z[a];var u=p[0],c=u>>>31<<15,r=(u<<1>>>24)-127,u=u>>13&1023;f[a]=-24>r?c:-14>r?c+(u+1024>>-14-r):15<r?c+31744:c+(r+15<<10)+u}return f}},{"./pool":32}],36:[function(z,N,Za){var d=z("./sorted-object-keys");N.exports=function(z){return d(z).map(function(d){return z[d]})}},{"./sorted-object-keys":34}],
37:[function(z,N,Za){function d(d,c,f){function p(){var a=window.innerWidth,c=window.innerHeight;d!==document.body&&(c=z.getBoundingClientRect(),a=c.right-c.left,c=c.bottom-c.top);z.width=f*a;z.height=f*c}var z=document.createElement("canvas");a(z.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"});d.appendChild(z);d===document.body&&(z.style.position="absolute",a(d.style,{margin:0,padding:0}));var F;d!==document.body&&"function"===typeof ResizeObserver?(F=new ResizeObserver(function(){setTimeout(p)}),
F.observe(d)):window.addEventListener("resize",p,!1);p();return{canvas:z,onDestroy:function(){F?F.disconnect():window.removeEventListener("resize",p);d.removeChild(z)}}}function V(a,c){function d(f){try{return a.getContext(f,c)}catch(p){return null}}return d("webgl")||d("experimental-webgl")||d("webgl-experimental")}function p(a){if("string"===typeof a)return a.split();f(Array.isArray(a),"invalid extension array");return a}function H(a){return"string"===typeof a?(f("undefined"!==typeof document,"not supported outside of DOM"),
document.querySelector(a)):a}var f=z("./util/check"),a=z("./util/extend");N.exports=function(a){var c=a||{},r,z,N,F;a={};var B=[],t=[],A="undefined"===typeof window?1:window.devicePixelRatio,I=!1,y=function(a){a&&f.raise(a)},E=function(){};"string"===typeof c?(f("undefined"!==typeof document,"selector queries only supported in DOM environments"),r=document.querySelector(c),f(r,"invalid query string for element")):"object"===typeof c?"string"===typeof c.nodeName&&"function"===typeof c.appendChild&&
"function"===typeof c.getBoundingClientRect?r=c:"function"===typeof c.drawArrays||"function"===typeof c.drawElements?(F=c,N=F.canvas):(f.constructor(c),"gl"in c?F=c.gl:"canvas"in c?N=H(c.canvas):"container"in c&&(z=H(c.container)),"attributes"in c&&(a=c.attributes,f.type(a,"object","invalid context attributes")),"extensions"in c&&(B=p(c.extensions)),"optionalExtensions"in c&&(t=p(c.optionalExtensions)),"onDone"in c&&(f.type(c.onDone,"function","invalid or missing onDone callback"),y=c.onDone),"profile"in
c&&(I=!!c.profile),"pixelRatio"in c&&(A=+c.pixelRatio,f(0<A,"invalid pixel ratio"))):f.raise("invalid arguments to regl");r&&("canvas"===r.nodeName.toLowerCase()?N=r:z=r);if(!F){if(!N){f("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");r=d(z||document.body,y,A);if(!r)return null;N=r.canvas;E=r.onDestroy}void 0===a.premultipliedAlpha&&(a.premultipliedAlpha=!0);F=V(N,a)}return F?{gl:F,canvas:N,container:z,extensions:B,optionalExtensions:t,pixelRatio:A,
profile:I,onDone:y,onDestroy:E}:(E(),y("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}},{"./util/check":21,"./util/extend":25}],38:[function(z,N,Za){function d(a){return a.charCodeAt(0)+(a.charCodeAt(1)<<8)+(a.charCodeAt(2)<<16)+(a.charCodeAt(3)<<24)}var V=d("DXT1"),p=d("DXT3"),H=d("DXT5"),f=d("DX10");N.exports=function(a){var d=new Int32Array(a,0,31);if(542327876!==d[0])throw Error("Invalid magic number in DDS header");if(!d[20]&4)throw Error("Unsupported format, must contain a FourCC code");
var c,r=d[21];switch(r){case V:c=8;a="dxt1";break;case p:c=16;a="dxt3";break;case H:c=16;a="dxt5";break;case 116:a="rgba32f";break;case f:var z=new Uint32Array(a.slice(128,148));a=z[0];if(3===z[1]&&2===a)a="rgba32f";else throw Error("Unsupported DX10 texture format "+a);break;default:throw Error("Unsupported FourCC code: "+String.fromCharCode(r&255,r>>8&255,r>>16&255,r>>24&255));}var z=d[2],N=1;z&131072&&(N=Math.max(1,d[7]));var F=!1;d[28]&512&&(F=!0);var B=d[4],t=d[3],d=d[1]+4,A=B,I=t,y=[];r===f&&
(d+=20);if(F)for(c=0;6>c;c++){if("rgba32f"!==a)throw Error("Only RGBA32f cubemaps are supported");for(var B=A,t=I,E=Math.log(B)/Math.log(2)+1,Z=0;Z<E;Z++)r=B*t*16,y.push({offset:d,length:r,shape:[B,t]}),Z<N&&(d+=r),B=Math.floor(B/2),t=Math.floor(t/2)}else for(Z=0;Z<N;Z++)r=Math.max(4,B)/4*Math.max(4,t)/4*c,y.push({offset:d,length:r,shape:[B,t]}),d+=r,B=Math.floor(B/2),t=Math.floor(t/2);return{shape:[A,I],images:y,format:a,flags:z,cubemap:F}}},{}],39:[function(z,N,Za){function d(a){throw Error("resl: "+
a);}function V(a,c,f){Object.keys(a).forEach(function(a){0>c.indexOf(a)&&d('invalid parameter "'+a+'" in '+f)})}function p(a,c){this.state=0;this.ready=!1;this.progress=0;this.name=a;this.cancel=c}var H=["manifest","onDone","onProgress","onError"],f=["type","src","stream","credentials","parser"],a=["onData","onDone"];N.exports=function(u){function c(a,c){if(a in u){var f=u[a];"function"!==typeof f&&d('invalid callback "'+a+'"');return f}return null}function r(a){function c(){if(!(2>r.readyState||
1===u.state||-1===u.state)){if(200!==r.status)return N('error loading resource "'+a.name+'"');if(2<r.readyState&&0===u.state){var f;f="binary"===a.type?r.response:r.responseText;if(t.data)try{m=t.data(f)}catch(g){return N(g)}else m=f}if(3<r.readyState&&0===u.state){if(t.done)try{m=t.done()}catch(g){return N(g)}u.state=1}y[d]=m;u.progress=.75*u.progress+.25;u.ready=a.stream&&!!m||1===u.state;F()}}var d=a.name,f=a.stream,q="binary"===a.type,t=a.parser,r=new XMLHttpRequest,m=null,u=new p(d,function(){1!==
u.state&&-1!==u.state&&(r.onreadystatechange=null,r.abort(),u.state=-1)});r.onreadystatechange=f?c:function(){4===r.readyState&&c()};q&&(r.responseType="arraybuffer");a.credentials&&(r.withCredentials=!0);r.open("GET",a.src,!0);r.send();return u}function z(a,c){function d(){if(0===A.state)if(t.data)try{B=t.data(c)}catch(a){return N(a)}else B=c}function f(a){d();y[m]=B;A.progress=a.lengthComputable?Math.max(A.progress,a.loaded/a.total):.75*A.progress+.25;F(m)}function q(){d();if(0===A.state){if(t.done)try{B=
t.done()}catch(a){return N(a)}A.state=1}A.progress=1;A.ready=!0;y[m]=B;u();F("finish "+m)}function r(){N('error loading asset "'+m+'"')}function u(){a.stream&&c.removeEventListener("progress",f);"image"===a.type?c.addEventListener("load",q):c.addEventListener("canplay",q);c.removeEventListener("error",r)}var m=a.name,t=a.parser,A=new p(m,function(){1!==A.state&&-1!==A.state&&(A.state=-1,u(),c.src="")}),B=c;a.stream&&c.addEventListener("progress",f);if("image"===a.type)c.addEventListener("load",q);
else{var b=!1,e=!1;c.addEventListener("loadedmetadata",function(){e=!0;b&&q()});c.addEventListener("canplay",function(){b=!0;e&&q()})}c.addEventListener("error",r);c.crossOrigin=a.credentials?"use-credentials":"anonymous";c.src=a.src;return A}function N(a){-1!==E&&1!==E&&(E=-1,G.forEach(function(a){a.cancel()}),I?"string"===typeof a?I(Error("resl: "+a)):I(a):console.error("resl error:",a))}function F(a){if(-1!==E&&1!==E){var c=0,d=0;G.forEach(function(a){a.ready&&(d+=1);c+=a.progress});d===G.length?
(E=1,t(y)):A&&A(c/G.length,a)}}"object"===typeof u&&u||d("invalid or missing configuration");V(u,H,"config");var B=u.manifest;"object"===typeof B&&B||d("missing manifest");var t=c("onDone");t||d("missing onDone() callback");var A=c("onProgress"),I=c("onError"),y={},E=0,Z={text:r,binary:function(a){return r(a)},image:function(a){return z(a,document.createElement("img"))},video:function(a){return z(a,document.createElement("video"))},audio:function(a){return z(a,document.createElement("audio"))}},G=
Object.keys(B).map(function(c){function k(a,c){if(a in h.parser){var f=h.parser[a];"function"!==typeof f&&d("invalid parser callback "+a+' for asset "'+a+'"');return f}return c}var h=B[c];"string"===typeof h?h={src:h}:"object"===typeof h&&h||d('invalid asset definition "'+c+'"');V(h,f,'asset "'+c+'"');var g={};"parser"in h&&("function"===typeof h.parser?g={data:h.parser}:"object"===typeof h.parser&&h.parser?(V(g,a,'parser for asset "'+c+'"'),"onData"in g||d('missing onData callback for parser in asset "'+
c+'"'),g={data:k("onData"),done:k("onDone")}):d('invalid parser for asset "'+c+'"'));return{name:c,type:function(a,f,g){a in h&&(g=h[a]);0>f.indexOf(g)&&d("invalid "+a+' "'+g+'" for asset "'+c+'", possible values: '+f);return g}("type",Object.keys(Z),"text"),stream:!!h.stream,credentials:!!h.credentials,src:function(a,f,g){a in h?g=h[a]:f&&d("missing "+a+' for asset "'+c+'"');"string"!==typeof g&&d("invalid "+a+' for asset "'+c+'", must be a string');return g}("src",!0,""),parser:g}}).map(function(a){return Z[a.type](a)});
0===G.length&&setTimeout(function(){F("done")},1)}},{}],40:[function(z,N,Za){function d(a,c){for(var d=0;d<a.length;++d)if(a[d]===c)return d;return-1}var V=z("./lib/util/check"),p=z("./lib/util/extend"),H=z("./lib/dynamic"),f=z("./lib/util/raf"),a=z("./lib/util/clock"),u=z("./lib/strings"),c=z("./lib/webgl"),r=z("./lib/extension"),ga=z("./lib/limits"),ka=z("./lib/buffer"),F=z("./lib/elements"),B=z("./lib/texture"),t=z("./lib/renderbuffer"),A=z("./lib/framebuffer"),I=z("./lib/attribute"),y=z("./lib/shader"),
E=z("./lib/read"),Z=z("./lib/core"),G=z("./lib/stats"),pc=z("./lib/timer");N.exports=function(k){function h(){if(0===ib.length)K&&K.update(),nc=null;else{nc=f.next(h);b();for(var a=ib.length-1;0<=a;--a){var c=ib[a];c&&c(O,null,0)}na.flush();K&&K.update()}}function g(){!nc&&0<ib.length&&(nc=f.next(h))}function q(){nc&&(f.cancel(h),nc=null)}function z(a){a.preventDefault();yb=!0;q();ea.forEach(function(a){a()})}function N(a){na.getError();yb=!1;Bb.restore();la.restore();$a.restore();ca.restore();Ea.restore();
Ma.restore();x.restore();K&&K.restore();bc.procs.refresh();g();sa.forEach(function(a){a()})}function m(a){function b(a,c){var d={},e={};Object.keys(a).forEach(function(b){var f=a[b];if(H.isDynamic(f))e[b]=H.unbox(f,b);else{if(c&&Array.isArray(f))for(var g=0;g<f.length;++g)if(H.isDynamic(f[g])){e[b]=H.unbox(f,b);return}d[b]=f}});return{dynamic:e,"static":d}}function c(a){for(;r.length<a;)r.push(null);return r}V(!!a,"invalid args to regl({...})");V.type(a,"object","invalid args to regl({...})");var d=
b(a.context||{},!0),e=b(a.uniforms||{},!0),f=b(a.attributes||{},!1);a=b(function(a){function b(a){if(a in c){var d=c[a];delete c[a];Object.keys(d).forEach(function(b){c[a+"."+b]=d[b]})}}var c=p({},a);delete c.uniforms;delete c.attributes;delete c.context;delete c.vao;"stencil"in c&&c.stencil.op&&(c.stencil.opBack=c.stencil.opFront=c.stencil.op,delete c.stencil.op);b("blend");b("depth");b("cull");b("stencil");b("polygonOffset");b("scissor");b("sample");"vao"in a&&(c.vao=a.vao);return c}(a),!1);var g=
{gpuTime:0,cpuTime:0,count:0},h=bc.compile(a,f,e,d,g),k=h.draw,m=h.batch,q=h.scope,r=[];return p(function(a,b){var d;yb&&V.raise("context lost");if("function"===typeof a)return q.call(this,null,a,0);if("function"===typeof b)if("number"===typeof a)for(d=0;d<a;++d)q.call(this,null,b,d);else if(Array.isArray(a))for(d=0;d<a.length;++d)q.call(this,a[d],b,d);else return q.call(this,a,b,0);else if("number"===typeof a){if(0<a)return m.call(this,c(a|0),a|0)}else if(Array.isArray(a)){if(a.length)return m.call(this,
a,a.length)}else return k.call(this,a)},{stats:g,destroy:function(){h.destroy()}})}function pa(a,b){var c=0;bc.procs.poll();var d=b.color;d&&(na.clearColor(+d[0]||0,+d[1]||0,+d[2]||0,+d[3]||0),c|=16384);"depth"in b&&(na.clearDepth(+b.depth),c|=256);"stencil"in b&&(na.clearStencil(b.stencil|0),c|=1024);V(!!c,"called regl.clear with no buffer specified");na.clear(c)}function J(a){V.type(a,"function","regl.frame() callback must be a function");ib.push(a);g();return{cancel:function(){function b(){var a=
d(ib,b);ib[a]=ib[ib.length-1];--ib.length;0>=ib.length&&q()}var c=d(ib,a);V(0<=c,"cannot cancel a frame twice");ib[c]=b}}}function fa(){var a=Ha.viewport,b=Ha.scissor_box;a[0]=a[1]=b[0]=b[1]=0;O.viewportWidth=O.framebufferWidth=O.drawingBufferWidth=a[2]=b[2]=na.drawingBufferWidth;O.viewportHeight=O.framebufferHeight=O.drawingBufferHeight=a[3]=b[3]=na.drawingBufferHeight}function b(){O.tick+=1;O.time=ba();fa();bc.procs.poll()}function e(){ca.refresh();fa();bc.procs.refresh();K&&K.update()}function ba(){return(a()-
M)/1E3}console.log("REGL args are:",k);k=c(k);console.log("REGL configs are:",k);if(!k)return null;var na=k.gl,Za=na.getContextAttributes(),yb=na.isContextLost(),Bb=r(na,k);if(!Bb)return null;var ma=u(),Pa=G(),Y=Bb.extensions,K=pc(na,Y),M=a(),T=na.drawingBufferWidth,qa=na.drawingBufferHeight,O={tick:0,time:0,viewportWidth:T,viewportHeight:qa,framebufferWidth:T,framebufferHeight:qa,drawingBufferWidth:T,drawingBufferHeight:qa,pixelRatio:k.pixelRatio},T={elements:null,primitive:4,count:-1,offset:0,instances:-1},
Wb=ga(na,Y),$a=ka(na,Pa,k,function(a){return x.destroyBuffer(a)}),P=F(na,Y,$a,Pa),x=I(na,Y,Wb,Pa,$a,P,T),la=y(na,ma,Pa,k),ca=B(na,Y,Wb,function(){bc.procs.poll()},O,Pa,k),Ea=t(na,Y,Wb,Pa,k),Ma=A(na,Y,Wb,ca,Ea,Pa),bc=Z(na,ma,Y,Wb,$a,P,ca,Ma,{},x,la,T,O,K,k),ma=E(na,Ma,bc.procs.poll,O,Za,Y,Wb),Ha=bc.next,W=na.canvas,ib=[],ea=[],sa=[],cc=[k.onDestroy],nc=null;W&&(W.addEventListener("webglcontextlost",z,!1),W.addEventListener("webglcontextrestored",N,!1));var kc=Ma.setFBO=m({framebuffer:H.define.call(null,
1,"framebuffer")});e();Za=p(m,{clear:function(a){V("object"===typeof a&&a,"regl.clear() takes an object as input");if("framebuffer"in a)if(a.framebuffer&&"framebufferCube"===a.framebuffer_reglType)for(var b=0;6>b;++b)kc(p({framebuffer:a.framebuffer.faces[b]},a),pa);else kc(a,pa);else pa(null,a)},prop:H.define.bind(null,1),context:H.define.bind(null,2),"this":H.define.bind(null,3),draw:m({}),buffer:function(a){return $a.create(a,34962,!1,!1)},elements:function(a){return P.create(a,!1)},texture:ca.create2D,
cube:ca.createCube,renderbuffer:Ea.create,framebuffer:Ma.create,framebufferCube:Ma.createCube,vao:x.createVAO,attributes:Za,frame:J,on:function(a,b){V.type(b,"function","listener callback must be a function");var c;switch(a){case "frame":return J(b);case "lost":c=ea;break;case "restore":c=sa;break;case "destroy":c=cc;break;default:V.raise("invalid event, must be one of frame,lost,restore,destroy")}c.push(b);return{cancel:function(){for(var a=0;a<c.length;++a)if(c[a]===b){c[a]=c[c.length-1];c.pop();
break}}}},limits:Wb,hasExtension:function(a){return 0<=Wb.extensions.indexOf(a.toLowerCase())},read:ma,destroy:function(){ib.length=0;q();W&&(W.removeEventListener("webglcontextlost",z),W.removeEventListener("webglcontextrestored",N));la.clear();Ma.clear();Ea.clear();x.clear();ca.clear();P.clear();$a.clear();K&&K.clear();cc.forEach(function(a){a()})},_gl:na,_refresh:e,poll:function(){b();K&&K.update()},now:ba,stats:Pa});k.onDone(null,Za);return Za}},{"./lib/attribute":2,"./lib/buffer":3,"./lib/core":8,
"./lib/dynamic":9,"./lib/elements":10,"./lib/extension":11,"./lib/framebuffer":12,"./lib/limits":13,"./lib/read":14,"./lib/renderbuffer":15,"./lib/shader":16,"./lib/stats":17,"./lib/strings":18,"./lib/texture":19,"./lib/timer":20,"./lib/util/check":21,"./lib/util/clock":22,"./lib/util/extend":25,"./lib/util/raf":33,"./lib/webgl":37}]},{},[1]);

        </script>
        </body>
      </html>